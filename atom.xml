<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://malachiten.github.io</id>
    <title>Malachite</title>
    <updated>2019-11-09T02:37:08.267Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://malachiten.github.io"/>
    <link rel="self" href="https://malachiten.github.io/atom.xml"/>
    <subtitle>å¤•ç„¼ã‘ã®ä¸­ã«å¸ã„è¾¼ã¾ã‚Œã¦æ¶ˆãˆã¦ã£ãŸ</subtitle>
    <logo>https://malachiten.github.io/images/avatar.png</logo>
    <icon>https://malachiten.github.io/favicon.ico</icon>
    <rights>All rights reserved 2019, Malachite</rights>
    <entry>
        <title type="html"><![CDATA[C++ STLå®¹å™¨ / bitset]]></title>
        <id>https://malachiten.github.io/post/c-stl-rong-qi-bitset</id>
        <link href="https://malachiten.github.io/post/c-stl-rong-qi-bitset">
        </link>
        <updated>2019-11-08T11:04:46.000Z</updated>
        <summary type="html"><![CDATA[<p>bitset æ˜¯ C++ STL ä¸­çš„ä¸€ç§ç‰¹æ®Šå®¹å™¨ã€‚æ­£å¦‚å®ƒçš„åç§°ï¼Œå®ƒæ˜¯ 0 æˆ– 1 çš„ä½çš„é›†åˆã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>bitset æ˜¯ C++ STL ä¸­çš„ä¸€ç§ç‰¹æ®Šå®¹å™¨ã€‚æ­£å¦‚å®ƒçš„åç§°ï¼Œå®ƒæ˜¯ 0 æˆ– 1 çš„ä½çš„é›†åˆã€‚</p>
<!-- more -->
<h2 id="ç®€ä»‹">ç®€ä»‹</h2>
<p>è¯¥å®¹å™¨ä½äºå¤´æ–‡ä»¶<code>&lt;bitset&gt;</code>ä¸­ã€‚èƒ½å¤Ÿå­˜å‚¨ä¸€ç³»åˆ—çš„ 0 å’Œ 1 çš„ä½ï¼Œå æ®çš„ç©ºé—´æ¯”<code>bool</code>æ•°ç»„å°‘ï¼ŒåŒæ—¶è¿˜èƒ½ç®€å•åœ°è½¬æ¢ä¸º<code>unsigned long</code>ã€<code>unsigned long long</code>å’Œ<code>string</code>ç±»å‹ã€‚</p>
<h2 id="æˆå‘˜å‡½æ•°">æˆå‘˜å‡½æ•°</h2>
<h3 id="å£°æ˜">å£°æ˜</h3>
<p>å£°æ˜ä¸€ä¸ª<code>bitset</code>çš„è¯­å¥å¦‚ä¸‹ï¼š</p>
<pre><code class="language-cpp">bitset&lt;length&gt; name;
</code></pre>
<p>å¿…é¡»æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œ<code>bitset</code> æœ‰é•¿åº¦é™åˆ¶ï¼Œä¸”è¿™ä¸ªé•¿åº¦é™åˆ¶æ˜¯å†™åœ¨<strong>å°–æ‹¬å·</strong>é‡Œçš„ï¼ä¸è¦å°†å…¶å†™åœ¨åç§»é‡è§£å¼•ç”¨è¿ç®—ç¬¦(ä¹Ÿå°±æ˜¯æ•°ç»„ä¸‹æ ‡<code>[]</code>)æˆ–è€…å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦(åœ†æ‹¬å·<code>()</code>)ä¸­ã€‚</p>
<blockquote>
<p>ä»…ä¾›äº†è§£ï¼šä¹‹æ‰€ä»¥æœ‰è¿™ç§ç‰¹æ®Šè®¾ç½®ï¼Œæ˜¯å› ä¸º<code>bitset</code>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼Œå…¶æ¨¡æ¿æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼(<code>const int</code>)è€Œä¸æ˜¯ä¸€ä¸ª<code>typename</code>ï¼Œä¹Ÿå°±äº§ç”Ÿè¿™ä¸ªå°–æ‹¬å·ä¸­çš„å†…å®¹ä¸å…¶å®ƒæ¨¡æ¿ç±»ä¸åŒçš„ç°è±¡ã€‚</p>
</blockquote>
<h3 id="æ„é€ ">æ„é€ </h3>
<p>STL å·²ç»æä¾›äº†å®ƒçš„èµ‹å€¼è¿ç®—ç¬¦é‡è½½ã€‚å¯ä»¥ç›´æ¥å°†æ­£æ•´æ•°å€¼(<code>unsigned int</code>ã€<code>unsigned short int</code>ã€<code>unsigned long int</code>ã€<code>unsigned long long int</code>)æˆ–èµ‹äºˆç»™å®ƒï¼Œå®ƒä¼šè‡ªåŠ¨è·å¾—è¡¨ç¤ºè¯¥æ•°å€¼çš„å¸ƒå°”ä½ã€‚ä¹Ÿèƒ½é€šè¿‡æ„é€ å‡½æ•°ç›´æ¥èµ‹äºˆå®ƒå¸ƒå°”æ•°ç»„çš„å€¼ã€‚ç”šè‡³å¯ä»¥ä½¿ç”¨ä¸€ä¸ª<code>string</code>ç±»å‹çš„ 01 ä¸²å¯¹å®ƒè¿›è¡Œæ„é€ ã€‚</p>
<p>æ„é€ æ–¹æ³•ï¼š</p>
<pre><code class="language-cpp">bitset&lt;length&gt; name = n; // n ä¸º`unsigned int`æˆ–`unsigned short int`æˆ–`unsigned long int`æˆ–`unsigned long long int
bitset&lt;length&gt; name(n); // n ä¸º`unsigned int`æˆ–`unsigned short int`æˆ–`unsigned long int`æˆ–`unsigned long long int
bitset&lt;length&gt; name(s); // s ä¸ºä¸€ä¸ª string ç±»å‹çš„ 01 ä¸²
bitset&lt;length&gt; name(b, pos, num); // b ä¸ºä¸€ä¸ªå¸ƒå°”æ•°ç»„ï¼Œposã€num ä¸ºä¸€ä¸ªæ•´æ•°ï¼Œbitset ä» b ç¬¬  pos ä½å¼€å§‹çš„ num ä¸ªä¸­è·å¾—å€¼ã€‚
</code></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”¨äºæ„é€ çš„ç±»å‹éœ€è¦åŒ¹é… bitset çš„é•¿åº¦ã€‚è¶…è¿‡ bitet é•¿åº¦çš„ç±»å‹å°†è¢«ä»é«˜ä½å¼€å§‹ä¸¢å¼ƒï¼</p>
<h3 id="è®¿é—®">è®¿é—®</h3>
<p>å®ƒæä¾›åç§»é‡è§£å¼•ç”¨è¿ç®—ç¬¦ï¼Œç”¨äºéšæœºè®¿é—®å…¶ä¸­çš„ä½ã€‚<strong>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå®ƒè‡ªå³å‘å·¦è®¿é—®</strong>ï¼Œä¸åŒäºæ•°ç»„å’Œå‘é‡çš„åç§»é‡è§£å¼•ç”¨è¿ç®—ç¬¦è‡ªå·¦å‘å³è®¿é—®ã€‚</p>
<h3 id="è¾“å‡º">è¾“å‡º</h3>
<p>å¯ä»¥ä½¿ç”¨è¾“å‡ºæ•°ç»„çš„æ–¹æ³•ï¼Œé€šè¿‡å¾ªç¯å’Œåç§»é‡è§£å¼•ç”¨è¿ç®—ç¬¦ç›´æ¥è¾“å‡ºã€‚</p>
<pre><code class="language-cpp">for(int i=length; i&gt;=0; i--){
    cout&lt;&lt;name[i]&lt;&lt;' ';
}
</code></pre>
<p>ä¸è¿‡ï¼Œå¦‚æœ<s>ä¸è¦æ±‚æ‰“å­—å¸¦ç©ºæ ¼</s>ï¼Œä½ ä¹Ÿå¯ä»¥å°è¯•ç›´æ¥è¾“å‡ºï¼š</p>
<pre><code class="language-cpp">cout&lt;&lt;name&lt;&lt;endl;
</code></pre>
<p>ä¹Ÿå¯ä»¥å°†å…¶è½¬æ¢æˆå­—ç¬¦ä¸²è¾“å‡ºï¼š</p>
<pre><code class="language-cpp">cout&lt;&lt;name.to_str()&lt;&lt;endl;
</code></pre>
<p>å¦‚æœæƒ³è¿›è¡Œä½æ“ä½œåå˜æˆæ­£æ•´æ•°ï¼Œè¿˜èƒ½è¿™ä¹ˆå¹²ï¼š</p>
<pre><code class="language-cpp">cout&lt;&lt;name.to_ulong()&lt;&lt;endl;
</code></pre>
<p>è¾“å‡ºçš„æ˜¯ä¸€ä¸ª <code>unsigned long</code> å‹çš„å€¼ã€‚<s>å…¶å®å°±æ˜¯ unsigned int</s></p>
<h3 id="å…¶å®ƒæ“ä½œ">å…¶å®ƒæ“ä½œ</h3>
<pre><code class="language-cpp">b.any() // è¯¢é—® b ä¸­æ˜¯å¦å­˜åœ¨å€¼ä¸º 1 çš„ä½
b.none() // è¯¢é—® b ä¸­ä¸å­˜åœ¨ç½®ä¸º 1 çš„ä½
b.count() // è¿”å› b ä¸­ç½®ä¸º 1 çš„ä½çš„ä¸ªæ•°
b.size() // b ä¸­ä½çš„ä¸ªæ•°
b.test(pos) // æŸ¥è¯¢ b ä¸­åœ¨ pos å¤„çš„ä½æ˜¯å¦ä¸º 1
b.set() // æŠŠ b ä¸­æ‰€æœ‰ä½å˜ä¸º 1
b.set(pos) // æŠŠ b ä¸­ç¬¬ pos ä½å˜ä¸º 1
b.reset() // æŠŠ b ä¸­æ‰€æœ‰ä½éƒ½å˜ä¸º0
b.reset(pos) // æŠŠ b ä¸­ç¬¬ pos ä½çš„å˜ä¸º0
b.flip() // æŠŠ b ä¸­æ‰€æœ‰ä½å–å
b.flip(pos) // æŠŠ b ä¸­ç¬¬ pos ä½å–å
</code></pre>
<h2 id="ä¾‹é¢˜">ä¾‹é¢˜</h2>
<h3 id="é¢˜ç›®">é¢˜ç›®</h3>
<p>ç»™å‡º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> ä¸ªæ•´æ•°ï¼Œå°†å…¶è½¬æ¢æˆ 8 ä½é•¿åº¦çš„ <code>bool</code> æ•°ç»„å¹¶ä¾æ¬¡é¦–å°¾ç›¸æ¥ï¼ŒæŒ‰ç›¸é‚»çš„ç›¸åŒä½åˆ‡å‰²æˆé•¿åº¦ä¸ç­‰çš„æ®µï¼Œå†ç…§é¦–ä½ä¸ºè‡ªèº«åŸæœ¬çš„å€¼ï¼Œå 7 ä½ä¸ºæ®µé•¿åº¦çš„æ–¹å¼è¿›è¡Œå‹ç¼©ï¼Œæœ€åè¾“å‡ºæ¯ä¸ªæ”¹é€ ä¹‹åçš„ 8 ä½ <code>bool</code> æ•°ç»„å¯¹åº”ä¸ºæ•´æ•°çš„å€¼ã€‚</p>
<h3 id="ä»£ç å®ç°">ä»£ç å®ç°</h3>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;vector&gt;
#include&lt;bitset&gt;
using namespace std;
int n;
struct change{
	int len;
	bool val;
	change(int y, int v){
		this-&gt;len = y; this-&gt;val = v;
	}
};
int main(){
	cin&gt;&gt;n;
	vector&lt;bool&gt; line;
	vector&lt;change&gt; changes;
	for(int i=0;i&lt;(n/8);i++){
		int t;
		bitset&lt;8&gt; tmp;
		cin&gt;&gt;t;
		tmp=t;
		for(int b=7;b&gt;=0;b--){
			line.push_back(tmp[b]);
		}
	}
	int len=0;
	if(line[line.size()-1]==0){
		line.push_back(1);
	}else{
		line.push_back(0);
	}
	for(int i=1;i&lt;line.size();i++){
		if(line[i-1]==line[i]){
			len++;
		}else{
			len++;
			change tmp(len,line.at(i-1));
			changes.push_back(tmp);
			len=0;
		}
	}
	bitset&lt;8&gt; oans;
	vector&lt;unsigned long&gt; ans;
	for(int i=0;i&lt;changes.size();i++){
		oans=changes[i].len;
		oans[7]=changes[i].val;
		ans.push_back(oans.to_ulong());
	}
	for(int i=0;i&lt;ans.size();i++){
		cout&lt;&lt;ans[i]&lt;&lt;' ';
	}
	return 0;
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[C++ è¯­æ³• / Assert æ–­è¨€]]></title>
        <id>https://malachiten.github.io/post/assert-duan-yan</id>
        <link href="https://malachiten.github.io/post/assert-duan-yan">
        </link>
        <updated>2019-10-31T06:04:40.000Z</updated>
        <summary type="html"><![CDATA[<p>æ–­è¨€å¹¿æ³›å­˜åœ¨äºæˆ‘æ‰€äº†è§£çš„å‡ ä¹å…¨éƒ¨è¯­è¨€ä¸­ã€‚</p>
<p>Cï¼ŒC++ï¼ŒPythonï¼ŒHaskellï¼ŒLispï¼Œâ€¦â€¦ï¼Œéƒ½æœ‰è‡ªå·±çš„æ–­è¨€å®ç°ï¼Œä¸”ä¸åŒè¯­è¨€ä¸­çš„æ–­è¨€æŒ‰ç…§å„è‡ªè¯­æ³•è§£è¯»ä¹‹åçš„â€œäººè¯â€å‡ ä¹æ²¡æœ‰ä»»ä½•æ­§ä¹‰ã€‚</p>
<p>å½“ç„¶ï¼Œæ­£å¦‚æ ‡é¢˜æ‰€è¨€ï¼šæœ¬æ–‡ä¸»è¦è®²çš„æ˜¯ C/C++ çš„æ–­è¨€ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>æ–­è¨€å¹¿æ³›å­˜åœ¨äºæˆ‘æ‰€äº†è§£çš„å‡ ä¹å…¨éƒ¨è¯­è¨€ä¸­ã€‚</p>
<p>Cï¼ŒC++ï¼ŒPythonï¼ŒHaskellï¼ŒLispï¼Œâ€¦â€¦ï¼Œéƒ½æœ‰è‡ªå·±çš„æ–­è¨€å®ç°ï¼Œä¸”ä¸åŒè¯­è¨€ä¸­çš„æ–­è¨€æŒ‰ç…§å„è‡ªè¯­æ³•è§£è¯»ä¹‹åçš„â€œäººè¯â€å‡ ä¹æ²¡æœ‰ä»»ä½•æ­§ä¹‰ã€‚</p>
<p>å½“ç„¶ï¼Œæ­£å¦‚æ ‡é¢˜æ‰€è¨€ï¼šæœ¬æ–‡ä¸»è¦è®²çš„æ˜¯ C/C++ çš„æ–­è¨€ã€‚</p>
<!-- more -->
<h2 id="å¼•å…¥">å¼•å…¥</h2>
<p>ä¸€èˆ¬è€Œè¨€ï¼Œå¦‚æœæˆ‘ä»¬çš„ç¨‹åºä¸€åˆ‡æ­£å¸¸ï¼Œåœ¨æŸäº›æ—¶å€™ï¼Œä¼šäº§ç”Ÿä¸€äº›å¿…ç„¶çš„ç»“æœã€‚</p>
<p>å¦‚ Leetcode ç¬¬ä¸€é¢˜ï¼Œè®¡ç®—ä¸¤æ•°ä¹‹å’Œï¼Œå¹¶åœ¨ç›®æ ‡æ•°ç»„ä¸­æ‰¾åˆ°å¯¹åº”å€¼ï¼Œå¹¶è¿”å›å…¶ä¸‹æ ‡ã€‚</p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥<strong>æ–­è¨€</strong>ï¼šæ•°ç»„ä¸­ï¼Œå¿…å®šå­˜åœ¨æˆ‘ä»¬è¦æ‰¾çš„ä¸¤æ•°ä¹‹å’Œã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œä¸æ˜¯æŸ¥æ‰¾å†™é”™äº†ï¼Œå°±æ˜¯ä¸¤æ•°ä¹‹å’Œç®—é”™äº†ã€‚</p>
<p><s>ä¸¤æ•°ä¹‹å’Œéƒ½ç®—é”™è¿˜å†™ä½ ğŸçš„ç¨‹åºå•Š</s>ï¼ˆåœ¨çº¿æš´èºï¼‰</p>
<p>æˆ‘ä»¬é€šè¿‡ Assert æ¥å‘Šè¯‰ç¨‹åºæˆ‘ä»¬çš„ â€œæ–­è¨€â€ ï¼Œç„¶åï¼Œç¨‹åºä¼šæ¯æ¬¡æ‰§è¡Œåˆ°æ–­è¨€å¤„å°±åˆ¤æ–­ä¸€æ¬¡æ•°ç»„ä¸­åˆ°åº•æœ‰æ²¡æœ‰æˆ‘ä»¬è¦æŸ¥æ‰¾çš„æ•°ã€‚å¦‚æœæ‰¾ä¸åˆ°ï¼Œå°±æ‰“æ–­ç¨‹åºï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯ç„¶åé€€å‡ºã€‚</p>
<h2 id="å®šä¹‰">å®šä¹‰</h2>
<blockquote>
<p>Evaluates an expression and, when the result is false, prints a diagnostic message and aborts the program.</p>
</blockquote>
<p>æ–­è¨€æœ¬èº«ï¼Œæ˜¯è¯­è¨€ä¸ºäº†è°ƒè¯•æ–¹ä¾¿ï¼Œå®ç°çš„è¿›è¡ŒçœŸå‡æ£€å®šçš„è¯­å¥ã€‚ä¸€æ—¦æ–­è¨€ä¸ºå‡ï¼Œç«‹åˆ»ç»ˆæ­¢ç¨‹åºæ‰§è¡Œï¼Œå¹¶è¾“å‡ºé”™è¯¯ä¿¡æ¯å’Œé”™è¯¯å‘ç”Ÿä½ç½®åˆ°æ ‡å‡†é”™è¯¯ã€‚åœ¨åœ¨çº¿æµ‹è¯„å¹³å°ä¸Šï¼Œæ–­è¨€ä¸ºå‡å¼•å‘çš„é”™è¯¯è¢«åˆ’å½’åˆ°RE / è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<h2 id="å®ç°">å®ç°</h2>
<p>å¯ä»¥é€šè¿‡æŸ¥é˜…å¤´æ–‡ä»¶å¾—çŸ¥ã€‚</p>
<p>ä»¥ä¸‹æ˜¯æ¥æºäº C çš„å¤´æ–‡ä»¶ï¼š</p>
<pre><code class="language-c">/**
 * This file has no copyright assigned and is placed in the Public Domain.
 * This file is part of the mingw-w64 runtime package.
 * No warranty is given; refer to the file DISCLAIMER.PD within this package.
 */

/* According to C99 standard (section 7.2) the assert
   macro shall be redefined each time assert.h gets
   included depending on the status of NDEBUG macro.  */
#undef assert

#ifndef __ASSERT_H_
#define __ASSERT_H_

#include &lt;crtdefs.h&gt;
#ifdef __cplusplus
#include &lt;stdlib.h&gt;
#endif

#ifdef __cplusplus
extern &quot;C&quot; {
#endif

#ifndef _CRT_TERMINATE_DEFINED
#define _CRT_TERMINATE_DEFINED
  void __cdecl __MINGW_NOTHROW exit(int _Code) __MINGW_ATTRIB_NORETURN;
  void __cdecl __MINGW_NOTHROW _exit(int _Code) __MINGW_ATTRIB_NORETURN;

#if !defined __NO_ISOCEXT /* extern stub in static libmingwex.a */
  /* C99 function name */
  void __cdecl _Exit(int) __MINGW_ATTRIB_NORETURN;
#ifndef __CRT__NO_INLINE
  __CRT_INLINE __MINGW_ATTRIB_NORETURN void  __cdecl _Exit(int status)
  {  _exit(status); }
#endif /* !__CRT__NO_INLINE */
#endif /* Not  __NO_ISOCEXT */

#pragma push_macro(&quot;abort&quot;)
#undef abort
  void __cdecl __MINGW_ATTRIB_NORETURN abort(void);
#pragma pop_macro(&quot;abort&quot;)

#endif /* _CRT_TERMINATE_DEFINED */

extern void __cdecl
_wassert(const wchar_t *_Message,const wchar_t *_File,unsigned _Line);
extern void __cdecl
_assert (const char *_Message, const char *_File, unsigned _Line);

#ifdef __cplusplus
}
#endif

#endif /* !defined (__ASSERT_H_) */

#if (defined _ISOC11_SOURCE \
     || (defined __STDC_VERSION__ &amp;&amp; __STDC_VERSION__ &gt;= 201112L)) \
    &amp;&amp; !defined (__cplusplus)
/* Static assertion.  Requires support in the compiler.  */
#undef static_assert
#define static_assert _Static_assert
#endif

#ifdef NDEBUG
#define assert(_Expression) ((void)0)
#else /* !defined (NDEBUG) */
#if defined(_UNICODE) || defined(UNICODE)
#define assert(_Expression) \
 (void) \
 ((!!(_Expression)) || \
  (_wassert(_CRT_WIDE(#_Expression),_CRT_WIDE(__FILE__),__LINE__),0))
#else /* not unicode */
#define assert(_Expression) \
 (void) \
 ((!!(_Expression)) || \
  (_assert(#_Expression,__FILE__,__LINE__),0))
#endif /* _UNICODE||UNICODE */
#endif /* !defined (NDEBUG) */

</code></pre>
<p>ä»¥ä¸‹ä¸º C++ çš„å¤´æ–‡ä»¶ï¼š</p>
<pre><code class="language-cpp">// -*- C++ -*- forwarding header.

// Copyright (C) 1997-2018 Free Software Foundation, Inc.
//
// This file is part of the GNU ISO C++ Library.  This library is free
// software; you can redistribute it and/or modify it under the
// terms of the GNU General Public License as published by the
// Free Software Foundation; either version 3, or (at your option)
// any later version.

// This library is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.

// Under Section 7 of GPL version 3, you are granted additional
// permissions described in the GCC Runtime Library Exception, version
// 3.1, as published by the Free Software Foundation.

// You should have received a copy of the GNU General Public License and
// a copy of the GCC Runtime Library Exception along with this program;
// see the files COPYING3 and COPYING.RUNTIME respectively.  If not, see
// &lt;http://www.gnu.org/licenses/&gt;.

/** @file cassert
 *  This is a Standard C++ Library file.  You should @c \#include this file
 *  in your programs, rather than any of the @a *.h implementation files.
 *
 *  This is the C++ version of the Standard C Library header @c assert.h,
 *  and its contents are (mostly) the same as that header, but are all
 *  contained in the namespace @c std (except for names which are defined
 *  as macros in C).
 */

//
// ISO C++ 14882: 19.2  Assertions
//

// No include guards on this header...

#pragma GCC system_header

#include &lt;bits/c++config.h&gt;
#include &lt;assert.h&gt;
</code></pre>
<p>å¯è§ï¼Œå¾ˆæœ‰è¶£çš„ä¸€ç‚¹æ˜¯ï¼Œåœ¨ C / C++ ä¸­ï¼Œâ€œæ–­è¨€â€ å³ assert å¹¶ä¸æ˜¯ä¸ªå‡½æ•°ï¼Œè€Œæ˜¯ä¸ªå®ï¼Œå®šä¹‰åœ¨ assert.h ä¸­ã€‚</p>
<p>è€Œ C++ ä¸­çš„ cassert å¤´æ–‡ä»¶å°±ä¸ä½œä»»ä½•å®šä¹‰ï¼Œä»… <code>#include</code> äº† assert.h ã€‚assert.h ä¸­é€šè¿‡<code>extern &quot;C&quot;</code>çš„æ–¹å¼æ”¯æŒäº† C++ ä½¿ç”¨ C å¤´æ–‡ä»¶ã€‚</p>
<p>ä½ é—®æˆ‘ä¸ºä»€ä¹ˆè¿™ä¹ˆæï¼Ÿ</p>
<p><s>å› ä¸ºCä½ å¤ªç¾</s>æˆ‘å’‹çŸ¥é“ã€‚</p>
<h3 id="æ™®é€šæ–­è¨€">æ™®é€šæ–­è¨€</h3>
<p>å¯¹äºè¿™æ ·çš„ä¸€èˆ¬æ–­è¨€ï¼Œä½¿ç”¨çš„æ–¹æ³•ç›¸å½“ç®€å•ï¼š</p>
<pre><code class="language-cpp">assert(bool expression);
</code></pre>
<p>æ–­è¨€æ£€æŸ¥è¡¨è¾¾å¼çš„å€¼æ˜¯ä¸æ˜¯ 0 ã€‚å¦‚æœæ˜¯ï¼Œè§¦å‘ <code>abort</code>ã€‚</p>
<h3 id="é™æ€æ–­è¨€">é™æ€æ–­è¨€</h3>
<p>æœ‰ä¸€ä¸ªä¸œè¥¿å«<code>static_assert</code>ï¼Œå±äº C++ çš„æ ‡å‡†è¯­æ³•ï¼Œæ˜¯ä» C++11 æ ‡å‡†å¼€å§‹åº”ç”¨çš„ï¼Œä¸éœ€è¦ä»»ä½•å¤´æ–‡ä»¶å°±å¯ä»¥ä½¿ç”¨ï¼Œå°±åƒ<code>__built_in_scanf</code>å’Œ<code>__built_in_printf</code>é‚£æ ·ã€‚</p>
<p><s>ç¥ä½ æ—©æ—¥å®ç°å¤´æ–‡ä»¶è‡ªç”±ï¼</s></p>
<p>è¿™ä¸ªä¸œè¥¿æœ‰ä¸€ä¸ªéå¸¸ç‰¹æ®Šçš„èƒ½åŠ›ï¼šå®ƒåœ¨ç¼–è¯‘æœŸåˆ¤æ–­ç¨‹åºæœ‰æ²¡æœ‰è¿åæ–­è¨€ã€‚å¦‚æœè¿åï¼Œç›´æ¥ç»ˆæ­¢ç¼–è¯‘ï¼Œç„¶åè¾“å‡ºç¼–è¯‘é”™è¯¯ä¿¡æ¯ã€‚è¿™ä¸ªä¿¡æ¯å¯ä»¥è‡ªç”±å®šä¹‰ã€‚</p>
<p>ç„¶è€Œç”±äºè¿™äº‹æ˜¯ç¼–è¯‘å™¨è€Œä¸æ˜¯è¿è¡Œæ—¶å¹²çš„ï¼Œé™æ€æ–­è¨€å…·æœ‰ä¸€ä¸ªé™åˆ¶ï¼šæ–­è¨€è¡¨è¾¾å¼æœ¬èº«å¿…é¡»æ˜¯å¸¸é‡ï¼Œå¦‚æœä¸æ˜¯å¸¸é‡ï¼Œé™æ€æ–­è¨€ä¸ç¬¦åˆè¯­æ³•ã€‚<s>ä½ ä¸æ˜¯æƒ³ç¼–è¯‘é”™è¯¯ğŸï¼Ÿè®©ä½ ç¼–è¯‘é”™è¯¯ä¸ªå¤Ÿã€‚</s></p>
<h2 id="é™åˆ¶">é™åˆ¶</h2>
<p>æ¯ä¸€æ¬¡æ‰§è¡Œåˆ°æ–­è¨€ï¼Œç¨‹åºéƒ½ä¼šæ‰§è¡Œæ–­è¨€è¡¨è¾¾å¼ï¼Œå¼•èµ·æ€§èƒ½çš„å¤§è§„æ¨¡æŸè€—ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨å‘å¸ƒå¯ç”¨äº§å“çš„æ—¶å€™ï¼Œåº”è¯¥è®¾æ³•æ¸…é™¤ Debug æ—¶è®¾ç½®çš„æ–­è¨€å¸¦æ¥çš„å½±å“ã€‚</p>
<p><s>å½“ç„¶å¦‚æœä½ æƒ³å–è½¯ä»¶èµšé’±ï¼Œå¯ä»¥è¯•è¯•å…è´¹ç‰ˆä¸æ¸…é™¤æ–­è¨€ï¼Œä»˜è´¹ç‰ˆæ¸…é™¤æ–­è¨€â€¦â€¦å¯åˆ«è·Ÿåˆ«äººè¯´æ˜¯æˆ‘æ•™çš„å•Šï¼</s></p>
<h3 id="æ¶ˆé™¤æ–­è¨€">æ¶ˆé™¤æ–­è¨€</h3>
<p><strong>å˜¿ï¼Œåœä¸‹ï¼æ²¡å«ä½ ä¸€ä¸ªä¸€ä¸ªåˆ ï¼</strong></p>
<p><strong>ä¹Ÿæ²¡å«ä½ æ³¨é‡Šæ‰ï¼</strong></p>
<p>å®é™…ä¸Šï¼ŒC / C++ è‡ªèº«å°±æä¾›äº†å¤§é‡å–æ¶ˆæ–­è¨€çš„åŠæ³•ã€‚</p>
<p>åªéœ€å®šä¹‰å®<code>NDEBUG</code>å°±å¯ä»¥å–æ¶ˆç¨‹åºä¸­æ‰€æœ‰çš„æ–­è¨€ã€‚</p>
<p>è¿˜æœ‰ï¼Œæ–­è¨€åªæœ‰åœ¨ Debug ç‰ˆæœ¬ä¸­æ‰æœ‰æ•ˆï¼Œå¦‚æœç¼–è¯‘ä¸º Release ç‰ˆæœ¬åˆ™è¢«å¿½ç•¥ã€‚</p>
<p>é€šè¿‡è¿™äº›æ–¹å¼ï¼Œæˆ‘ä»¬å°±èƒ½åœ¨è°ƒè¯•å®Œæˆåï¼Œå‘æŒ¥å‡ºç¨‹åºåŸæœ¬åº”æœ‰çš„æ€§èƒ½ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[C++ STL / è¿­ä»£å™¨ç›¸å…³]]></title>
        <id>https://malachiten.github.io/post/c-stl-die-dai-qi-xiang-guan</id>
        <link href="https://malachiten.github.io/post/c-stl-die-dai-qi-xiang-guan">
        </link>
        <updated>2019-10-24T08:40:08.000Z</updated>
        <summary type="html"><![CDATA[<p>C++ ä¸­çš„ STL ä½¿ç”¨ <code>&lt;iterator&gt;</code> å³è¿­ä»£å™¨å¤„ç†å¯¹äºå®¹å™¨çš„æ“ä½œã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>C++ ä¸­çš„ STL ä½¿ç”¨ <code>&lt;iterator&gt;</code> å³è¿­ä»£å™¨å¤„ç†å¯¹äºå®¹å™¨çš„æ“ä½œã€‚</p>
<!-- more -->
<h2 id="è¿­ä»£å™¨çš„å®šä¹‰">è¿­ä»£å™¨çš„å®šä¹‰</h2>
<p>è¿­ä»£å™¨æ˜¯ä¸€ç§æŒ‡å‘å®¹å™¨ä¸­å…ƒç´ çš„ç‰¹æ®Šçš„æŒ‡é’ˆã€‚</p>
<h2 id="è¿­ä»£å™¨çš„åˆ†ç±»">è¿­ä»£å™¨çš„åˆ†ç±»</h2>
<p>ç›®å‰å­˜åœ¨è¿™æ ·å‡ ç§è¿­ä»£å™¨ï¼š</p>
<ul>
<li>è¾“å…¥è¿­ä»£å™¨</li>
<li>å‰å‘è¿­ä»£å™¨</li>
<li>åŒå‘è¿­ä»£å™¨</li>
<li>éšæœºè®¿é—®è¿­ä»£å™¨</li>
<li>è¾“å‡ºè¿­ä»£å™¨</li>
</ul>
<h2 id="è¿­ä»£å™¨çš„ä½œç”¨">è¿­ä»£å™¨çš„ä½œç”¨</h2>
<p>æ‰€æœ‰çš„è¿­ä»£å™¨éƒ½å¯æ‰§è¡Œé»˜è®¤æ„é€ å‡½æ•°ã€æ‹·è´æ„é€ å‡½æ•°ã€é»˜è®¤ææ„å‡½æ•°ï¼Œå¹¶ä¸”å¯é€’å¢ã€‚</p>
<p><s>ä¸ç„¶æ€ä¹ˆè¿­ä»£</s></p>
<h3 id="è¾“å…¥è¾“å‡ºè¿­ä»£å™¨">è¾“å…¥è¾“å‡ºè¿­ä»£å™¨</h3>
<p>è¾“å…¥è¾“å‡ºè¿­ä»£å™¨éƒ½æ˜¯é¡ºåºè®¿é—®è¿­ä»£å™¨ã€‚è¯¥ç±»å‹è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ åªä¼šè¢«å®ƒè®¿é—®ä¸€æ¬¡ï¼Œç„¶åè¿­ä»£å™¨å°±ä¼šé€’å¢ã€‚</p>
<p>æ‰€æœ‰çš„å‰å‘è¿­ä»£å™¨ã€åŒå‘è¿­ä»£å™¨ã€éšæœºè®¿é—®è¿­ä»£å™¨éƒ½æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¾“å…¥è¾“å‡ºè¿­ä»£å™¨ã€‚</p>
<p>è¾“å…¥è¾“å‡ºè¿­ä»£å™¨ä¹‹é—´å¯ä»¥æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰ã€‚å…¶é‡è½½äº† <code>==</code> å’Œ <code>!=</code> è¿ç®—ç¬¦è€Œä½¿å¾—ç”¨æˆ·æ— éœ€äº†è§£å…¶å†…éƒ¨å®ç°ã€‚ç„¶è€Œï¼Œå·²ç»è¿­ä»£åˆ°ä½œç”¨åŸŸå¤–çš„è¿­ä»£å™¨ä¹‹é—´çš„æ¯”è¾ƒæ˜¯æ— æ„ä¹‰çš„ã€‚</p>
<p>å¯ä»¥å‘å®¹å™¨ä¸­å†™å…¥å†…å®¹ï¼Œæˆ–å°†å®¹å™¨ä¸­çš„å†…å®¹å–å‡ºã€‚å•ä¸€ç±»å‹çš„è¿­ä»£å™¨åªèƒ½è¿›è¡Œè¾“å…¥æˆ–è¾“å‡ºçš„å•ä¸€æ“ä½œã€‚æ‰€æœ‰çš„è¾“å…¥è¿­ä»£å™¨éƒ½å¯ä»¥ä½¿ç”¨<code>*</code>æŒ‡é’ˆè¿ç®—ç¬¦è§£å¼•ç”¨ä¸ºå³å€¼ï¼ŒåŒæ—¶ï¼Œå¯¹äºéå¸¸é‡è¾“å‡ºè¿­ä»£å™¨ï¼Œè¿˜èƒ½è§£å¼•ç”¨ä¸ºå·¦å€¼ã€‚(å¯¹äºå·¦å€¼å’Œå³å€¼å¦‚æœæœ‰ä¸æ‡‚çš„ï¼Œå¯ä»¥å»åº·ä¸€ä¸‹æˆ‘çš„å¦ä¸€ç¯‡åšå®¢)ã€‚</p>
<h3 id="å‰å‘è¿­ä»£å™¨">å‰å‘è¿­ä»£å™¨</h3>
<p>éå¸¸é‡å‰å‘è¿­ä»£å™¨å…·å¤‡è¾“å…¥è¾“å‡ºè¿­ä»£å™¨ä¸€æ ·çš„åŠŸèƒ½ã€‚åŒæ—¶ï¼Œå®ƒä»¬å—åˆ°è¿­ä»£æ–¹å‘é™åˆ¶è€Œåªèƒ½å‘å‰è¿­ä»£ã€‚å®ƒä»¬æ˜¯æœ€åŸºæœ¬çš„è¿­ä»£å™¨ï¼Œæ‰€æœ‰çš„å®¹å™¨ / å®¹å™¨é€‚é…å™¨å‡è‡³å°‘æ”¯æŒå‰å‘è¿­ä»£å™¨ã€‚</p>
<p>è¾“å…¥è¾“å‡ºè¿­ä»£å™¨éƒ½æ˜¯å‰å‘è¿­ä»£å™¨çš„ä¸€ç§ã€‚</p>
<p>åŒæ—¶ï¼Œå‰å‘è¿­ä»£å™¨å¯ä»¥è¢«å¤šæ¬¡åœ°é€’å¢ã€è§£å¼•ç”¨ï¼Œæ— è®ºæ“ä½œå¤šå°‘æ¬¡ï¼Œåªè¦è¿­ä»£å™¨æŒ‡å‘çš„ç›®æ ‡è¿˜åœ¨ä½œç”¨åŸŸå†…ï¼Œå°±ä¸ä¼šå¤±å»å¼•ç”¨æ€§è´¨ã€‚</p>
<h3 id="åŒå‘è¿­ä»£å™¨">åŒå‘è¿­ä»£å™¨</h3>
<p>åŒå‘è¿­ä»£å™¨ï¼Œè¯´ç™½äº†å°±æ˜¯æ­£ç€å€’ç€éƒ½èƒ½è¿­ä»£çš„è¿­ä»£å™¨ã€‚</p>
<p>å› æ­¤ï¼Œå®ƒæ¯”èµ·å‰å‘è¿­ä»£å™¨ï¼Œåªå¢åŠ äº†å¯¹äºé€’å‡è¿ç®—ç¬¦<code>--</code>çš„æ”¯æŒã€‚å…¶å®ƒéƒ¨åˆ†å‡ä¿æŒä¸€è‡´ã€‚</p>
<h3 id="éšæœºè®¿é—®è¿­ä»£å™¨">éšæœºè®¿é—®è¿­ä»£å™¨</h3>
<p>éšæœºè®¿é—®è¿­ä»£å™¨æ”¯æŒä»¥ä¸Šæ‰€æœ‰è¿­ä»£å™¨çš„å…¨éƒ¨ç‰¹æ€§ã€‚åŒæ—¶ï¼Œå®ƒè¿˜å…·æœ‰è‡ªå·±çš„ç‰¹æ€§ã€‚</p>
<p>å®ƒèƒ½å¤Ÿæ”¯æŒ<code>+</code>ã€<code>+=</code>å’Œ<code>-</code>ã€<code>-=</code>è¿ç®—ç¬¦ï¼Œèƒ½å¤Ÿé€šè¿‡è¿™ç§æ–¹å¼ç«‹å³è¿­ä»£åˆ°ä½œç”¨åŸŸå†…çš„éšæœºåœ°å€ã€‚</p>
<p>ä¸ç­‰æ¯”è¾ƒ<code>&lt;</code>ã€<code>&gt;</code>ã€<code>&lt;=</code>ã€<code>&gt;=</code>ç­‰ä¹Ÿéƒ½æ˜¯æ”¯æŒçš„ã€‚</p>
<p>è¿™ç§è¿­ä»£å™¨ç”šè‡³èƒ½è¢« <s>è°ƒæ•™</s> æˆæ•°ç»„å¤´æŒ‡é’ˆä¸€æ ·çš„å­˜åœ¨â€”â€”å®ƒèƒ½ä½¿ç”¨åç§»é‡è§£å¼•ç”¨è¿ç®—ç¬¦ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„æ•°ç»„ä¸‹æ ‡è¿ç®—ç¬¦<code>[]</code>ï¼Œæ¥è®¿é—®ä»è¯¥åœ°å€åç§»éšæœºå€¼åæŠµè¾¾çš„åœ°å€ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[C++ é«˜çº§è¯­æ³• / å¼•ç”¨ã€å³å€¼å’Œå·¦å€¼]]></title>
        <id>https://malachiten.github.io/post/c-gao-ji-yu-fa-yin-yong-you-zhi-he-zuo-zhi</id>
        <link href="https://malachiten.github.io/post/c-gao-ji-yu-fa-yin-yong-you-zhi-he-zuo-zhi">
        </link>
        <updated>2019-10-23T08:42:08.000Z</updated>
        <summary type="html"><![CDATA[<p>ä¸€èˆ¬è€Œè¨€ï¼Œä¼ ç»Ÿçš„ä¸ºäº†ç«èµ›çš„ C++ æ•™å­¦ä¸­å¯¹ â€œå¼•ç”¨â€ (ä½¿ç”¨è¿ç®—ç¬¦<code>&amp;</code>) çš„è§£é‡Šå’Œ C ä¸€æ ·ï¼Œå°±æ˜¯ â€œå–å¾—è¿™ä¸ªå˜é‡çš„åœ°å€â€ã€‚</p>
<p>å’ŒæŒ‡é’ˆä¸€æ ·ï¼Œè¿™æ˜¯å¸¸è§„ OIer æ— éœ€äº†è§£çš„çŸ¥è¯†ï¼Œä¸ºäº†é¿å…æµªè´¹æ—¶é—´ï¼Œè€å¸ˆä¸€èˆ¬å¯¹äºè¿™ä¸€æ–¹é¢çš„çŸ¥è¯†æ ¹æœ¬ä¸è®²æˆ–è€…æ”¾ä¸‹ C++ è€Œæ‹¿å‡º â€œ C è¯­è¨€ä»å…¥é—¨åˆ°å…¥åœŸâ€ ç®€å•å¸¦è¿‡ã€‚ç„¶è€Œï¼Œåœ¨å·¥ç¨‹å¼€å‘ä¸­ï¼Œæ­£ç¡®ã€çµæ´»åœ°ä½¿ç”¨å¼•ç”¨ï¼Œå¯ä»¥ä½¿ç¨‹åºç®€æ´ã€é«˜æ•ˆã€‚äº†è§£å·¦å€¼ã€å³å€¼å¼•ç”¨ï¼Œæ›´èƒ½ä¸æœ€æ–° C++ æ ‡å‡†æ¥è½¨ï¼Œäº†è§£æœ€è¿‘äº§ç”Ÿçš„ç‰¹æ€§ï¼Œæœ‰åŠ©äºç†è§£ä»–äººç¨‹åºã€ç®€åŒ–è‡ªå·±çš„ä»£ç ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä¸€èˆ¬è€Œè¨€ï¼Œä¼ ç»Ÿçš„ä¸ºäº†ç«èµ›çš„ C++ æ•™å­¦ä¸­å¯¹ â€œå¼•ç”¨â€ (ä½¿ç”¨è¿ç®—ç¬¦<code>&amp;</code>) çš„è§£é‡Šå’Œ C ä¸€æ ·ï¼Œå°±æ˜¯ â€œå–å¾—è¿™ä¸ªå˜é‡çš„åœ°å€â€ã€‚</p>
<p>å’ŒæŒ‡é’ˆä¸€æ ·ï¼Œè¿™æ˜¯å¸¸è§„ OIer æ— éœ€äº†è§£çš„çŸ¥è¯†ï¼Œä¸ºäº†é¿å…æµªè´¹æ—¶é—´ï¼Œè€å¸ˆä¸€èˆ¬å¯¹äºè¿™ä¸€æ–¹é¢çš„çŸ¥è¯†æ ¹æœ¬ä¸è®²æˆ–è€…æ”¾ä¸‹ C++ è€Œæ‹¿å‡º â€œ C è¯­è¨€ä»å…¥é—¨åˆ°å…¥åœŸâ€ ç®€å•å¸¦è¿‡ã€‚ç„¶è€Œï¼Œåœ¨å·¥ç¨‹å¼€å‘ä¸­ï¼Œæ­£ç¡®ã€çµæ´»åœ°ä½¿ç”¨å¼•ç”¨ï¼Œå¯ä»¥ä½¿ç¨‹åºç®€æ´ã€é«˜æ•ˆã€‚äº†è§£å·¦å€¼ã€å³å€¼å¼•ç”¨ï¼Œæ›´èƒ½ä¸æœ€æ–° C++ æ ‡å‡†æ¥è½¨ï¼Œäº†è§£æœ€è¿‘äº§ç”Ÿçš„ç‰¹æ€§ï¼Œæœ‰åŠ©äºç†è§£ä»–äººç¨‹åºã€ç®€åŒ–è‡ªå·±çš„ä»£ç ã€‚</p>
<!-- more -->
<h2 id="å¼•ç”¨">å¼•ç”¨</h2>
<h3 id="ç‰¹æ€§">ç‰¹æ€§</h3>
<p>ä¹‹å‰è¯´è¿‡ï¼Œè¿™ä¸ªè¯­è¨€è¦ç´ å’Œ<strong>æŒ‡é’ˆ</strong>ç›¸ä¼¼ã€‚è¿™æ˜¯ C++ ç›¸å¯¹ C çš„é‡è¦æ‰©å……ã€‚ä¸ºäº†ç»™å‡½æ•°ä¼ é€’åœ°å€ï¼Œé™¤äº†å¯ä»¥ä½¿ç”¨æŒ‡é’ˆï¼Œå¼•ç”¨æä¾›äº†ä¸€ç§å…¨æ–°çš„é€”å¾„ã€‚è¿™ç§é€”å¾„ï¼Œè¢«ç§°ä¸º â€œ<strong>æŒ‰å¼•ç”¨ä¼ é€’</strong>â€ ã€‚</p>
<p>å£°æ˜ä¸€ä¸ªå¼•ç”¨çš„æ–¹æ³•ï¼š</p>
<pre><code class="language-cpp">typename &amp;referenceName = varName;
</code></pre>
<p>æ­¤å¤„ï¼Œ<code>&amp;</code>è¿ç®—ç¬¦çš„ä½œç”¨ä¸æ˜¯åƒ C ä¸€æ ·è·å–åœ°å€ï¼Œè€Œæ˜¯å°†<code>referenceName</code>å£°æ˜ä¸º<code>varName</code>çš„å¼•ç”¨ã€‚</p>
<blockquote>
<p>å¼•ç”¨å³åˆ«åã€‚</p>
</blockquote>
<p>å˜é‡åï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€æ®µå†…å­˜çš„å¼•ç”¨ã€‚ç¨‹åºé€šè¿‡å˜é‡æ¥ç”³è¯·å’Œä½¿ç”¨è¿ç»­çš„å†…å­˜æ®µã€‚è€Œå¼•ç”¨ï¼Œå°±æ˜¯æŸä¸€å˜é‡ï¼ˆä¹Ÿå°±æ˜¯ç›®æ ‡å†…å­˜åœ°å€ï¼‰çš„ä¸€ä¸ªåˆ«åï¼Œå¯¹å¼•ç”¨çš„æ“ä½œæ‰€äº§ç”Ÿçš„ç»“æœä¸å¯¹å˜é‡ç›´æ¥æ“ä½œçš„ç»“æœå®Œå…¨ä¸€æ ·ã€‚</p>
<p>å› æ­¤ï¼Œæˆ‘ä»¬å¯æ¨å¯¼å¦‚ä¸‹æ³¨æ„äº‹é¡¹ï¼š</p>
<ol>
<li>ç±»å‹<code>Typename</code>ä¸ç›®æ ‡å˜é‡ç±»å‹ä¸€è‡´ã€‚</li>
<li>å£°æ˜å¼•ç”¨æ—¶ï¼Œå¿…é¡»åŒæ—¶å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ã€‚</li>
<li>å¼•ç”¨å£°æ˜å®Œæ¯•åï¼Œç›¸å½“äºç›®æ ‡å˜é‡åæœ‰ä¸¤ä¸ªåç§°ï¼Œå³è¯¥ç›®æ ‡åŸåç§°å’Œå¼•ç”¨åï¼Œä¸”ä¸èƒ½å†æŠŠè¯¥å¼•ç”¨åä½œä¸ºå…¶ä»–å˜é‡åçš„åˆ«åã€‚è€Œå¯¹äºä¸€ä¸ªç›®æ ‡å˜é‡ï¼Œå¯ä»¥å­˜åœ¨å¤šä¸ªå¼•ç”¨ã€‚<s>ä¸€å¤«å¤šå¦»</s></li>
<li>å£°æ˜å¼•ç”¨çš„è¿‡ç¨‹ï¼Œä¸æ˜¯åœ¨æ–°å®šä¹‰å˜é‡ï¼Œå®ƒå£°æ˜çš„æ˜¯å¯¹åº”å¼•ç”¨æ˜¯ç›®æ ‡å˜é‡çš„ä¸€ä¸ªåˆ«åï¼Œå®ƒæœ¬èº«ä¸æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå› æ­¤å¼•ç”¨æœ¬èº«ä¸å å­˜å‚¨å•å…ƒï¼Œç³»ç»Ÿä¹Ÿä¸ç»™å¼•ç”¨åˆ†é…å­˜å‚¨å•å…ƒã€‚æ•…ï¼šå¯¹å¼•ç”¨æ±‚åœ°å€ï¼Œå°±æ˜¯å¯¹ç›®æ ‡å˜é‡æ±‚åœ°å€ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“<code>&amp;</code>ä½œå–åœ°å€è¿ç®—ç¬¦æ—¶ï¼Œ<code>&amp;ra</code>ä¸<code>&amp;a</code>å¾—å‡ºçš„åœ°å€ç›¸ç­‰ã€‚</li>
<li>ä¸èƒ½å£°æ˜å¯¹æ•°ç»„çš„å¼•ç”¨ã€‚å› ä¸ºæ•°ç»„æ˜¯è¿ç»­å˜é‡å•å…ƒæ„æˆçš„å¤§ç‰‡ç©ºé—´ï¼Œå¼•ç”¨ä¸€æ¬¡åªèƒ½å¼•ä¸€ä¸ªå˜é‡çš„åœ°å€ã€‚</li>
<li>å¯¹ NULL çš„å¼•ç”¨æ˜¯æ— æ•ˆçš„ã€‚å› ä¸ºå¼•ç”¨å¿…é¡»å¼•ç”¨ä¸€ç‰‡çœŸå®å­˜åœ¨çš„å†…å­˜ç©ºé—´ã€‚</li>
</ol>
<p>ä¸Šé¢çš„æè¿°ï¼Œä¼¼ä¹å¾ˆå¤šåœ°æ–¹éƒ½å’ŒæŒ‡é’ˆç‰¹æ€§é‡åˆï¼Œå®é™…ä¸Šï¼Œåœ¨ç¼–è¯‘å™¨å®ç°ä¸Šï¼Œå¼•ç”¨ä¹Ÿå’ŒæŒ‡é’ˆæ˜¯ä¸€æ ·çš„ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å¼•ç”¨ï¼Ÿ</p>
<blockquote>
<p>C++ä¸»å¼ ç”¨å¼•ç”¨ä¼ é€’å–ä»£åœ°å€ä¼ é€’çš„æ–¹å¼ï¼Œå› ä¸ºå¼•ç”¨è¯­æ³•å®¹æ˜“ä¸”ä¸æ˜“å‡ºé”™ã€‚</p>
<p>æŒ‡é’ˆåœ°å€å¯ä»¥ä¿®æ”¹ï¼Œå¯ä»¥ä¸ºç©ºï¼Œè€Œå¼•ç”¨ä¸è¡Œï¼Œä¸€ä¸ªæœªåˆå§‹åŒ–çš„å¼•ç”¨æ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼Œé¿å…äº†ç”¨æˆ·ä¼ é€’ç©ºæŒ‡é’ˆé‡æŒ‡é’ˆæ‚¬å‚æŒ‡é’ˆä¹‹ç±»å¥‡å¥‡æ€ªæ€ªå¯¼è‡´ RE çš„åƒåœ¾ç©æ„å„¿ã€‚</p>
<p>é€šè¿‡sizeofçš„è®¡ç®—ï¼ŒæŒ‡é’ˆåªèƒ½å¾—åˆ°æŒ‡é’ˆæœ¬èº«çš„å¤§å°ï¼Œè€Œå¼•ç”¨ä¼˜åŒ–ä¸ºå¾—åˆ°æŒ‡å‘å¯¹è±¡æœ¬èº«çš„å¤§å°ï¼Œè¿™ç‚¹å¯ä»¥æ¨å¯¼ç¼–è¯‘å™¨è®°å½•å¯¹è±¡ç¬¦å·çš„æ—¶å€™ï¼ŒæŒ‡é’ˆè®°å½•æŒ‡é’ˆè‡ªèº«åœ°å€ï¼Œå¼•ç”¨åˆ™è®°å½•å¼•ç”¨å¯¹è±¡è‡ªèº«åœ°å€ã€‚</p>
<p>ä»å¼•ç”¨çš„ä½¿ç”¨æ–¹å¼ä¸Šï¼Œå¯ä»¥æ¨å¯¼å‡ºT&amp; == T* const,ä¸€ä¸ªæŒ‡å‘çš„åœ°å€ä¸å¯å˜çš„æŒ‡é’ˆï¼Œä½†æŒ‡å‘å†…å®¹éconstï¼Œä¾ç„¶å¯ä»¥ä¿®æ”¹å†…å®¹ã€‚åœ¨ç¼–è¯‘æœŸå³é¿å…äº†å¯¹æŒ‡é’ˆèµ‹å€¼å¯èƒ½å¼•èµ·çš„éšç§˜è¿è¡Œæ—¶é”™è¯¯ã€‚</p>
<p>å¦‚æœå‡½æ•°åšå·¦å€¼ï¼Œé‚£ä¹ˆå¿…é¡»è¿”å›å¼•ç”¨ã€‚</p>
</blockquote>
<h3 id="ç”¨é€”">ç”¨é€”</h3>
<h4 id="ä½œä¸ºå‡½æ•°å‚æ•°">ä½œä¸ºå‡½æ•°å‚æ•°</h4>
<p>ä¸€èˆ¬è€Œè¨€ï¼Œå¯¹äºå¤§å—å‚æ•°éœ€è¦è¾“å…¥å‡½æ•°æ—¶ï¼Œé‡‡ç”¨æŒ‡é’ˆæ¥æŒ‡å‘è¯¥å‚æ•°åŒºåŸŸï¼Œä»è€Œé¿å…äº†å¤§é‡æ•°æ®è¿›å…¥ç³»ç»Ÿæ ˆç©ºé—´å¼•èµ·çˆ†æ ˆã€‚</p>
<p>ä½†æ˜¯ï¼Œç°åœ¨æˆ‘ä»¬åˆæœ‰äº†ä¸€ç§æ–°çš„ä¼ å‚æ–¹å¼ï¼šå¼•ç”¨ã€‚</p>
<p>åœ¨ç¨‹åºä¸­è°ƒç”¨ä»¥å¼•ç”¨ä¸ºå‚æ•°çš„å‡½æ•°æ—¶ï¼Œåœ¨ä¸»è°ƒå‡½æ•°çš„è°ƒç”¨ç‚¹å¤„ï¼Œç›´æ¥ä»¥éœ€è¦æ“ä½œçš„å˜é‡ä½œä¸ºå®å‚è¿›è¡Œè°ƒç”¨å³å¯ï¼Œä¸å¯¹å˜é‡æœ‰ä»»ä½•çš„ç‰¹æ®Šè¦æ±‚ã€‚</p>
<pre><code class="language-cpp">void swap(int &amp;a, int &amp;b){
    int t;
    t = b;
    b = a;
    a = t;
}
</code></pre>
<p>ä¾‹ä¸ºä¸€ä¸ªå¸¸è§çš„ä¸‰å˜é‡äº¤æ¢çš„ä»£ç ï¼Œå…¶ä¸­ä½¿ç”¨äº†å¼•ç”¨æ¥ç›´æ¥æ“ä½œå®é™…å‚æ•°çš„å€¼ã€‚å…¶ä¸»è°ƒå‡½æ•°å¯ç›´æ¥è¿™æ ·ä¹¦å†™ï¼š</p>
<pre><code class="language-cpp">typename functionName(int a, int b, ...){
    ...
    swap(m, n);
    ...
}
</code></pre>
<h4 id="å¸¸å¼•ç”¨">å¸¸å¼•ç”¨</h4>
<p>å¦‚æœæ—¢è¦åˆ©ç”¨å¼•ç”¨æé«˜ç¨‹åºçš„æ•ˆç‡ï¼Œåˆè¦ä¿æŠ¤ä¼ é€’ç»™å‡½æ•°çš„æ•°æ®ä¸åœ¨å‡½æ•°ä¸­è¢«æ”¹å˜ï¼Œå°±åº”ä½¿ç”¨å¸¸å¼•ç”¨ã€‚</p>
<p>ä¸€ä¸ªå¸¸é‡å¼•ç”¨åº”è¯¥è¿™æ ·å£°æ˜ï¼š</p>
<pre><code class="language-cpp">const typename &amp;referenceName = varName;
</code></pre>
<p>ä¹‹å‰æˆ‘ä»¬å·²ç»äº†è§£ï¼Œå¸¸é‡çš„åœ°å€åœ¨è¿è¡Œåˆå§‹åŒ–è¿‡ç¨‹å³ç¡®å®šï¼Œæ“ä½œé€Ÿåº¦æ¯”å˜é‡å¿«ã€‚è¿™æ˜¯å¸¸å¼•ç”¨é«˜æ•ˆçš„åŸºç¡€ã€‚</p>
<p>åŒæ—¶ï¼Œå¸¸é‡å¯ä»¥é¿å…ä¿®æ”¹ã€‚åŒæ ·ï¼Œå¸¸å¼•ç”¨å¯ä»¥ç»‘å®šä¸€ä¸ªå¸¸é‡å€¼ï¼Œè€Œä¸ä¸€å®šæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·ä½œä¸ºå‚æ•°çš„æ—¶å€™ï¼Œå¸¸å¼•ç”¨å¯ä»¥ä½¿ç”¨ä¸´æ—¶å¯¹è±¡å’Œå¸¸é‡å€¼ä½œä¸ºå‚æ•°ï¼Œè€Œå¦‚æœå°†ä¸€èˆ¬çš„å¼•ç”¨ä½œä¸ºå‚æ•°ï¼Œå°±åªèƒ½ä½¿ç”¨ä¸€ä¸ªå¼•ç”¨å¯¹è±¡ä½œä¸ºå‚æ•°ã€‚å› æ­¤ï¼Œåº”ç”¨å¸¸å¼•ç”¨çš„å·¥ç¨‹ä»£ç çš„å¥å£®æ€§æå‡ã€‚</p>
<h4 id="å¼•ç”¨ä½œä¸ºè¿”å›å€¼">å¼•ç”¨ä½œä¸ºè¿”å›å€¼</h4>
<p>è¦æƒ³ä½¿ç”¨å¼•ç”¨ä½œä¸ºè¿”å›å€¼ï¼Œåˆ™å‡½æ•°å®šä¹‰æ—¶è¦æŒ‰ä»¥ä¸‹æ ¼å¼ï¼š</p>
<pre><code class="language-cpp">typename &amp;funcName(typename a, typename b, ...){
    //do something
}
</code></pre>
<p>æ˜¾è€Œæ˜“è§ï¼Œä»¥å¼•ç”¨è¿”å›å‡½æ•°å€¼ï¼Œå®šä¹‰å‡½æ•°æ—¶éœ€è¦åœ¨å‡½æ•°åå‰åŠ <code>&amp;</code>ã€‚</p>
<p>ç”¨å¼•ç”¨è¿”å›ä¸€ä¸ªå‡½æ•°å€¼çš„æœ€å¤§å¥½å¤„æ˜¯ï¼Œåœ¨å†…å­˜ä¸­ä¸äº§ç”Ÿè¢«è¿”å›å€¼çš„å‰¯æœ¬ã€‚</p>
<h4 id="å¤šæ€çš„å¼•ç”¨å®ç°æ–¹å¼">å¤šæ€çš„å¼•ç”¨å®ç°æ–¹å¼</h4>
<p>å¼•ç”¨æ˜¯é™¤æŒ‡é’ˆå¤–å¦ä¸€ä¸ªå¯ä»¥äº§ç”Ÿå¤šæ€æ•ˆæœçš„æ‰‹æ®µã€‚è¿™æ„å‘³ç€ï¼Œä¸€ä¸ªåŸºç±»çš„å¼•ç”¨å¯ä»¥æŒ‡å‘å®ƒçš„æ´¾ç”Ÿç±»å®ä¾‹ã€‚</p>
<pre><code class="language-cpp">class A{
    ...
};

class B:public A{
    ...
};

B b;
A &amp;referenceName = b;
</code></pre>
<p>è¿™æ ·å®ç°çš„<code>referenceName</code>åªèƒ½è®¿é—®æ´¾ç”Ÿç±»ä¸­ä»åŸºç±»ç»§æ‰¿ä¸‹æ¥çš„æˆå‘˜ã€‚å¦‚æœ A ä¸­å­˜åœ¨è¢« B ç»§æ‰¿çš„è™šå‡½æ•°ï¼ŒåŒæ—¶ B å°†è¿™äº›è™šå‡½æ•°è¿›è¡Œäº†é‡å†™ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ª <code>referenceName</code> æ¥å®ç°å¤šæ€ã€‚</p>
<h2 id="å³å€¼å’Œå·¦å€¼">å³å€¼å’Œå·¦å€¼</h2>
<p>å…ˆè¦æœ‰ä¸€ä¸ªè®¤è¯†ï¼š</p>
<blockquote>
<p>åœ¨C++11ä¸­æ‰€æœ‰çš„å€¼å¿…å±äºå·¦å€¼ã€ä¸´æ—¶å¯¹è±¡ã€çº¯å³å€¼ä¸‰è€…ä¹‹ä¸€ã€‚</p>
</blockquote>
<h3 id="åŒºåˆ«">åŒºåˆ«</h3>
<blockquote>
<p>å³å€¼å’Œå·¦å€¼çš„åŒºåˆ«åœ¨äºèƒ½å¦è·å–åœ°å€ã€‚</p>
</blockquote>
<p>å¯ä»¥é€šè¿‡&amp;è¿ç®—ç¬¦è·å–åœ°å€çš„ï¼Œå°±æ˜¯å·¦å€¼ï¼›è‹¥å¦å°±æ˜¯å³å€¼ã€‚æ—¢ç„¶å¯ä»¥å–å¾—æŸä¸ªå˜é‡çš„åœ°å€ï¼Œå°±å¯ä»¥å°†å…¶æ”¾ç½®åœ¨èµ‹å€¼è¿ç®—ç¬¦çš„<strong>å·¦ç«¯</strong>è¿›è¡Œç›´æ¥æ“ä½œï¼ŒåŒæ—¶å¯ä»¥æ”¯æŒ<code>++</code>/<code>--</code>/<code>+=</code>ç­‰ç›´æ¥æ”¹å˜å˜é‡è‡ªèº«å€¼çš„æ“ä½œã€‚å› æ­¤ï¼Œè¿™ç§æœ€ä¼ ç»Ÿçš„å¼•ç”¨æ–¹å¼è¢«ç§°ä¸º<code>å·¦å€¼å¼•ç”¨</code>ã€‚</p>
<p>åœ¨ C++11 æ ‡å‡†ä¸­ï¼Œäº§ç”Ÿäº†å‡½æ•°å¯¹è±¡ã€lambda è¡¨è¾¾å¼ç­‰ç‰¹æ®Šçš„å¯¹è±¡ï¼Œè€Œä¸”è¿˜äº§ç”Ÿäº†å¯¹å¸¸é‡çš„å€¼è¿›è¡Œä¿®æ”¹ã€å»¶é•¿ä¸´æ—¶å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç­‰ç‰¹æ®Šçš„éœ€æ±‚ã€‚è¿™äº›å¯¹è±¡æ— æ³•ä½œä¸ºå·¦å€¼è¿›è¡Œå¼•ç”¨ï¼Œå› æ­¤å®ƒä»¬è¢«ç§°ä¸ºå³å€¼ã€‚å½“éœ€è¦æ›´æ”¹å®ƒä»¬çš„å€¼ã€å»¶é•¿å®ƒä»¬çš„ç”Ÿå‘½å‘¨æœŸæ—¶ï¼Œéœ€è¿›è¡Œ<strong>å³å€¼å¼•ç”¨</strong>ã€‚ä¸ºäº†ä¸ä¼ ç»Ÿå¼•ç”¨åŒºåˆ«ï¼Œä¸“é—¨å°†ä¼ ç»Ÿå¼•ç”¨é‡å®šä¹‰ä¸º â€œå·¦å€¼å¼•ç”¨â€ã€‚</p>
<h3 id="å³å€¼">å³å€¼</h3>
<p>å³å€¼ï¼Œä¹Ÿå°±æ˜¯åŒ¿åé‡ï¼Œæ˜¯æ— æ³•è·å–åœ°å€çš„å€¼ã€‚å³å€¼åˆ†ä¸ºçº¯å³å€¼å’Œä¸´æ—¶å¯¹è±¡ã€‚</p>
<p>å®é™…ä¸Šï¼Œå¸¸é‡å€¼å°±æ˜¯çº¯å³å€¼ã€‚æ¯”å¦‚ç¨‹åºä¸­ä½¿ç”¨çš„ï¼š</p>
<pre><code class="language-cpp">'c'

&quot;Hello, World!&quot;

2

const int a = 1;

true
</code></pre>
<p>å¦‚æ­¤ç­‰ç­‰ã€‚</p>
<p>è€Œè¿™æ ·çš„ï¼Œåˆ™æ˜¯ä¸´æ—¶å¯¹è±¡ï¼š</p>
<pre><code class="language-cpp">a++;//å˜é‡è‡ªå¢å‡è¿”å›å€¼æ˜¯ä¸´æ—¶å¯¹è±¡

a + 10;//è¿ç®—ç¬¦è¿”å›å€¼æ˜¯ä¸´æ—¶å¯¹è±¡

getvalue();//å‡½æ•°è¿”å›å€¼æ˜¯ä¸´æ—¶å¯¹è±¡
</code></pre>
<p>ç”šè‡³</p>
<pre><code class="language-cpp">[](int n, int m){
    return n &gt; m ? n : m;
};
</code></pre>
<p><s>æ–­å¤´å­¦å§</s> lambdaè¡¨è¾¾å¼æœ¬èº«å’Œè¿”å›å€¼ä¹Ÿéƒ½æ˜¯ä¸´æ—¶å¯¹è±¡</p>
<p>å¦‚æœä¸€ä¸ªä¸´æ—¶å¯¹è±¡çš„å€¼èµ‹äºˆç»™ä¸€ä¸ªå·¦å€¼ï¼Œè¿™ä¸ªä¸´æ—¶å¯¹è±¡ä¼š<s>å½“ åœº å» ä¸–</s>ï¼ˆæŒ‡ç«‹å³è¢«ææ„ï¼‰ã€‚å› æ­¤ï¼Œä¸´æ—¶å¯¹è±¡è¿˜æœ‰ä¸€ä¸ªåå­—ï¼Œå«åš â€œå°†äº¡å€¼â€ ã€‚éå¸¸è´´åˆ‡ã€‚</p>
<h3 id="å³å€¼å¼•ç”¨">å³å€¼å¼•ç”¨</h3>
<blockquote>
<p>å¯ä»¥ç»‘å®šå³å€¼çš„å¼•ç”¨ç§°ä¸ºå³å€¼å¼•ç”¨ã€‚</p>
</blockquote>
<h4 id="å£°æ˜">å£°æ˜</h4>
<p>ä¸ºäº†å£°æ˜ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼Œæˆ‘ä»¬ä½¿ç”¨åŒå¼•ç”¨è¿ç®—ç¬¦(<code>&amp;&amp;</code>)ã€‚</p>
<pre><code class="language-cpp">int &amp;&amp;i = 0;
</code></pre>
<p>è¿™é‡Œï¼Œæˆ‘ä»¬æ¸…æ™°å¯è§ï¼Œ0 å¿…å®šæ˜¯ä¸ªå³å€¼(æ˜¯ä¸ªå¸¸é‡)ã€‚è€Œ i æ˜¯ä¸ªå³å€¼å¼•ç”¨ã€‚<strong>å³å€¼å¼•ç”¨çš„ç¬¬ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ä½¿å…¶ç»‘å®šçš„å³å€¼çš„ç”Ÿå‘½å‘¨æœŸä¸å³å€¼å¼•ç”¨å£°æ˜çš„ç”Ÿå‘½å‘¨æœŸä¸€æ ·é•¿</strong>ã€‚åªè¦å¼•ç”¨è¿˜æ´»ç€ï¼Œè¯¥å³å€¼å°†ä¼šä¸€ç›´å­˜æ´»ä¸‹å»ã€‚</p>
<pre><code class="language-cpp">int x = 0;
int &amp;&amp;y = 0;
int &amp;&amp;z = x;
</code></pre>
<p>å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œçš„ x æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè€Œ 0 æ˜¯å³å€¼ã€‚ y æ˜¯å¯¹äºå³å€¼çš„å¼•ç”¨ï¼Œè¿™ä¹Ÿæ¯‹åº¸ç½®ç–‘ã€‚é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œz æ˜¯ä¸ªä»€ä¹ˆç©æ„å„¿ï¼Ÿ</p>
<p>å®é™…ä¸Šï¼Œ z ä¹Ÿæ˜¯å³å€¼å¼•ç”¨ã€‚å³å€¼å¼•ç”¨ä¸ä¸€å®šéå¾—å¼•ç”¨ä¸€ä¸ªå³å€¼ï¼Œå·¦å€¼ä¹Ÿèƒ½å¼•ç”¨â€¦â€¦è¿™æ˜¯å³å€¼å¼•ç”¨çš„ç¬¬äºŒä¸€ä¸ªç‰¹ç‚¹ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ C++11 ä¸­ï¼Œå‡ºç°äº†ä¸€ä¸ªå…¨æ–°çš„å…³é”®å­—ï¼š <code>auto</code> ã€‚è¿™æ„å‘³ç€ï¼Œä»æ”¯æŒè¿™ä¸€æ ‡å‡†å¼€å§‹ï¼Œæ–°çš„ç¼–è¯‘å™¨å…·å¤‡äº†è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„åŠŸèƒ½ã€‚</p>
<p>é™¤äº†ä½¿ç”¨<code>auto</code>æ ‡è¯†ç¬¦ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§éšå¼ä½¿ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„æ–¹æ³•ï¼šå½“ä¸€ä¸ªæœªç»è¯¦ç»†å®šä¹‰çš„æ ‡è¯†ç¬¦å‡ºç°åœ¨ç¨‹åºä¸­æ—¶ï¼Œ C++11 ä¹‹å‰çš„ç¼–è¯‘å™¨ä¼šç›´æ¥æ”¾å¼ƒç¼–è¯‘ç„¶åæŠ¥é”™ <s>çœŸç»æƒ…</s> ï¼Œè€Œä»è¿™ä¸€æ ‡å‡†å¼€å§‹ï¼Œç¼–è¯‘å™¨ä¼šåˆ†æä½ çš„ç¨‹åºå¦‚ä½•åˆå§‹åŒ–è¯¥å˜é‡ï¼Œå¹¶è‡ªåŠ¨æ¨å¯¼è¯¥å˜é‡å¯èƒ½çš„ç±»å‹ï¼Œç„¶åå¸®ä½ åŠ ä¸Šå®šä¹‰ã€‚ <s>å°æœ‹å‹ä»¬ï¼Œè¯·è”ç³»ä¸Šä¸‹æ–‡ï¼Œåˆ†æä½œè€…çš„æ€æƒ³æ„Ÿæƒ…</s> å¦‚æœæ­»æ´»æ¨ä¸å‡ºæ¥ï¼Œæ‰æŠ¥é”™ã€‚(ä¼šä¸ä¼šæœ‰è­¦å‘Šå‘¢ï¼Ÿæˆ‘æ²¡è¯•è¿‡â€¦â€¦)</p>
<p>é‚£ä¹ˆï¼Œå½“ä¸€ä¸ªå³å€¼å¼•ç”¨å¼•ç”¨ä¸€ä¸ªå°†è¢«è‡ªåŠ¨æ¨å¯¼ç±»å‹çš„å˜é‡ï¼Œæˆ–å³å€¼å¼•ç”¨è‡ªèº«çš„å£°æ˜å³éœ€è¦è‡ªåŠ¨ç±»å‹æ¨å¯¼æ—¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<p>å®é™…ä¸Šï¼Œè¿™å¹¶æ— éœ€æ‹…å¿ƒã€‚å³å€¼å¼•ç”¨å¯èƒ½æ˜¯å·¦å€¼ä¹Ÿå¯èƒ½æ˜¯å³å€¼ï¼Œä¾èµ–äºåˆå§‹åŒ–ã€‚å¯ä»¥è¯´ï¼Œå³å€¼å¼•ç”¨æœ¬èº«å°±è·Ÿè‡ªåŠ¨ç±»å‹æ¨å¯¼æœ‰ç‚¹å…³ç³»ã€‚å› æ­¤ï¼Œå½“<code>typename &amp;&amp;t</code>åœ¨å‘ç”Ÿè‡ªåŠ¨ç±»å‹æ¨æ–­çš„æ—¶å€™ï¼Œå®ƒæ˜¯æœªå®šçš„å¼•ç”¨ç±»å‹ã€‚å¦‚æœè¢«ä¸€ä¸ªå·¦å€¼åˆå§‹åŒ–ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå·¦å€¼ï¼›å¦‚æœå®ƒè¢«ä¸€ä¸ªå³å€¼åˆå§‹åŒ–ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå³å€¼ï¼Œå®ƒæ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼å–å†³äºå®ƒçš„åˆå§‹åŒ–ã€‚</p>
<p>è®¾æœ‰ç¨‹åºå¦‚ä¸‹ï¼š</p>
<pre><code class="language-cpp">template&lt;typename T&gt;
void f(T &amp;&amp;arg); 

template&lt;typename T&gt;
class b{
    b(b &amp;&amp;c){...}; 
};
</code></pre>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ¨¡æ¿å‡½æ•°å‘ç”Ÿäº†ç±»å‹æ¨å¯¼ï¼Œä¼šè‡ªåŠ¨æ¨å¯¼ arg çš„ç±»å‹ï¼Œè€Œæ¨¡æ¿ç±» b çš„æ„é€ å‡½æ•°ä¸­çš„å³å€¼å¼•ç”¨ c å› ä¸ºå·²ç»æœ‰äº†ç¡®å®šçš„å¯¹è±¡ç±»å‹ b ï¼Œæ‰€ä»¥ä¸ä¼šå‘ç”Ÿæ¨å¯¼ã€‚</p>
<p>é‚£ä¹ˆï¼Œå½“å¤šé‡å¼•ç”¨å åŠ æ—¶â€¦â€¦</p>
<p>C++ æä¾›äº†è¿™ä¸€è§„åˆ™ï¼š</p>
<blockquote>
<p>æ‰€æœ‰çš„å³å€¼å¼•ç”¨å åŠ åˆ°å³å€¼å¼•ç”¨ä¸Šä»ç„¶è¿˜æ˜¯ä¸€ä¸ªå³å€¼å¼•ç”¨ï¼›</p>
<p>æ‰€æœ‰çš„å…¶ä»–å¼•ç”¨ç±»å‹ä¹‹é—´çš„å åŠ éƒ½å°†å˜æˆå·¦å€¼å¼•ç”¨ã€‚</p>
</blockquote>
<p>è¿™å°±æ˜¯è‘—åçš„å¼•ç”¨æŠ˜å ã€‚</p>
<h2 id="è¿™ç¯‡åšå®¢çš„å¼•ç”¨å£°æ˜">è¿™ç¯‡åšå®¢çš„å¼•ç”¨å£°æ˜</h2>
<p><strong>ä¸æ˜¯ C++ çš„å¼•ç”¨ï¼æ˜¯å†™ä½œä¸­çš„å¼•ç”¨ï¼</strong></p>
<blockquote>
<p>è¿™ç¯‡åšå®¢èƒ½å¤Ÿåˆ›ä½œï¼Œç¦»ä¸å¼€è¿™å‡ ä½å·¨ä½¬çš„åšå®¢ï¼š</p>
<p><a href="https://www.cnblogs.com/mmc9527/p/10429601.html">c++å¼•ç”¨ï¼ˆreferenceï¼‰</a></p>
<p><a href="https://www.cnblogs.com/mlgjb/p/8821340.html">C++ä¸­å¼•ç”¨ï¼ˆ&amp;ï¼‰çš„ç”¨æ³•å’Œåº”ç”¨å®ä¾‹</a></p>
<p><a href="https://www.cnblogs.com/KaiMing-Prince/p/9741393.html">C++å¼•ç”¨è¯¦è§£</a></p>
<p><a href="https://www.cnblogs.com/likaiming/p/9045642.html">c++å³å€¼å¼•ç”¨ä»¥åŠä½¿ç”¨</a></p>
<p><a href="https://www.cnblogs.com/qicosmos/p/4283455.html">ä»4è¡Œä»£ç çœ‹å³å€¼å¼•ç”¨</a></p>
<p><s>æŠ„å¾—å¯çœŸå¤šå•Š</s></p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Screeps æ•™ç¨‹]]></title>
        <id>https://malachiten.github.io/post/screeps-jiao-cheng</id>
        <link href="https://malachiten.github.io/post/screeps-jiao-cheng">
        </link>
        <updated>2019-10-22T01:12:35.000Z</updated>
        <summary type="html"><![CDATA[<p>ä¸äº†è§£çš„äººå¯ä»¥å‰å¾€<a href="https://screeps.com/">Screepså®˜ç½‘</a>äº†è§£ä¸€ä¸‹ï¼Œä¹Ÿè®¸æˆ‘ä»¬èƒ½æˆä¸ºåŒä¸€ä¸ª<code>Shard</code>çš„é‚»å±…ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>ä¸äº†è§£çš„äººå¯ä»¥å‰å¾€<a href="https://screeps.com/">Screepså®˜ç½‘</a>äº†è§£ä¸€ä¸‹ï¼Œä¹Ÿè®¸æˆ‘ä»¬èƒ½æˆä¸ºåŒä¸€ä¸ª<code>Shard</code>çš„é‚»å±…ã€‚</p>
<!-- more -->
<p>ä¸è¿‡ï¼Œçœ‹å®Œç®€ä»‹ä¹Ÿä¸è¦è´¸ç„¶åœ¨Steamè´­ä¹°ï¼Œæˆ‘æ‰“æ•™ç¨‹éƒ½æ‰“äº†ä¸æ­¢ä¸€æ•´å¤©ï¼Œè‚¯å®šæ˜¯é€€ä¸äº†æ¬¾çš„ã€‚åœ¨çœŸæ­£æ¥è§¦åˆ°æœ¬èº«ä¹‹å‰ï¼Œä¹Ÿä¸ä¼šçŸ¥é“å®ƒåˆ°åº•æ€æ ·ç©ã€‚ä¸è¿‡ï¼Œåœ¨å®˜ç½‘ä¸Šæœ‰å®ƒçš„ Live DEMO å¯ä¾›è¯•ç©ï¼Œå»ºè®®å°è¯•ã€‚</p>
<h2 id="è®©æˆ‘ä»¬å¼€å§‹å§ç•Œé¢ç®€ä»‹">è®©æˆ‘ä»¬å¼€å§‹å§ï¼šç•Œé¢ç®€ä»‹</h2>
<blockquote>
<p>Let's begin. This is a playing field called a &quot;room&quot;. In the real game, rooms are connected to each other with exits, but in the simulation mode only one room is available to you.</p>
</blockquote>
<p>å±å¹•ä¸­é—´çš„ä¸€å¤§ç‰‡å«åš<code>room</code>ï¼Œåœ¨å®é™…æ¸¸æˆä¸­ï¼Œå®ƒä¸å…¶ä»–æˆ¿é—´ç›¸è¿ï¼Œä½†æ˜¯åœ¨æ•™ç¨‹è¿™é‡Œï¼Œå®ƒä»…å¯¹ä½ å¼€æ”¾ã€‚</p>
<blockquote>
<p>The object in the center of the screen is your first spawn, your colony center.</p>
</blockquote>
<p>å±å¹•ä¸­é—´çš„ç‰©ä½“æ˜¯ä½ çš„<code>creep</code>ä»¬çš„ç”Ÿæˆå™¨ã€‚</p>
<blockquote>
<p>You play by writing code in the panel in the bottom of the screen.</p>
</blockquote>
<p>ä½ è¦æ“ä½œè¿™ä¸ªæ¸¸æˆï¼Œå°±å¾—åœ¨å±å¹•ä¸‹æ–¹çš„é»‘æ¡†æ¡†é‡Œé¢æ‰“ä»£ç ï¼Œå˜¿å˜¿å˜¿ã€‚</p>
<blockquote>
<p>You can see all the characteristics of your creep (or other objects) by utilizing the &quot;View&quot; action.</p>
</blockquote>
<p>ä½ è¦æƒ³çœ‹åˆ°ä½ çš„æ‰€æœ‰ç‰©ä½“çš„ä¿¡æ¯ï¼Œéœ€è¦åˆ‡æ¢åˆ°<code>View</code>è§†å›¾ã€‚å…·ä½“ä¸€ç‚¹ï¼Œç‚¹å‡»å±å¹•ä¸Šæ–¹çš„çœ¼ç›<br>
å›¾æ ‡å°±å¯ä»¥äº†ã€‚</p>
<blockquote>
<p>Hide the editor panel with Alt+Enter and select your creep with the help of the &quot;View&quot; action.</p>
</blockquote>
<p>å½“ä½ éœ€è¦æŸ¥çœ‹ä¿¡æ¯æ—¶ï¼ŒæŒ‰ä¸‹<code>Alt+Enter</code>éšè—ç¼–è¾‘å™¨ï¼Œç„¶åç‚¹å‡»ç›®æ ‡ã€‚</p>
<blockquote>
<p>Here you can see the characteristics of the object you are now looking at. Values of each characteristic and functions of body parts are described in the documentation.</p>
</blockquote>
<p>è¿™æ ·ï¼Œåœ¨å±å¹•å³ä¾§å·¥å…·æ ä¸­ï¼Œä½ å°±èƒ½çœ‹è§æ‰€é€‰ç›®æ ‡çš„å…¨éƒ¨å±æ€§ã€‚</p>
<h2 id="ç¬¬ä¸€ä¸ªè¦æ¥è§¦çš„ä¸œè¥¿æ§åˆ¶å°">ç¬¬ä¸€ä¸ªè¦æ¥è§¦çš„ä¸œè¥¿ï¼šæ§åˆ¶å°</h2>
<p><code>Console</code> æ§åˆ¶å° å…¶å®æ˜¯ä¸€ä¸ª<code>JavaScript</code>çš„ <strong>REPL</strong> (è¯»å…¥ - æ‰§è¡Œ - æ‰“å° - å¾ªç¯) ã€‚</p>
<p>è¾“å…¥ä¸€è¡Œæˆ–ä¸€å—<code>JavaScript</code>è¯­å¥ï¼Œç„¶åæŒ‰ä¸‹<code>Enter</code>æ‰§è¡Œã€‚</p>
<blockquote>
<p>Your command returns a response <s>or execution error</s> in the console below. All output is duplicated into your browser console (Ctrl+Shift+J) where you can expand objects for debugging purposes. You can open and close the bottom panel by pressing Alt+Enter.</p>
</blockquote>
<p>ä½ çš„å‘½ä»¤è¿”å›ä¸€ä¸ªç»“æœæˆ–ä¸€ä¸ªé”™è¯¯ï¼Œå°†ç«‹å³æ˜¾ç¤ºåœ¨æ§åˆ¶å°ã€‚</p>
<blockquote>
<p>It is time to put the creep to work! This yellow square is an energy source â€” a valuable game resource. It can be harvested by creeps with one or more <code>WORK</code> body parts and transported to the spawn by creeps with <code>CARRY</code> parts.</p>
</blockquote>
<p>ä¸‹é¢æµ‹è¯•ä¸‹æ§åˆ¶å°ï¼Œåœ¨æ§åˆ¶å°ä¸­ç”Ÿæˆä¸€ä¸ªå…·æœ‰<code>WORK</code>,<code>CARRY</code>,<code>MOVE</code> çš„èº«ä½“éƒ¨ä»¶çš„ Creep ã€‚</p>
<p>å…¶å®è¿™ä½¿ç”¨äº† API ï¼š</p>
<blockquote>
<p>Game.spawns<br>
StructureSpawn.spawnCreep</p>
</blockquote>
<pre><code class="language-javascript">Game.spawns['Spawn1'].spawnCreep( [WORK, CARRY, MOVE], 'Harvester1' );
</code></pre>
<p>è¿™å°±æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª<code>Creep</code>ï¼Œå¯è§ï¼Œå®ƒæ˜¯ç”±åä¸º<code>Spawn1</code>çš„ç”Ÿæˆå™¨ç”Ÿæˆçš„ï¼Œï¼Œä¸”åä¸º<code>Harvester1</code>ã€‚</p>
<blockquote>
<p>You can address your spawn by its name the following way: Game.spawns['Spawn1'].</p>
</blockquote>
<p>è¿™å°±æ˜¯ç”Ÿæˆå™¨çš„è·¯å¾„ï¼š<code>Game.spawns['Spawn1']</code>ã€‚</p>
<blockquote>
<p>Great! You now have a creep with the name &quot;Harvester1&quot; that you can control.</p>
</blockquote>
<h2 id="ç„¶åå°±æ˜¯æœ€é‡è¦çš„è„šæœ¬ä¸­çš„-main-æ¨¡å—">ç„¶åå°±æ˜¯æœ€é‡è¦çš„ï¼Œè„šæœ¬ä¸­çš„ Main æ¨¡å—</h2>
<blockquote>
<p>To give your creep a permanently working command, the console is not enough, since we want the creep to work all the time. So we'll be using the Script tab rather than the console.</p>
</blockquote>
<p>æ§åˆ¶å°ä¸èƒ½æ»¡è¶³æˆ‘ä»¬ç»™<code>creep</code>ç¼–å†™å·¥ä½œè„šæœ¬çš„éœ€æ±‚ã€‚æˆ‘ä»¬éœ€è¦ä½¿ç”¨è„šæœ¬ç¼–è¾‘å™¨æ¥ç¼–å†™è¿™äº›è„šæœ¬ã€‚</p>
<blockquote>
<p>Here you can write scripts that will run on a permanent basis, each game tick in a loop. It allows writing constantly working programs to control behaviour of your creeps which will work even while you are offline (in the real game only, not the Simulation Room mode).</p>
</blockquote>
<p>åªè¦ä½ å†™äº†è„šæœ¬ï¼Œå®ƒå°±ä¼šä¸€ç›´å¾ªç¯æ‰§è¡Œï¼Œæ¯<code>Tick</code>ä¸€æ¬¡ï¼Œå³ä½¿ä½ ç¦»çº¿ï¼Œä¹Ÿæ˜¯å¦‚æ­¤ï¼Œé™¤éä½ çš„<strong>æ‰€æœ‰</strong>æ®ç‚¹éƒ½è¢«äººç‚¸æ²¡äº†ã€‚å€¼å¾—ä¸€æï¼Œ<code>Tick</code>æ˜¯æ¸¸æˆçš„æ—¶é—´å•ä½ï¼Œå…·ä½“é•¿åº¦ç”±æœåŠ¡å™¨æ€§èƒ½åŠå»ºç«‹æ®ç‚¹çš„ç©å®¶æ•°ç›®å†³å®šã€‚Screepsä¸€å…±åŒ…å«å››ä¸ªæœåŠ¡å™¨ï¼Œè¶Šè€çš„æœåŠ¡å™¨è¿è¡Œé€Ÿåº¦è¶Šæ…¢ã€‚æœ€è€çš„æœåŠ¡å™¨<code>shard0</code>çš„å¹³å‡ticksæ—¶é•¿ç”šè‡³è¾¾åˆ°äº†æƒŠäººçš„5.9ç§’ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯è¿‡5.9ç§’ã€‚ä½ çš„ä»£ç æ‰ä¼šè¢«è¿è¡Œä¸€æ¬¡ã€‚ç©å®¶è¶Šæ¥è¶Šä¸æ»¡ç¼“æ…¢çš„æ¸¸æˆé€Ÿåº¦ï¼Œç”šè‡³å†³å®šåˆ°å…¶ä»–æœåŠ¡å™¨ä»å¤´å¼€å§‹ã€‚</p>
<blockquote>
<p>To commit a script to the game so it can run, use this button or Ctrl+Enter.</p>
</blockquote>
<p>æŒ‰ä¸‹<code>Ctrl + Enter</code>æäº¤ä½ çš„ä»£ç ã€‚è·Ÿå‘ä¸ª QQ æ¶ˆæ¯ä¸€æ ·ç®€å•ã€‚</p>
<blockquote>
<p>To send a creep to harvest energy, you need to use the methods described in the documentation section below. Commands will be passed each game tick. The harvest method requires that the energy source is adjacent to the creep.</p>
</blockquote>
<p>ä¸ºäº†è®©ä¸€ä¸ª<code>creep</code>æ”¶é›†èƒ½é‡ï¼Œä½ éœ€è¦å­¦ä¹ å®˜æ–¹ API æ–‡æ¡£ä¸­å®šä¹‰çš„æ–¹æ³•ã€‚æ‰§è¡Œè¿™äº›æ–¹æ³•ï¼Œä»¥è®©å®ƒä»¬å·¥ä½œã€‚</p>
<blockquote>
<p>You give orders to a creep by its name this way: Game.creeps['Harvester1']. Use the FIND_SOURCES constant as an argument to the Room.find method.</p>
</blockquote>
<p>å…·ä½“æ¥è¯´ï¼Œåœ¨æ”¶é›†èµ„æºæ—¶ï¼Œéœ€è¦ç”¨åˆ°<code>Game.creeps[]</code>æ•°ç»„ã€å°†å¸¸æ•°<code>FIND_SOURCES</code>ä½œä¸ºå‚æ•°çš„æ–¹æ³•<code>Room.find()</code>ã€‚</p>
<p>è¿™æ¬¡ä½¿ç”¨çš„ API å¦‚ä¸‹ï¼Œå¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥åˆ°ï¼š</p>
<blockquote>
<p>Game.creeps<br>
RoomObject.room<br>
Room.find<br>
Creep.moveTo<br>
Creep.harvest</p>
</blockquote>
<p>Code:</p>
<pre><code class="language-javascript">module.exports.loop = function () {
    var creep = Game.creeps['Harvester1'];
    var sources = creep.room.find(FIND_SOURCES);
    if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {
        creep.moveTo(sources[0]);
    }
}
</code></pre>
<p>è¿™æ—¶ä½ çš„å”¯ä¸€ä¸€ä¸ª<code>Creep</code>ä¼šå‘åœ°å›¾ä¸Šæœ€è¿‘çš„é»„ç‚¹ç§»åŠ¨ï¼Œç„¶åå¼€å§‹å·¥ä½œã€‚è¿™ä¸ªé»„ç‚¹ç§°ä¸º<code>Source</code>ï¼Œå³èƒ½é‡æºã€‚</p>
<blockquote>
<p>A bubbling yellow spot inside the creep means that it has started collecting energy from the source.</p>
</blockquote>
<p>å¦‚æœä¸€ä¸ª<code>Creep</code>å†…éƒ¨çš„é¢œè‰²å˜æˆäº®é»„è‰²ï¼Œåˆ™è¯´æ˜å®ƒæ­£åœ¨æ”¶é›†èƒ½é‡æºä¸­çš„èƒ½é‡ã€‚</p>
<p><strong>It works!</strong></p>
<p>å¯æ˜¯ï¼Œå½“å…¶æ”¶é›†æ»¡è‡ªèº«å®¹é‡ä¹‹åï¼Œå°±éœ€è¦è¿”å›å‡ºç”Ÿç‚¹ (å³<code>Creep</code>çš„ç”Ÿæˆå™¨ï¼Œ<code>Spawn</code>) ã€‚</p>
<blockquote>
<p>To make the creep transfer energy back to the spawn, you need to use the method <code>Creep.transfer</code>. However, remember that it should be done when the creep is next to the spawn, so the creep needs to walk back.</p>
</blockquote>
<p>ä½¿ç”¨ API æä¾›çš„æ–¹æ³•<code>Creep.transfer</code>æ¥è¾¾æˆè¿™ä¸ªä»»åŠ¡ã€‚</p>
<blockquote>
<p>If you modify the code by adding the check <code>.carry.energy</code> &lt; <code>.carryCapacity</code>to the creep, it will be able to go back and forth on its own, giving energy to the spawn and returning to the source.</p>
</blockquote>
<p>è¿™æ˜¯ç®—æ³•çš„å®ç°æ–¹æ³•ï¼šç®€å•åˆ¤æ–­ç›®æ ‡<code>Creep</code>çš„æºå¸¦èƒ½é‡æ˜¯å¦å°äºå…¶æœ€å¤§å®¹é‡ã€‚å¦‚æœå°äºï¼Œåˆ™ä¸€ç›´è®©å®ƒæ”¶é›†ã€‚å¦åˆ™ï¼Œä»¤å…¶è¿”å›<code>Spawn</code>ï¼Œå°†èƒ½é‡æ³¨å…¥å…¶ä¸­ã€‚</p>
<p>è¦å®ç°è¿™äº›ï¼Œå¯å‚è§ API æ–‡æ¡£ï¼š</p>
<blockquote>
<p>Creep.transfer<br>
Creep.carry<br>
Creep.carryCapacity</p>
</blockquote>
<p>Code:</p>
<pre><code class="language-javascript">module.exports.loop = function () {
    var creep = Game.creeps['Harvester1'];

    if(creep.carry.energy &lt; creep.carryCapacity) {
        var sources = creep.room.find(FIND_SOURCES);
        if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {
            creep.moveTo(sources[0]);
        }
    }
    else {
        if( creep.transfer(Game.spawns['Spawn1'], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE ) {
            creep.moveTo(Game.spawns['Spawn1']);
        }
    }
}
</code></pre>
<blockquote>
<p>Great! This creep will now work as a harvester until it dies. Remember that almost any creep has a life cycle of 1500 game ticks, then it &quot;ages&quot; and dies (this behavior is disabled in the Tutorial).</p>
</blockquote>
<p>è¿™æ ·å°±å®Œæˆäº†è®©å®ƒä¸€ç›´æ”¶é›†èƒ½é‡ç›´åˆ°æ­»äº¡çš„è§„åˆ’ã€‚</p>
<p>å€¼å¾—ä¸€æçš„æ˜¯ï¼Œæ¯ä¸ª<code>Creep</code>åœ¨å‡ºç”Ÿæ—¶å‡å…·å¤‡ 1500 ä¸ª<code>Ticks</code>çš„ç”Ÿå‘½æ—¶é•¿ï¼Œä¹‹åé€æ­¥å‡å°‘ã€‚ä¸è¿‡ï¼Œè¿™ä¸ªè¡Œä¸ºåœ¨æ•™ç¨‹ä¸­è¢«ç¦ç”¨äº†ï¼Œç›®å‰ä½ çš„<code>Creep</code>å…·æœ‰æ— é™å¯¿å‘½ã€‚</p>
<blockquote>
<p>Let's create another worker creep to help the first one. It will cost another 200 energy units, so you may need to wait until your harvester collects enough energy. The spawnCreep method will return an error code <code>ERR_NOT_ENOUGH_ENERGY</code> (-6) until then.</p>
</blockquote>
<p>æˆ‘ä»¬é©¬ä¸Šå°±è¦å»ºé€ å¦ä¸€ä¸ªå·¥äºº<code>Creep</code>æ¥å¸®åŠ©å‡è½»ç¬¬ä¸€ä¸ªçš„è´Ÿæ‹…äº†ã€‚è¿™ä¼šæ¶ˆè€— 200 ä¸ªä¹‹å‰çš„å·¥äººæ”¶é›†æ¥çš„èƒ½é‡å•ä½ï¼Œæ‰€ä»¥ä½ éœ€è¦ç­‰å¾…ä½ çš„æ”¶é›†è€…æ”¶é›†è¶³å¤Ÿçš„èƒ½é‡ã€‚åœ¨ API ä¸­æä¾›çš„<code>spawnCreep</code>æ–¹æ³•åœ¨æ²¡æœ‰è¶³å¤Ÿèƒ½é‡çš„æ—¶å€™ï¼Œä¸ä¼šç”Ÿæˆ<code>Creep</code>ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªé”™è¯¯å¸¸é‡<code>ERR_NOT_ENOUGH_ENERGY</code>ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå®ƒçš„å€¼ä¸º -6 ã€‚</p>
<blockquote>
<p>Remember: to execute code once just type it in the &quot;Console&quot; tab.</p>
</blockquote>
<p>åƒè¿™ç§åªéœ€è¦æ‰§è¡Œä¸€æ¬¡çš„å‘½ä»¤ï¼Œå¯ä»¥åªç”¨å°†å…¶è¾“å…¥åˆ°æ§åˆ¶å°ã€‚</p>
<p>é‚£ä¹ˆå…·ä½“çš„æŒ‡ä»¤å°±å¾ˆç®€å•äº†ï¼š</p>
<pre><code class="language-javascript">Game.spawns['Spawn1'].spawnCreep( [WORK, CARRY, MOVE], 'Harvester2' );
</code></pre>
<blockquote>
<p>The second creep is ready, but it won't move until we include it into the program.</p>
</blockquote>
<p>ç”±äºæˆ‘ä»¬æ ¹æœ¬æ²¡å†™å®ƒçš„è„šæœ¬ï¼Œæ‰€ä»¥å®ƒæš‚æ—¶è¿˜ä¸ä¼šåŠ¨ã€‚</p>
<blockquote>
<p>To set the behavior of both creeps we could just duplicate the entire script for the second one, but it's much better to use the for loop against all the screeps in <code>Game.creeps</code>.</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥å•ç‹¬ä¸ºå®ƒç¼–å†™è„šæœ¬ï¼Œä½†æ˜¯æˆ‘ä»¬æ³¨æ„åˆ°å®ƒçš„è„šæœ¬å’Œç¬¬ä¸€ä¸ªå‡ ä¹æ²¡æœ‰å·®åˆ«ã€‚ä¸ºäº†<s>å·æ‡’</s>æé«˜ä»£ç å¤ç”¨ç‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¾ªç¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>Code:</p>
<pre><code class="language-javascript">module.exports.loop = function () {
    for(var name in Game.creeps) {
        var creep = Game.creeps[name];

        if(creep.carry.energy &lt; creep.carryCapacity) {
            var sources = creep.room.find(FIND_SOURCES);
            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {
                creep.moveTo(sources[0]);
            }
        }
        else {
            if(creep.transfer(Game.spawns['Spawn1'], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {
                creep.moveTo(Game.spawns['Spawn1']);
            }
        }
    }
}
</code></pre>
<h2 id="ä¸ºäº†æ›´åŠ æè‡´çš„è„±å‘ä½“éªŒæˆ‘ä»¬è¿˜å¯ä»¥ç¼–å†™å…¶ä»–æ¨¡å—è¾¾æˆç›®çš„">ä¸ºäº†æ›´åŠ æè‡´çš„è„±å‘ä½“éªŒï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç¼–å†™å…¶ä»–æ¨¡å—è¾¾æˆç›®çš„ã€‚</h2>
<blockquote>
<p>Now let's improve our code by taking the workers' behavior out into a separate module. Create a module called role.harvester with the help of the Modules section on the left of the script editor and define a run function inside the <code>module.exports</code> object, containing the creep behavior.</p>
</blockquote>
<p>é™¤äº†<code>Main</code>ä¹‹å¤–çš„æ¨¡å—å°±åƒ C / C++ ä¸­çš„å¤´æ–‡ä»¶ï¼Œä¾›ç»™<code>Main</code>è°ƒç”¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œç¼–å†™ä¸€ä¸ªä¸“ä»¬æè¿°æ”¶é›†èƒ½é‡çš„å·¥äºº<code>Creep</code>çš„è¡Œä¸ºçš„æ¨¡å—ã€‚</p>
<p>Code:</p>
<pre><code class="language-javascript">var roleHarvester = {

    /** @param {Creep} creep **/
    run: function(creep) {
	    if(creep.carry.energy &lt; creep.carryCapacity) {
            var sources = creep.room.find(FIND_SOURCES);
            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {
                creep.moveTo(sources[0]);
            }
        }
        else {
            if(creep.transfer(Game.spawns['Spawn1'], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {
                creep.moveTo(Game.spawns['Spawn1']);
            }
        }
	}
};

module.exports = roleHarvester;
</code></pre>
<p>è¿™ä»½è„šæœ¬æè¿°äº†æ‰€æœ‰å…·æœ‰<code>Harvester</code>æ€§è´¨çš„<code>Creep</code>çš„å·¥ä½œæµç¨‹ï¼Œæ­¤å¤„ä¸å†èµ˜è¿°ã€‚</p>
<p>é‚£ä¹ˆç°åœ¨ï¼Œæˆ‘ä»¬å¦‚ä½•ç¼–å†™æˆ‘ä»¬çš„<code>Main</code>æ¥è°ƒç”¨åˆšåˆšå†™çš„è¿™äº›å‘¢ï¼Ÿ</p>
<blockquote>
<p>Now you can rewrite the main module code, leaving only the loop and a call to your new module by the method <code>require('role.harvester')</code>.</p>
</blockquote>
<p>æ˜æ˜¾ï¼Œåªéœ€è¦ä½¿ç”¨<code>require('role.harvester')</code>çš„è¯­å¥ï¼Œå°±å¯ä»¥è¾¾æˆä¸ C / C++ ä¸­<code>#include &quot;role_harvester.hpp&quot;</code>ä¸€æ ·çš„æ•ˆæœäº†ã€‚</p>
<blockquote>
<p>It's much better now!</p>
</blockquote>
<p>å¤´å‘å°‘å¤šäº†ï¼</p>
<blockquote>
<p>By adding new roles and modules to your creeps this way, you can control and manage the work of many creeps. In the next Tutorial section, weâ€™ll develop a new creep role.</p>
</blockquote>
<p>é€šè¿‡ç»™ä½ çš„<code>creep</code>ä»¬æ·»åŠ æ–°çš„è§’è‰²å’Œæ¨¡å—ï¼Œä½ èƒ½æ§åˆ¶å¹¶ç®¡ç†å¤§é‡çš„<code>creeps</code>ã€‚ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªæ–°çš„è§’è‰²ã€‚</p>
<h2 id="å‡çº§æˆ¿é—´æ§åˆ¶å™¨roomcontroller">å‡çº§æˆ¿é—´æ§åˆ¶å™¨RoomController</h2>
<blockquote>
<p>In this Tutorial section weâ€™ll talk about a key strategic object in your room: <code>Room Controller</code>. By controlling this invincible structure you can build facilities in the room. The higher the controller level, the more structures available to build.</p>
</blockquote>
<p>åœ¨è®¾è®¡è¿™ä¸ªæ–°çš„è§’è‰²ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦è®¤è¯†ä¸€ä¸ªæ–°ä¸œè¥¿ï¼Œå«<code>Room Controller</code>ã€‚è¿™ä¸ªä¸œè¥¿çš„ç­‰çº§å†³å®šäº†ä½ èƒ½åœ¨ä½ æˆ¿é—´é‡Œé¢å»ºé€ å“ªäº›ç»“æ„ã€‚</p>
<blockquote>
<p>You will need a new worker creep to upgrade your controller level. Let's call it &quot;Upgrader1&quot;. In following sections we'll discuss how to create creeps automatically, but for now let's send a command manually to the console.</p>
</blockquote>
<p>ä¸ºäº†ç»™å®ƒå‡çº§ï¼Œæˆ‘ä»¬è¦é€ ä¸€ä¸ªåä¸ºâ€œUpgrader1â€çš„æ–°å·¥äººã€‚</p>
<p>åœ¨ä»¥åçš„æ•™ç¨‹ä¸­æˆ‘ä»¬ä¼šè®¤è¯†åˆ°å¦‚ä½•è‡ªåŠ¨ç”Ÿæˆ<code>creeps</code>ï¼Œä¸è¿‡è¿™æ¬¡ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨æ§åˆ¶å°å§ã€‚</p>
<p>Code:</p>
<pre><code class="language-javascript">Game.spawns['Spawn1'].spawnCreep( [WORK, CARRY, MOVE], 'Upgrader1' );
</code></pre>
<p>å®ƒå…·ä½“ç”Ÿæˆäº†ä»€ä¹ˆï¼Œæƒ³å¿…ä¸ç”¨å¤šè¯´äº†ã€‚</p>
<blockquote>
<p>Creep &quot;Upgrader1&quot; went to perform the same task as the harvester, but we don't want it to. We need to differentiate creep roles.</p>
</blockquote>
<p>ç›®å‰å®ƒæš‚æ—¶è¿˜åªèƒ½åƒ<code>harvester</code>ä¸€æ ·å·¥ä½œã€‚ä¸è¿‡ï¼Œæˆ‘ä»¬å¾—å¹²ç‚¹ä»€ä¹ˆè®©å®ƒä¸è€å‰è¾ˆä¸ä¸€æ ·ã€‚</p>
<blockquote>
<p>To do that, we need to utilize the memory property of each creep that allows writing custom information into the creep's &quot;memory&quot;. Let's do this to assign different roles to our creeps.</p>
<p>All your stored memory is accessible via the global Memory object. You can use it any way you like.</p>
</blockquote>
<p>æˆ‘ä»¬ä½¿ç”¨<code>memory</code>æ¥åŒºåˆ†ä¸åŒ<code>creeps</code>å„è‡ªçš„è§’è‰²ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å¾€ä¸€ä¸ª<code>creep</code>çš„â€œè®°å¿†â€é‡Œé¢å†™ä»»ä½•ä¸œè¥¿æ¥è¾¾æˆæˆ‘ä»¬çš„ä»»æ„ç›®çš„ã€‚</p>
<p>Code:</p>
<pre><code class="language-javascript"> Game.creeps['Harvester1'].memory.role = 'harvester';
 Game.creeps['Upgrader1'].memory.role = 'upgrader';
</code></pre>
<blockquote>
<p>You can check your creeps' memory in either the creep information panel on the left or on the <code>Memory</code> tab.</p>
</blockquote>
<p>é€šè¿‡æ£€æŸ¥<code>Memory</code>é¢æ¿ï¼Œä½ å¯ä»¥ç¡®è®¤â€œä½ çš„<code>Creeps</code>æœ‰æ²¡æœ‰æ·±å…¥è´¯å½»ä½ çš„æ€æƒ³â€ã€‚</p>
<blockquote>
<p>Now let's define the behavior of the new creep. Both creeps should harvest energy, but the creep with the role harvester should bring it to the spawn, while the creep with the role upgrader should go to the Controller and apply the function <code>upgradeController</code> to it (you can get the Controller object with the help of the <code>Creep.room.controller</code> property).</p>
</blockquote>
<p>ç°åœ¨å¼€å·¥äº†ï¼Œå»è®¾è®¡æ–°<code>creep</code>çš„è¡Œä¸ºã€‚æ¯ä¸€ä¸ª<code>creep</code>éƒ½åº”å½“æ”¶é›†èƒ½é‡ï¼Œä½†æ˜¯<code>harvester</code>åº”è¯¥æŠŠèƒ½é‡é€åˆ°<code>spawn</code>ï¼Œè€Œ<code>upgrader</code>åº”è¯¥æŠŠèƒ½é‡é€å»<code>Room Controller</code>ã€‚</p>
<blockquote>
<p>In order to do this, weâ€™ll create a new module called <code>role.upgrader</code>.</p>
</blockquote>
<p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬åº”å½“åˆ›å»ºä¸€ä¸ªåä¸º<code>role.upgrader</code>çš„<code>module</code>ã€‚</p>
<p>è¿™ç”¨åˆ°äº†è¿™äº› API ï¼š</p>
<blockquote>
<p>RoomObject.room<br>
Room.controller<br>
Creep.upgradeController</p>
</blockquote>
<p>Code:</p>
<pre><code class="language-javascript">var roleUpgrader = {

    /** @param {Creep} creep **/
    run: function(creep) {
	    if(creep.carry.energy == 0) {
            var sources = creep.room.find(FIND_SOURCES);
            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {
                creep.moveTo(sources[0]);
            }
        }
        else {
            if(creep.upgradeController(creep.room.controller) == ERR_NOT_IN_RANGE) {
                creep.moveTo(creep.room.controller);
            }
        }
	}
};

module.exports = roleUpgrader;
</code></pre>
<blockquote>
<p>In our main module, all creeps run the same role. We need to divide their behavior depending on the previously defined property <code>Creep.memory.role</code> by connecting the new module.</p>
</blockquote>
<p>ç›®å‰æˆ‘ä»¬çš„<code>main</code>æ¨¡å—ä¸­ï¼Œæ‰€æœ‰<code>creeps</code>è¿˜è¢«å½“ä½œåŒä¸€ç§è§’è‰²å¤„ç†ã€‚è¿™æ˜¯ä¸è¡Œçš„ï¼šå¦‚æœ<code>main</code>è¯´æ˜¯ä¸€æ ·çš„å°±æ˜¯ä¸€æ ·çš„ï¼Œé‚£æˆ‘å¤šæ²¡é¢å­ã€‚æ‰€ä»¥</p>
<p>Code:</p>
<pre><code class="language-javascript">var roleHarvester = require('role.harvester');
var roleUpgrader = require('role.upgrader');

module.exports.loop = function () {

    for(var name in Game.creeps) {
        var creep = Game.creeps[name];
        if(creep.memory.role == 'harvester') {
            roleHarvester.run(creep);
        }
        if(creep.memory.role == 'upgrader') {
            roleUpgrader.run(creep);
        }
    }
}
</code></pre>
<p>å¬æˆ‘çš„ï¼å¬æˆ‘çš„ï¼å¬æˆ‘çš„ï¼</p>
<p>æ‰€ä»¥â€”â€”</p>
<blockquote>
<p>Perfect, you have upgraded your Controller level!</p>
</blockquote>
<p><code>WA</code>ï¼Œä½ çš„å¤´å‘åˆå°‘äº†å‡ æ ¹ï¼</p>
<blockquote>
<p><strong>Important</strong>: If you donâ€™t upgrade your Controller within 20,000 game ticks, it loses one level. On reaching level 0, you will lose control over the room, and another player will be able to capture it freely. Make sure that at least one of your creeps regularly performs the function upgradeController.</p>
</blockquote>
<p>å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼šå¦‚æœä½ è¿ç»­ä¸¤ä¸‡ä¸ª<code>tick</code>ä¸å‡çº§ä½ çš„<code>Room Controller</code>ï¼Œå®ƒå°±ä¼šé™çº§ã€‚å½“å®ƒé™åˆ° 0 çº§æ—¶ï¼Œä½ å°±å¤±å»äº†è¿™ä¸ªæˆ¿é—´çš„æ§åˆ¶æƒã€‚</p>
<h2 id="å»ºé€ æ–°ç»“æ„">å»ºé€ æ–°ç»“æ„</h2>
<blockquote>
<p>The Controller upgrade gives access to some new structures: walls, ramparts, and extensions. Weâ€™ll discuss walls and ramparts in the next Tutorial section, for now letâ€™s talk about extensions.</p>
</blockquote>
<p>æ§åˆ¶å™¨ä¸€æ—¦è¢«å‡çº§ï¼Œä½ å°±å¯ä»¥è·å–å»ºé€ æ–°ç»“æ„çš„æƒé™ã€‚è¿™äº›ç»“æ„ä¸»è¦æœ‰ï¼šåœ°å½¢å¢™ã€é˜²å¾¡å£å’ï¼Œä»¥åŠæ‰©å±•ã€‚æˆ‘ä»¬æ•™ç¨‹çš„ä¸‹ä¸€æ­¥ä¼šè®²åˆ°åœ°å½¢å¢™å’ŒåŸå¢™ï¼Œè¿™æ¬¡åªä¼šè®²åˆ°æ‰©å±•ã€‚</p>
<blockquote>
<p><strong>Extensions</strong> are required to build larger creeps. A creep with only one body part of one type works poorly. Giving it several <strong>WORKs</strong> will make him work proportionally faster.</p>
</blockquote>
<p>å½“ä½ è§‰å¾—ä½ çš„<code>creeps</code>å·¥ä½œèƒ½åŠ›ä¸è¡Œçš„æ—¶å€™ï¼Œä½ æƒ³è¦å¾€ä½ çš„<code>creeps</code>èº«ä¸Šæ’æ›´å¤šçš„èº«ä½“éƒ¨ä»¶ã€‚ç»™ä»–æ›´å¼ºçš„å·¥ä½œèƒ½åŠ›ã€‚</p>
<blockquote>
<p>However, such a creep will be costly and a lone spawn can only contain 300 energy units. To build creeps costing over 300 energy units you need spawn extensions.</p>
</blockquote>
<p>å¯æ˜¯ï¼Œè¿™æ ·çš„<code>creeps</code>åŠ¿å¿…é€ æˆå»ºé€ èŠ±è´¹çš„æé«˜ã€‚ä½ çš„<code>spawn</code>åªèƒ½å®¹çº³ 300 å•ä½çš„èƒ½é‡ï¼Œæ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚å»ºé€ èŠ±è´¹é«˜äº 300 å•ä½èƒ½é‡çš„ <code>creeps</code>ï¼Œå°±éœ€è¦ä½¿ç”¨æ‰©å±•ã€‚</p>
<blockquote>
<p>The second Controller level has 5 extensions available for you to build.This number increases with each new level.</p>
</blockquote>
<p>æ§åˆ¶å™¨ç­‰çº§ 2 å…è®¸ä½ å»ºé€  5 ä¸ªæ‰©å±•ã€‚è€Œä¸”è¿™ä¸ªæ•°é‡è¿˜ä¼šéš<code>Room Controller</code>ç­‰çº§ä¸æ–­æå‡ã€‚</p>
<blockquote>
<p>You can place extensions at any spot in your room, and a spawn can use them regardless of the distance. In this Tutorial we have already placed corresponding construction sites for your convenience.</p>
</blockquote>
<p>ä½ å¯ä»¥å°†æ‰©å±•æ”¾åœ¨æˆ¿é—´çš„ä»»ä½•ä½ç½®ï¼Œè€Œä¸”ä¸€ä¸ª<code>spawn</code>å¯ä»¥åœ¨ä»»ä½•è·ç¦»ä½¿ç”¨å®ƒä»¬ã€‚åœ¨æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å·²ç»å°†å…¶æ”¾ç½®åœ¨æ„é€ å¥½çš„ä½ç½®ä¸Šã€‚</p>
<blockquote>
<p>Letâ€™s create a new creep whose purpose is to build structures. This process will be similar to the previous Tutorial sections. But this time letâ€™s set <code>memory</code> for the new creep right in the method <code>Spawn.spawnCreep</code> by passing it in the third argument.</p>
</blockquote>
<p>æˆ‘ä»¬å»ºé€ ä¸€ç§æ–°ç±»å‹çš„<code>creep</code>æ¥å¹²è¿™äº‹ã€‚è¿™ç§äº‹æƒ…éå¸¸ç®€å•ï¼Œæˆ‘ä»¬ä¹‹å‰éƒ½åšå¾—å¤šäº†ã€‚ä¸è¿‡ï¼Œè¿™æ¬¡æˆ‘ä»¬è¯•è¯•æ–°çš„å†™æ³•ï¼šä½¿ç”¨ç¬¬ä¸‰ä¸ªå‚æ•°æ¥ä¼ é€’å†…å­˜å€¼ï¼Œå…å»é‡æ–°è®¾ç½®å†…å­˜çš„éº»çƒ¦ã€‚</p>
<p>Code:</p>
<pre><code class="language-javascript">Game.spawns['Spawn1'].spawnCreep( [WORK, CARRY, MOVE], 'Builder1',
    { memory: { role: 'builder' } } );
</code></pre>
<p>åœ¨<code>builder</code>çš„å®šä¹‰æœªå£°æ˜æ—¶ï¼Œå®ƒå°†ä¸ä¼šç§»åŠ¨ã€‚</p>
<blockquote>
<p>As before, letâ€™s move this role into a separate module role.builder. The building is carried out by applying the method <code>Creep.build</code> to the construction sites searchable by <code>Room.find(FIND_CONSTRUCTION_SITES)</code>. The structure requires energy which your creep can harvest on its own.</p>
</blockquote>
<p>åƒä¹‹å‰ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€ä¸ªæ–°<code>module</code>ã€‚</p>
<p><code>Creep.build</code>å’Œ<code>Room.find(FIND_CONSTRUCTION_SITES)</code>ä¸¤ä¸ªæ–¹æ³•å¯ä»¥å¸®åˆ°æˆ‘ä»¬ã€‚</p>
<blockquote>
<p>To avoid having the creep run back and forth too often but make it deplete the cargo, letâ€™s complicate our logic by creating a new Boolean variable <code>creep.memory.building</code> which will tell the creep when to switch tasks. We'll also add new <code>creep.say</code> call and <code>visualizePathStyle</code> option to the moveTo method to visualize the creep's intentions.</p>
</blockquote>
<p>ä¸ºäº†é¿å…å®ƒæ¥å›é¢‘ç¹è¿è¡Œè€—å°½è®¡ç®—èµ„æºï¼Œæˆ‘ä»¬è®¾è®¡ä¸€ä¸ªå¸ƒå°”å€¼<code>creep.memory.building</code>æ¥æ§åˆ¶å®ƒç©¶ç«Ÿæ˜¯æŒ–çŸ¿è¿˜æ˜¯å»ºé€ ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬æ‰“å¼€å¯è§†åŒ–å…¶ç§»åŠ¨è·¯å¾„çš„é€‰é¡¹ï¼Œå¹¶ä½¿ç”¨<code>creep.say</code>æ–¹æ³•ï¼Œæ¥ä½¿å®ƒæ‰€å¤„çš„æ¨¡å¼å¯è§†åŒ–ã€‚</p>
<p>è¿™æ¬¡ç”¨åˆ°äº†è¿™äº› API :</p>
<blockquote>
<p>RoomObject.room<br>
Room.find<br>
Creep.build<br>
Creep.say</p>
</blockquote>
<p>Code:</p>
<pre><code class="language-javascript">var roleBuilder = {

    /** @param {Creep} creep **/
    run: function(creep) {

	    if(creep.memory.building &amp;&amp; creep.carry.energy == 0) {
            creep.memory.building = false;
            creep.say('ğŸ”„ harvest');
	    }
	    if(!creep.memory.building &amp;&amp; creep.carry.energy == creep.carryCapacity) {
	        creep.memory.building = true;
	        creep.say('ğŸš§ build');
	    }

	    if(creep.memory.building) {
	        var targets = creep.room.find(FIND_CONSTRUCTION_SITES);
            if(targets.length) {
                if(creep.build(targets[0]) == ERR_NOT_IN_RANGE) {
                    creep.moveTo(targets[0], {visualizePathStyle: {stroke: '#ffffff'}});
                }
            }
	    }
	    else {
	        var sources = creep.room.find(FIND_SOURCES);
            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {
                creep.moveTo(sources[0], {visualizePathStyle: {stroke: '#ffaa00'}});
            }
	    }
	}
};

module.exports = roleBuilder;
</code></pre>
<blockquote>
<p>Letâ€™s create a call of the new role in the main module and wait for the result.</p>
</blockquote>
<p>è¿™æ ·å°±å¯ä»¥äº†ã€‚ä¸è¿‡æˆ‘ä»¬è¿˜å¾—æ”¹æ”¹ä¸»æ¨¡å—<code>Main</code></p>
<p>Code:</p>
<pre><code class="language-javascript">var roleHarvester = require('role.harvester');
var roleBuilder = require('role.builder');

module.exports.loop = function () {

    for(var name in Game.creeps) {
        var creep = Game.creeps[name];
        if(creep.memory.role == 'harvester') {
            roleHarvester.run(creep);
        }
        if(creep.memory.role == 'builder') {
            roleBuilder.run(creep);
        }
    }
}
</code></pre>
<blockquote>
<p>Your extensions have been built. Now letâ€™s learn to work with them.</p>
</blockquote>
<p>è¿™æ ·ä¸€æ¥ï¼Œæ‰©å±•å°±ä¿®å»ºå¥½äº†ã€‚é‚£ä¹ˆç°åœ¨æ€ä¹ˆè®©å®ƒä»¬å·¥ä½œå‘¢ï¼Ÿ</p>
<blockquote>
<p>Maintaining extensions requires you to teach your harvesters to carry energy not just to a spawn but also to extensions. To do this, you can either use the <code>Game.structures</code> object or search within the room with the help of <code>Room.find(FIND_STRUCTURES)</code>. In both cases, you will need to filter the list of items on the condition structure.<code>structureType == STRUCTURE_EXTENSION</code> (or, alternatively, <code>structure instanceof StructureExtension</code>) and also check them for energy load, as before.</p>
</blockquote>
<p>å…ˆè¦æ•™ä¼š<code>havester</code>å°†æ”¶é›†çš„èµ„æºæ³¨å…¥æ‰©å±•ã€‚å¦åˆ™è¿™äº›æ‰©å±•ç”¨å¤„ä¸å¤§ã€‚</p>
<p>æ‰€ç”¨ APIï¼š</p>
<blockquote>
<p>Game.structures<br>
Room.find<br>
StructureExtension</p>
</blockquote>
<p>Code:</p>
<pre><code class="language-javascript">var roleHarvester = {

    /** @param {Creep} creep **/
    run: function(creep) {
	    if(creep.carry.energy &lt; creep.carryCapacity) {
            var sources = creep.room.find(FIND_SOURCES);
            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {
                creep.moveTo(sources[0], {visualizePathStyle: {stroke: '#ffaa00'}});
            }
        }
        else {
            var targets = creep.room.find(FIND_STRUCTURES, {
                    filter: (structure) =&gt; {
                        return (structure.structureType == STRUCTURE_EXTENSION || structure.structureType == STRUCTURE_SPAWN) &amp;&amp;
                            structure.energy &lt; structure.energyCapacity;
                    }
            });
            if(targets.length &gt; 0) {
                if(creep.transfer(targets[0], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {
                    creep.moveTo(targets[0], {visualizePathStyle: {stroke: '#ffffff'}});
                }
            }
        }
	}
};

module.exports = roleHarvester;
</code></pre>
<blockquote>
<p>To know the total amount of energy in the room, you can use the property <code>Room.energyAvailable</code>. Letâ€™s add the output of this property into the console in order to track it during the filling of extensions.</p>
</blockquote>
<p>åŒæ—¶ï¼Œä¸ºäº†å¾—çŸ¥æˆ¿é—´èƒ½æºæ€»æ•°ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨æ–¹æ³•<code>Room.energyAvailable</code>ï¼Œåœ¨<code>Main</code>ä¸­æ·»åŠ ä¸€ä¸ªè¾“å‡ºï¼Œè®©ç³»ç»Ÿè¾“å‡ºæ€»èƒ½æºä¿¡æ¯åˆ°æ§åˆ¶å°ã€‚</p>
<p>å¯èƒ½ç”¨åˆ°çš„ API æ–‡æ¡£æ˜¯ï¼š</p>
<blockquote>
<p>Room.energyAvailable</p>
</blockquote>
<p>Code:</p>
<pre><code class="language-javascript">var roleHarvester = require('role.harvester');
var roleBuilder = require('role.builder');

module.exports.loop = function () {

    for(var name in Game.rooms) {
        console.log('Room &quot;'+name+'&quot; has '+Game.rooms[name].energyAvailable+' energy');
    }

    for(var name in Game.creeps) {
        var creep = Game.creeps[name];
        if(creep.memory.role == 'harvester') {
            roleHarvester.run(creep);
        }
        if(creep.memory.role == 'builder') {
            roleBuilder.run(creep);
        }
    }
}
</code></pre>
<blockquote>
<p>In total, we have 550 energy units in our spawn and extensions. It is enough to build a creep with the body [WORK,WORK,WORK,WORK,CARRY,MOVE,MOVE]. This creep will work 4 times faster than a regular worker creep. Its body is heavier, so weâ€™ll add another MOVE to it. However, two parts are still not enough to move it at the speed of a small fast creep which would require 4xMOVEs or building a road.</p>
</blockquote>
<p>å‡†å¤‡å¥½é€ ä¸ªå¤§å®¶ä¼™äº†å—ï¼Ÿå…·ä½“æœ‰å¤šå¤§ï¼Œè§è‹±æ–‡éƒ¨åˆ†ã€‚ï¼ˆç¬‘ï¼‰</p>
<blockquote>
<p>Building this creep took energy from all storages and completely drained them.</p>
</blockquote>
<p>ä¸ºäº†ä¾å€™è¿™ä¸ªå¤§å®¶ä¼™ï¼Œæˆ‘ä»¬çš„æ‰€æœ‰èƒ½é‡å­˜å‚¨å™¨éƒ½è€—å°½äº†ã€‚</p>
<blockquote>
<p>As you can see on the right panel, this powerful creep harvests 8 energy units per tick. A few such creeps can completely drain an energy source before it refills thus giving your colony a maximum energy boost.</p>
</blockquote>
<p>ä¸è¿‡å½“ä½ çœ‹åˆ°å®ƒçš„é¢æ¿æ—¶ï¼Œä½ ä¼šè§‰å¾—è¿™æ˜¯éå¸¸å€¼å¾—çš„ã€‚å®ƒèƒ½å¤Ÿåœ¨ 1 <code>Tick</code> ä¸­é‡‡é›† 8 å•ä½èƒ½é‡ï¼Œç»™äºˆä½ æå¤§çš„èƒ½æºæ”¯æŒã€‚</p>
<blockquote>
<p>Hence, by upgrading your Controller, constructing new extensions and more powerful creeps, you considerably improve the effectiveness of your colony work. Also, by replacing a lot of small creeps with fewer large ones, you save CPU resources on controlling them which is an important prerequisite to play in the online mode.</p>
</blockquote>
<p>å¯è§ï¼Œå‡çº§æ§åˆ¶å™¨ï¼Œå»ºé€ æ–°æ‰©å±•å’Œæ›´å¤šå¼ºå¤§çš„<code>Creeps</code>ï¼Œèƒ½å¤Ÿæé«˜å·¥ä½œæ•ˆç‡ï¼ŒèŠ‚çœä¸‹CPUæ—¶é—´ã€‚å€¼å¾—ä¸€æï¼Œä¸ºäº†é¿å…æœ‰ç©å®¶ä½¿ç”¨æ­»å¾ªç¯å¡ç³»ç»Ÿï¼Œå¯¹äºæ¯ä¸€ä¸ªç©å®¶çš„ä»£ç ï¼Œç³»ç»Ÿéƒ½æœ‰ä¸€ä¸ªCPUæ—¶é—´é™åˆ¶ï¼Œå¦‚æœä½ çš„ç¨‹åºè¿è¡Œè¶…å‡ºäº†CPUæ—¶é—´ï¼Œåˆ™ä¼šè¢«å¼ºåˆ¶æ‰“æ–­ï¼Œ<code>continue</code>åˆ°ä¸‹ä¸€æ¬¡å¾ªç¯ä¸­ã€‚å½“ç„¶ï¼Œè´­ä¹°è®¢é˜…ç”šè‡³ç»ˆèº«æ— é™CPUæ—¶é—´çš„å·¨ä½¬å¯ä»¥æ— è§†CPUæ—¶é—´é™åˆ¶ã€‚</p>
<h2 id="å…¨è‡ªåŠ¨ç”Ÿäº§æ–°creeps">å…¨è‡ªåŠ¨ç”Ÿäº§æ–°Creeps</h2>
<blockquote>
<p>Until now, we have created new creeps directly in the console. Itâ€™s not a good idea to do it constantly since the very idea of Screeps is making your colony control itself. You will do well if you teach your spawn to produce creeps in the room on its own.</p>
</blockquote>
<p>ç›´åˆ°ç°åœ¨ï¼Œæˆ‘ä»¬éƒ½åœ¨ä½¿ç”¨æ§åˆ¶å°æ–°å»º<code>creep</code>ã€‚ç”±äºçœŸå®æ¸¸æˆä¸­æ‰€æœ‰<code>creeps</code>æœ‰ 1500 <code>ticks</code>çš„ç”Ÿå‘½é™åˆ¶ï¼Œä½ å¿…é¡»è¦è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªèƒ½è®©ä½ ä¸€ç›´æŒ‚ç€æœºæ‘¸é±¼çš„å¥½åŠæ³•ã€‚æˆ‘ä»¬éœ€è¦æ‰¾å‡ºè®©æœºå™¨ç»™æˆ‘ä»¬è‡ªåŠ¨åˆ›å»º<code>creep</code>çš„åŠæ³•ã€‚</p>
<blockquote>
<p>This is a rather complicated topic and many players spend months perfecting and refining their auto-spawning code. But letâ€™s try at least something simple and master some basic principles to start with.</p>
</blockquote>
<p>ä¸ºäº†æ”¹è¿›è‡ªå·±çš„è‡ªåŠ¨åˆ›å»ºå™¨ï¼Œå¾ˆå¤šç©å®¶èŠ±è´¹äº†å‡ ä¸ªæœˆçš„æ—¶é—´ã€‚ä¸è¿‡æˆ‘ä»¬ç”¨ä¸ç€é‚£ä¹ˆéº»çƒ¦â€”â€”è¿™åªæ˜¯ä¸ªæ•™ç¨‹ï¼Œæä¸ªå¤Ÿç”¨çš„å°±è¡Œäº†ã€‚</p>
<blockquote>
<p>You will have to create new creeps when old ones die from age or some other reasons. Since there are no events in the game to report death of a particular creep, the easiest way is to just count the number of required creeps, and if it becomes less than a defined value, to start spawning.</p>
</blockquote>
<p>ç”±äºæ¸¸æˆä¸æä¾›<code>creeps</code>æ­»äº¡æ—¶çš„å…¨å±€å¹¿æ’­ï¼Œæœ€ç®€å•çš„ç¡®è®¤æ˜¯å¦éœ€è¦æ–°å»º<code>creeps</code>çš„æ–¹æ³•å°±æ˜¯â€¦â€¦emmmï¼Œæ•°æ•°ã€‚æ²¡é”™ï¼Œæ•°ç°åœ¨ä½ è‡ªå·±æœ‰äº†å¤šå°‘<code>creeps</code>ï¼Œè€Œå®é™…ä¸Šéœ€è¦å¤šå°‘ã€‚å¦‚æœä¸å¤Ÿï¼Œå°±é€ ã€‚</p>
<blockquote>
<p>There are several ways to count the number of creeps of the required type. One of them is filtering <code>Game.creeps</code> with the help of the <code>_.filter</code> function and using the role in their memory. Letâ€™s try to do that and bring the number of creeps into the console.</p>
</blockquote>
<p>æœ‰å¾ˆå¤šç§æ–¹å¼è®©ä½ æ•°ä½ éœ€è¦çš„ç±»å‹çš„<code>creeps</code>æœ‰å¤šå°‘ä¸ªã€‚æœ€å¥½ç”¨çš„å°±æ˜¯åœ¨è¿‡æ»¤å™¨æˆå‘˜å‡½æ•°<code>filter</code>ååŠ©ä¸‹çš„<code>Game.creeps</code>å¯¹è±¡ã€‚åœ¨ä¸»æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡è¿‡æ»¤å®ƒä»¬çš„<code>memory</code>æ¥åˆ¤æ–­å®ƒä»¬æ˜¯å¦æ˜¯é€‚åˆçš„ç±»å‹ï¼ŒåŒæ—¶ï¼Œå””ï¼Œæ•°æ•°ã€‚</p>
<p>å¯èƒ½ç”¨åˆ°çš„ API ï¼š</p>
<blockquote>
<p>Game.creeps<br>
lodash.filter</p>
</blockquote>
<p>Code:</p>
<pre><code class="language-javascript">var roleHarvester = require('role.harvester');
var roleUpgrader = require('role.upgrader');

module.exports.loop = function () {

    var harvesters = _.filter(Game.creeps, (creep) =&gt; creep.memory.role == 'harvester');
    console.log('Harvesters: ' + harvesters.length);

    for(var name in Game.creeps) {
        var creep = Game.creeps[name];
        if(creep.memory.role == 'harvester') {
            roleHarvester.run(creep);
        }
        if(creep.memory.role == 'upgrader') {
            roleUpgrader.run(creep);
        }
    }
}
</code></pre>
<blockquote>
<p>Letâ€™s say we want to have at least two harvesters at any time. The easiest way to achieve this is to run <code>StructureSpawn.spawnCreep</code> each time we discover itâ€™s less than this number. You may not define its name (it will be given automatically in this case), but donâ€™t forget to define the needed role.</p>
</blockquote>
<p>æˆ‘ä»¬ç°åœ¨åŒæ—¶éœ€è¦ä¸¤ä¸ª<code>harvester</code>ã€‚æœ€æ–¹ä¾¿æ¥ä¿æŒè¿™ä¸ªçŠ¶æ€çš„æ–¹å¼å°±æ˜¯è®©ä¸»æ¨¡å—åœ¨æ¯æ¬¡å‘ç°<code>harvester</code>æ•°é‡ä¸å¤Ÿçš„æ—¶å€™æ‰§è¡Œ<code>StructureSpawn.spawnCreep</code>ã€‚åœ¨è¿™ä¸ªæ–¹æ³•çš„å¸®åŠ©ä¸‹ï¼Œæˆ‘ä»¬ç”šè‡³ä¸éœ€è¦ç»™å®ƒä»¬å‘½åï¼ˆæˆ‘ä»¬èƒ½å†™å‡ºè‡ªåŠ¨å‘½åç”¨çš„æ–¹æ³•ï¼‰ï¼Œåªè¦åˆ«å¿˜è®°å®šä¹‰è§’è‰²è¡Œä¸ºå°±è¡Œã€‚</p>
<blockquote>
<p>We may also add some new <code>RoomVisual</code> call in order to visualize what creep is being spawned.</p>
</blockquote>
<p>æˆ‘ä»¬è¿˜èƒ½æ·»åŠ ä¸€äº›æ–°çš„<code>RoomVisual</code>è°ƒç”¨æ¥å¯è§†åŒ–å“ªä¸€ç§<code>creep</code>æ­£åœ¨è¢«ç”Ÿäº§å‡ºæ¥ã€‚</p>
<p>è¿™é‡Œå¯èƒ½å¸®åˆ°å¿™çš„ API :</p>
<blockquote>
<p>StructureSpawn.spawnCreep<br>
RoomVisual</p>
</blockquote>
<p>Code:</p>
<pre><code class="language-javascript">var roleHarvester = require('role.harvester');
var roleUpgrader = require('role.upgrader');

module.exports.loop = function () {

    var harvesters = _.filter(Game.creeps, (creep) =&gt; creep.memory.role == 'harvester');
    console.log('Harvesters: ' + harvesters.length);

    if(harvesters.length &lt; 2) {
        var newName = 'Harvester' + Game.time;
        console.log('Spawning new harvester: ' + newName);
        Game.spawns['Spawn1'].spawnCreep([WORK,CARRY,MOVE], newName, 
            {memory: {role: 'harvester'}});        
    }
    
    if(Game.spawns['Spawn1'].spawning) { 
        var spawningCreep = Game.creeps[Game.spawns['Spawn1'].spawning.name];
        Game.spawns['Spawn1'].room.visual.text(
            'ğŸ› ï¸' + spawningCreep.memory.role,
            Game.spawns['Spawn1'].pos.x + 1, 
            Game.spawns['Spawn1'].pos.y, 
            {align: 'left', opacity: 0.8});
    }

    for(var name in Game.creeps) {
        var creep = Game.creeps[name];
        if(creep.memory.role == 'harvester') {
            roleHarvester.run(creep);
        }
        if(creep.memory.role == 'upgrader') {
            roleUpgrader.run(creep);
        }
    }
}
</code></pre>
<blockquote>
<p>Now letâ€™s try to emulate a situation when one of our harvesters dies. You can now give the command suicide to the creep via the console or its properties panel on the right.</p>
</blockquote>
<p>æˆ‘ä»¬ç°åœ¨æ¨¡æ‹Ÿä¸€ä¸‹å½“æˆ‘ä»¬çš„<code>harvesters</code>ä¸­çš„ä¸€ä½æ°¸è¿œåœ°ç¦»å¼€æˆ‘ä»¬çš„æƒ…å†µâ€¦â€¦å—¯ï¼Œç”¨æŸä¸ªæ–¹æ³•è®©å®ƒå½“åœºæŒ‚æ‰å°±è¡Œã€‚</p>
<p>å¯èƒ½ç”¨åˆ°çš„ API ï¼š</p>
<blockquote>
<p>Creep.suicide</p>
</blockquote>
<p>ï¼ˆæœ‰æ²¡æœ‰æ„Ÿåˆ°ä¸€ç§æ·±æ·±çš„æ¶æ„ï¼‰</p>
<pre><code class="language-javascript">Game.creeps['Harvester1'].suicide()
</code></pre>
<blockquote>
<p>As you can see from the console, after we lacked one harvester, the spawn instantly started building a new one with a new name.</p>
</blockquote>
<p>ä»æ§åˆ¶å°ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ¯å½“æˆ‘ä»¬ç¼ºä¹<code>harvester</code>æ—¶ï¼Œæˆ‘ä»¬çš„<code>spawn</code>å°±ä¼šè‡ªåŠ¨åœ°é€ ä¸€ä¸ªå…·å¤‡æ–°åå­—çš„<code>harvester</code>å‡ºæ¥ã€‚</p>
<blockquote>
<p>An important point here is that the memory of dead creeps is not erased but kept for later reuse. If you create creeps with random names each time it may lead to memory overflow, so you should clear it in the beginning of each tick (prior to the creep creation code).</p>
</blockquote>
<p>å¦å¤–çš„ä¸€ä¸ªé‡ç‚¹ï¼Œå°±æ˜¯ä½ çš„<code>creeps</code>å‡‰çš„æ—¶å€™ä¸ä¼šæ¸…ç©ºå®ƒæ‰€å ç”¨çš„å†…å­˜ç©ºé—´ã€‚ä¸€ä¸ªéšæœºåå­—çš„<code>creep</code>æŒ‚äº†ä¹‹åï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ã€‚ä¸ºäº†åº”å¯¹è¿™ä¸ªæƒ…å†µï¼Œä½ éœ€è¦ä¿®æ”¹ä¸»æ¨¡å—ï¼Œåœ¨æ¯ä¸ª<code>tick</code>çš„å¼€å§‹æ—¶è¿›è¡Œå†…å­˜åƒåœ¾å›æ”¶ï¼Œå®ƒçš„ä¼˜å…ˆçº§ç”šè‡³é«˜äºç”Ÿäº§å»ºé€ æ–°<code>creep</code>çš„æŒ‡ä»¤ã€‚</p>
<p>Code:</p>
<pre><code class="language-javascript">var roleHarvester = require('role.harvester');
var roleUpgrader = require('role.upgrader');

module.exports.loop = function () {

    for(var name in Memory.creeps) {
        if(!Game.creeps[name]) {
            delete Memory.creeps[name];
            console.log('Clearing non-existing creep memory:', name);
        }
    }

    var harvesters = _.filter(Game.creeps, (creep) =&gt; creep.memory.role == 'harvester');
    console.log('Harvesters: ' + harvesters.length);

    if(harvesters.length &lt; 2) {
        var newName = 'Harvester' + Game.time;
        console.log('Spawning new harvester: ' + newName);
        Game.spawns['Spawn1'].spawnCreep([WORK,CARRY,MOVE], newName, 
            {memory: {role: 'harvester'}});
    }
    
    if(Game.spawns['Spawn1'].spawning) { 
        var spawningCreep = Game.creeps[Game.spawns['Spawn1'].spawning.name];
        Game.spawns['Spawn1'].room.visual.text(
            'ğŸ› ï¸' + spawningCreep.memory.role,
            Game.spawns['Spawn1'].pos.x + 1, 
            Game.spawns['Spawn1'].pos.y, 
            {align: 'left', opacity: 0.8});
    }

    for(var name in Game.creeps) {
        var creep = Game.creeps[name];
        if(creep.memory.role == 'harvester') {
            roleHarvester.run(creep);
        }
        if(creep.memory.role == 'upgrader') {
            roleUpgrader.run(creep);
        }
    }
}
</code></pre>
<blockquote>
<p>Now the memory of the deceased is relegated to oblivion which saves us resources.</p>
</blockquote>
<p>æˆ‘å¾ˆé«˜å…´ä½ èŠ‚çœä¸‹äº†ä¸€ç‚¹å†…å­˜ã€‚<s>ä¸€ç›´èŠ‚çœå†…å­˜ï¼Œä½ å°±èƒ½å­˜ä¸‹é’±æ¥ä¹°ç”Ÿå‘å‰‚ã€‚</s></p>
<blockquote>
<p>Apart from creating new creeps after the death of old ones, there is another way to maintain the needed number of creeps: the method <code>StructureSpawn.renewCreep</code>. Creep aging is disabled in the Tutorial, so we recommend that you familiarize yourself with it on your own.</p>
</blockquote>
<p>å®é™…ä¸Šï¼Œé™¤äº†è®©æ—§çš„<code>creep</code>è€åŒ–æ­»æ‰æ—¶åˆ›å»ºæ–°çš„<code>creep</code>ï¼Œä½ è¿˜èƒ½ä½¿ç”¨<code>StructureSpawn.renewCreep</code>æ–¹æ³•è§£å†³é—®é¢˜ã€‚è€åŒ–åœ¨æ•™ç¨‹ä¸­è¢«ç¦ç”¨ï¼Œæ‰€ä»¥å»ºè®®è‡ªè¡Œç†Ÿæ‚‰ã€‚</p>
<p>ä¸ä¹‹ç›¸å…³çš„ APIï¼š</p>
<blockquote>
<p>StructureSpawn.renewCreep</p>
</blockquote>
<h2 id="å®ˆå«ä½ çš„æˆ¿é—´">å®ˆå«ä½ çš„æˆ¿é—´</h2>
<blockquote>
<p>The world of Screeps is not the safest place. Other players may have claims on your territory. Besides, your room may be raided by neutral NPC creeps occasionally. So you ought to think about your colony defense in order to develop it successfully.</p>
</blockquote>
<p>Screepsä¸­ï¼Œç©å®¶å¯ä»¥äº’ç›¸æ”»å‡»ï¼Œè¿˜ä¼šäº§ç”Ÿæ•Œå¯¹NPCã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å¼€å‘é˜²å¾¡è„šæœ¬ã€‚</p>
<blockquote>
<p>This hostile creep has come from the left entry and attacked your colony. Itâ€™s good that we have walls to restrain it temporarily. But they will fall sooner or later, so we need to deal with the problem.</p>
</blockquote>
<p>å…¥ä¾µè€…å·²ç»ä»å·¦ä¾§å…¥å£è¿›å…¥å¹¶å·²ç»åœ¨æ”»å‡»ä½ çš„é¢†åœ°ã€‚æˆ‘ä»¬æœ‰å¢™å¯ä»¥é˜²å¾¡ï¼Œä½†æ˜¯è¿™äº›å¢™è¿Ÿæ—©ä¼šå€’ä¸‹ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥ç§¯æåº”å¯¹è¿™ä¸€é—®é¢˜ã€‚</p>
<blockquote>
<p>The surest way to fend off an attack is using the room Safe Mode. In safe mode, no other creep will be able to use any harmful methods in the room (but youâ€™ll still be able to defend against strangers).</p>
</blockquote>
<p>ç›®å‰æœ€å¯é çš„é˜²å¾¡æ–¹å¼ï¼Œæ˜¯ä½¿ç”¨æˆ¿é—´å®‰å…¨æ¨¡å¼<code>room Safe Mode</code>ã€‚åœ¨å®‰å…¨æ¨¡å¼æ—¶é™å†…ï¼Œæ•Œäººçš„æ‰€æœ‰æœ‰å®³æ–¹æ³•éƒ½ä¼šè¢«é”æ­»ã€‚è¿™æ˜¯å¯¹äºé™Œç”Ÿæ¥è®¿è€…æœ€å¥½çš„é˜²å¾¡æ–¹å¼ã€‚</p>
<blockquote>
<p>The safe mode is activated via the room controller which should have activations available to use. Letâ€™s spend one activation to turn it on in our room.</p>
</blockquote>
<p>æˆ‘ä»¬éœ€è¦é€šè¿‡æˆ¿é—´æ§åˆ¶å™¨æ‰èƒ½æ‰“å¼€æˆ¿é—´å®‰å…¨æ¨¡å¼ã€‚è®©æˆ‘ä»¬è¯•è¯•ã€‚<s>(è¯•è¯•å°±é€ä¸–)</s></p>
<p>è¿™ä¸ªæ“ä½œæ‰€ç”¨çš„æ–¹æ³•æ¶‰åŠ APIï¼š</p>
<blockquote>
<p>StructureController.activateSafeMode</p>
</blockquote>
<p>è¿™ç§å³æ—¶æ€§å¼ºçš„ä»£ç ä½¿ç”¨æ§åˆ¶å°æ¥æ‰§è¡Œï¼š</p>
<p>Code:</p>
<pre><code class="language-javascript">Game.spawns['Spawn1'].room.controller.activateSafeMode();
</code></pre>
<blockquote>
<p>As you can see, the enemy creep stopped attacking the wall â€“ its harmful methods are blocked. We recommend that you activate safe mode when your defenses fail.</p>
</blockquote>
<p>å¯è§ï¼Œè¯¥æ•Œå¯¹<code>Creep</code>åœæ­¢æ”»å‡»å¢™å£ï¼Œä¸€åˆ‡æœ‰å®³è¡Œä¸ºå‡å·²é”å®šã€‚æˆ‘ä»¬å»ºè®®ä½ åœ¨é˜²å®ˆå¤±è´¥æ—¶æ¿€æ´»æˆ¿é—´å®‰å…¨æ¨¡å¼ã€‚</p>
<blockquote>
<p>Now letâ€™s cleanse the room from unwanted guests.</p>
</blockquote>
<p>é‚£ä¹ˆç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¸…é™¤ä¸å—æ¬¢è¿çš„å…¥ä¾µè€…ã€‚</p>
<blockquote>
<p>Towers are the easiest way to actively defend a room. They use energy and can be targeted at any creep in a room to attack or heal it. The effect depends on the distance between the tower and the target.</p>
</blockquote>
<p>å¡”æ˜¯ç§¯ææ´»è·ƒé˜²å¾¡æˆ¿é—´çš„ä¼˜ç§€æ–¹å¼ã€‚å®ƒä»¬æ¶ˆè€—èƒ½é‡ï¼Œå¹¶ä»¥<code>Creep</code>ä¸ºç›®æ ‡è¿›è¡Œç»´æŠ¤æˆ–æ”»å‡»ã€‚æ•ˆæœå–å†³äºå¡”ç¦»ç›®æ ‡çš„è·ç¦»</p>
<blockquote>
<p>To start with, letâ€™s lay a foundation for our new tower. You can set any place you wish inside the walls and place the construction site there with the help of the button â€œConstructâ€ on the upper panel.</p>
</blockquote>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬ä¸ºå»ºé€ æ–°å¡”æ‰“å¥½åŸºç¡€ã€‚ä½ èƒ½å¤Ÿä½¿ç”¨<code>Construct</code>è§†å›¾åœ¨å¢™å†…ä»»æ„ä½ç½®å»ºé€ ä¸€åº§å¡”ã€‚</p>
<p>API è°ƒç”¨å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>StructureTower<br>
Room.createConstructionSite</p>
</blockquote>
<p>Code:</p>
<pre><code class="language-javascript">Game.spawns['Spawn1'].room.createConstructionSite( 23, 22, STRUCTURE_TOWER );
</code></pre>
<blockquote>
<p>A tower uses energy, so letâ€™s set the harvester role to bring energy to the tower along with other structures. To do this, you need to add the constant STRUCTURE_TOWER to the filter of structures your harvester is aimed at.</p>
</blockquote>
<p>å¡”æ¶ˆè€—èƒ½æºã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹<code>Harvester</code>çš„æ¨¡å—ï¼Œä½¿è¯¥è§’è‰²å°†èƒ½æºå¸¦ç»™å¡”åŠå…¶ä»–ç»“æ„ã€‚</p>
<pre><code class="language-javascript">var roleHarvester = {

    /** @param {Creep} creep **/
    run: function(creep) {
	    if(creep.carry.energy &lt; creep.carryCapacity) {
            var sources = creep.room.find(FIND_SOURCES);
            if(creep.harvest(sources[0]) == ERR_NOT_IN_RANGE) {
                creep.moveTo(sources[0], {visualizePathStyle: {stroke: '#ffaa00'}});
            }
        }
        else {
            var targets = creep.room.find(FIND_STRUCTURES, {
                    filter: (structure) =&gt; {
                        return (structure.structureType == STRUCTURE_EXTENSION ||
                                structure.structureType == STRUCTURE_SPAWN ||
                                structure.structureType == STRUCTURE_TOWER) &amp;&amp; structure.energy &lt; structure.energyCapacity;
                    }
            });
            if(targets.length &gt; 0) {
                if(creep.transfer(targets[0], RESOURCE_ENERGY) == ERR_NOT_IN_RANGE) {
                    creep.moveTo(targets[0], {visualizePathStyle: {stroke: '#ffffff'}});
                }
            }
        }
	}
};

module.exports = roleHarvester;
</code></pre>
<blockquote>
<p>Excellent, your tower is ready to use!</p>
</blockquote>
<p>ä¼—æ‰€å‘¨çŸ¥ï¼Œå¡”æ¶ˆè€—å¤´å‘è€Œäº§ç”ŸæŸç§æ•ˆæœâ€¦â€¦å—¯ã€‚</p>
<blockquote>
<p>Like a creep, a tower has several similar methods: attack, heal, and repair. Each action spends 10 energy units. We need to use attack on the closest enemy creep upon its discovery. Remember that distance is vital: the effect can be several times stronger with the same energy cost!</p>
</blockquote>
<p>å°±åƒä¸€ä¸ª<code>Creep</code>ï¼Œå¡”å¯ä»¥æ”»å‡»ã€ç»™<code>Creep</code>å›å¤ç”Ÿå‘½ã€ç»´ä¿®å»ºç­‘ç‰©ã€‚æ¯ä¸€é¡¹æ–¹æ³•çš„æ‰§è¡Œå‡æ¶ˆè€—10å•ä½èƒ½é‡ã€‚æˆ‘ä»¬ç°åœ¨å¯¹å®ƒè¿›è¡Œè®¾å®šï¼Œä½¿å®ƒæ”»å‡»æœ€è¿‘çš„æ•Œäººã€‚è®°ä½ï¼Œå®ƒçš„æ•ˆæœå–å†³äºç¦»ç›®æ ‡çš„è·ç¦»ï¼</p>
<blockquote>
<p>To get the tower object directly you can use its ID from the right panel and the method <code>Game.getObjectById</code>.</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡å³è¾¹çš„é¢æ¿ä»¥åŠ API æ–¹æ³•<code>Game.getObjectById</code>æ¥æ“ä½œç›´æ¥è·å–å¡”å¯¹è±¡ã€‚</p>
<p>è¿™å›ç”¨åˆ°çš„ API ä¸å°‘ï¼š</p>
<blockquote>
<p>Game.getObjectById<br>
RoomObject.pos<br>
RoomPosition.findClosestByRange<br>
StructureTower.attack</p>
</blockquote>
<p>è¿™æ ·ä¿®æ”¹ä¸»æ¨¡å—ï¼š</p>
<pre><code class="language-javascript">var roleHarvester = require('role.harvester');
var roleUpgrader = require('role.upgrader');
var roleBuilder = require('role.builder');

module.exports.loop = function () {

    var tower = Game.getObjectById('d629245dccf490c645352fb6');
    if(tower) {
        var closestHostile = tower.pos.findClosestByRange(FIND_HOSTILE_CREEPS);
        if(closestHostile) {
            tower.attack(closestHostile);
        }
    }

    for(var name in Game.creeps) {
        var creep = Game.creeps[name];
        if(creep.memory.role == 'harvester') {
            roleHarvester.run(creep);
        }
        if(creep.memory.role == 'upgrader') {
            roleUpgrader.run(creep);
        }
        if(creep.memory.role == 'builder') {
            roleBuilder.run(creep);
        }
    }
}
</code></pre>
<p>å¯è§ï¼Œè¿™æ¬¡å¡”çš„ ID ä¸ºï¼š<code>d629245dccf490c645352fb6</code>ã€‚</p>
<blockquote>
<p>The enemy creep is eliminated and our colony can breathe easy. However, the invader has damaged some walls during the brief attack. Youâ€™d better set up auto-repair.</p>
</blockquote>
<p>æ•Œäººå·²ç»è¢«æ¶ˆç­ï¼Œä½†æ˜¯å®ƒç•™ä¸‹çš„ä¼¤å®³è¿˜æ²¡æœ‰è¢«ç£¨ç­ã€‚æ•Œå¯¹ç›®æ ‡æ”»å‡»äº†ä½ çš„å¢™ï¼Œå› æ­¤ä½ éœ€è¦ç»´æŠ¤å®ƒï¼Œä»¥åº”å¯¹ä¸‹ä¸€æ¬¡å…¥ä¾µã€‚å®é™…ä¸Šï¼Œå®ç°ä¸€ä¸ªè‡ªåŠ¨ä¿®å¤æ˜¯å¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<blockquote>
<p>Damaged structures can be repaired by both creeps and towers. Letâ€™s try to use a tower for that. Weâ€™ll need the method <code>repair</code>. You will also need the method <code>Room.find</code> and a filter to locate the damaged walls.</p>
</blockquote>
<p>å—ä¼¤çš„ç»“æ„ï¼Œèƒ½å¤Ÿè¢«<code>creeps</code>å’Œ<code>towers</code>ä¿®å¤ã€‚è®©æˆ‘ä»¬è¯•è¯•æˆ‘ä»¬è¿™åº§å¡”çš„<code>repair</code>æ–¹æ³•ã€‚åœ¨å®é™…çš„å®ç°è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>Room.find</code>æ–¹æ³•é…åˆè¿‡æ»¤å™¨æ‰¾åˆ°å¢™ä¸Šå—åˆ°æŸä¼¤çš„ä½ç½®ã€‚</p>
<p>APIï¼š</p>
<blockquote>
<p>Room.find<br>
StructureTower.repair</p>
</blockquote>
<p>ä¸»æ¨¡å—ä»£ç ï¼š</p>
<pre><code class="language-javascript">var roleHarvester = require('role.harvester');
var roleUpgrader = require('role.upgrader');
var roleBuilder = require('role.builder');

module.exports.loop = function () {

    var tower = Game.getObjectById('d629245dccf490c645352fb6');
    if(tower) {
        var closestDamagedStructure = tower.pos.findClosestByRange(FIND_STRUCTURES, {
            filter: (structure) =&gt; structure.hits &lt; structure.hitsMax
        });
        if(closestDamagedStructure) {
            tower.repair(closestDamagedStructure);
        }

        var closestHostile = tower.pos.findClosestByRange(FIND_HOSTILE_CREEPS);
        if(closestHostile) {
            tower.attack(closestHostile);
        }
    }

    for(var name in Game.creeps) {
        var creep = Game.creeps[name];
        if(creep.memory.role == 'harvester') {
            roleHarvester.run(creep);
        }
        if(creep.memory.role == 'upgrader') {
            roleUpgrader.run(creep);
        }
        if(creep.memory.role == 'builder') {
            roleBuilder.run(creep);
        }
    }
}
</code></pre>
<blockquote>
<p>All the damage from the attack has been repaired</p>
</blockquote>
<p>æˆ‘ä»¬æ³¨æ„åˆ°äº†ä½ å‘é‡è§åº•äº†ã€‚</p>
<blockquote>
<p>Congratulations, you have completed the Tutorial! Now you have enough knowledge and code to start playing in the online mode. Choose your room, found a colony, and set out on your own quest for domination in the world of Screeps!</p>
</blockquote>
<p>æ‰€ä»¥æ•™ç¨‹ç»“æŸäº†ã€‚æ­å–œä½ ï¼Œä½ å·²ç»ç»ƒæˆäº†è¿›å…¥ç§ƒå¤´æœåŠ¡å™¨çš„èƒ½åŠ›ã€‚é€‰æ‹©ä½ çš„æˆ¿é—´ï¼Œå»ºç«‹ä½ çš„é¢†åœ°ï¼Œè·Ÿæˆ‘ä»¬ä¸€èµ·è„±å‘å­ï¼</p>
<p>åœ¨è¿™äº›åœ°æ–¹ï¼Œä½ èƒ½ç»§ç»­æ‰¾åˆ°ä½ ä»¬éœ€è¦çš„ä¸œè¥¿ï¼š</p>
<blockquote>
<p>Documentation<br>
Community forums<br>
Slack chat</p>
</blockquote>
<blockquote>
<p>Have fun scripting!</p>
</blockquote>
<p>åœ¨è„±å‘ä¸­å¯»æ‰¾å¿«ä¹ï¼</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç¬”è®° : æœ€å°ç”Ÿæˆæ ‘ / Kruskalç®—æ³•]]></title>
        <id>https://malachiten.github.io/post/bi-ji-zui-xiao-sheng-cheng-shu-kruskal-suan-fa</id>
        <link href="https://malachiten.github.io/post/bi-ji-zui-xiao-sheng-cheng-shu-kruskal-suan-fa">
        </link>
        <updated>2019-10-08T07:10:37.000Z</updated>
        <summary type="html"><![CDATA[<p>OIå¸¸ç”¨ç®—æ³•ï¼Œæœ€å°ç”Ÿæˆæ ‘ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>OIå¸¸ç”¨ç®—æ³•ï¼Œæœ€å°ç”Ÿæˆæ ‘ã€‚</p>
<!-- more -->
<h2 id="æœ€å°ç”Ÿæˆæ ‘æ˜¯ä»€ä¹ˆ">æœ€å°ç”Ÿæˆæ ‘æ˜¯ä»€ä¹ˆ</h2>
<p>å¯¹äºä¸€ä¸ªè¿™æ ·çš„è¿é€šå›¾ï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://s2.ax1x.com/2019/10/08/ufgOiR.png" alt="graphFull.png"></figure>
<p>è¡¨æ ¼å½¢å¼ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">èµ·ç‚¹</th>
<th style="text-align:center">ç»ˆç‚¹</th>
<th style="text-align:center">æƒå€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">9</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">9</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">1</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">10</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">11</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">11</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">7</td>
<td style="text-align:center">4</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">6</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">6</td>
<td style="text-align:center">3</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">5</td>
<td style="text-align:center">6</td>
</tr>
</tbody>
</table>
<p>å®ƒçš„æå°è¿é€šå­å›¾ï¼Œå¯ä»¥è¡¨ç°ä¸ºä¸€æ£µæ ‘çš„å½¢å¼ï¼Œå³ä¸ºæœ€å°ç”Ÿæˆæ ‘(å¦‚ä¸‹å›¾æ‰€ç¤º)ã€‚</p>
<figure data-type="image" tabindex="2"><img src="https://s2.ax1x.com/2019/10/08/uf2tyT.png" alt="graphMini.png"></figure>
<p>çœ‹ä¸å‡ºè¿™æ˜¯ä¸€æ£µæ ‘ï¼Ÿçœ‹è¿™ä¸ªã€‚</p>
<figure data-type="image" tabindex="3"><img src="https://s2.ax1x.com/2019/10/08/ufRjKK.png" alt="trueTree.png"></figure>
<p>è¡¨æ ¼å½¢å¼ï¼š</p>
<table>
<thead>
<tr>
<th style="text-align:center">èµ·ç‚¹</th>
<th style="text-align:center">ç»ˆç‚¹</th>
<th style="text-align:center">æƒå€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">2</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">8</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">9</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">8</td>
<td style="text-align:center">9</td>
<td style="text-align:center">5</td>
</tr>
</tbody>
</table>
<p><s>çœ‹ï¼Œæ˜¯ä¸æ˜¯ç‰¹åˆ«å°ï¼Ÿ</s></p>
<p><s>ä½ è¯´æ˜¯ï¼Œå°±æ˜¯å§</s></p>
<h2 id="æˆ‘ä»¬æ€ä¹ˆç”Ÿæˆä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘å‘¢">æˆ‘ä»¬æ€ä¹ˆç”Ÿæˆä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘å‘¢ï¼Ÿ</h2>
<p>æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨å¤šç§ç®—æ³•ã€‚</p>
<p>å…¶ä¸­è¾ƒå¥½ç†è§£çš„æ˜¯ <em>Kruskal</em> ç®—æ³•ã€‚</p>
<h3 id="kruskalç®—æ³•">Kruskalç®—æ³•</h3>
<p>è¿™ç§ç®—æ³•çš„æ ¸å¿ƒæ˜¯ï¼Œå…ˆå»ºç«‹ä¸€ä¸ªç»“æ„ä½“<code>Edge</code>ç”¨æ¥æè¿°è¾¹ï¼š</p>
<pre><code class="language-cpp">struct Edge{
    int u,v,w;
    Edge(){}//æ•°ç»„ç”¨é»˜è®¤æ„é€ å‡½æ•°
    Edge(int t1,int t2,int t3){
        u=t1;
        v=t2;
        w=t3;
    }
    bool operator &lt; (const Edge &amp;other) const{
        return w&lt;other.w;
    }
}edges[10005];
</code></pre>
<p>å…¶ä¸­çš„<code>u</code>ä»£è¡¨äº†è¿™æ¡è¾¹çš„èµ·ç‚¹ï¼Œ<code>v</code>ä»£è¡¨äº†è¿™æ¡è¾¹çš„ç»ˆç‚¹ï¼Œ<code>w</code>ä»£è¡¨çš„åˆ™æ˜¯è¿™æ¡è¾¹çš„è¾¹æƒã€‚<strong>é‡è½½æ„é€ å‡½æ•°æ˜¯ä¸ºäº†ä»¥åå­˜è¾¹æ–¹ä¾¿</strong>ï¼Œè€Œ<strong>é‡è½½è¿ç®—ç¬¦åˆ™æ˜¯ä¸ºäº†è¾¹æƒæ’åºæ–¹ä¾¿</strong>ã€‚æ•°ç»„å°±æ˜¯è¾¹çš„<strong>å®ä¾‹</strong>ï¼Œç”¨æ¥è¿›è¡Œå­˜å‚¨ã€‚</p>
<p>æˆ‘ä»¬é€šè¿‡<strong>å¹¶æŸ¥é›†è¿è¾¹</strong>çš„æ–¹å¼ï¼Œå°†æ‰€æœ‰çš„é¡¶ç‚¹<strong>ä¾æƒå€¼æ¬¡åº</strong>ç›¸è¿ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ªå¹¶æŸ¥é›†ï¼š</p>
<pre><code class="language-cpp">int fa[10005];//é›†
int find(int x){//æŸ¥
    return fa[x]==x?x:fa[x]=find(fa[x]);
}
bool merge(int x,int y){//å¹¶
    int a=find(x),b=find(y);
    if(a!=b){
        fa[a]=b;
        return 1;//æˆåŠŸï¼Œè®°å½•
    }else{
        return 0;//å¤±è´¥ï¼Œæ”¾å¼ƒ
    }
}
</code></pre>
<p>è¿™é‡Œå¯èƒ½äº§ç”Ÿç–‘é—®ï¼šå¹¶æŸ¥é›†å®ç°ä¸­çš„<code>merge</code>å‡½æ•°ä¸åº”è¯¥åªæ˜¯ä¸ªåƒè¿™æ ·çš„<code>void</code>ç±»å‹çš„â€œå­˜å‚¨è¿‡ç¨‹â€å—ï¼Ÿ</p>
<pre><code class="language-cpp">void merge(int x,int y){
    fa[find(x)]=find(y);
}
</code></pre>
<p>ä¸ºä»€ä¹ˆè¦ç»™ä¸€ä¸ª<code>bool</code>ç±»å‹çš„è¿”å›å€¼å‘¢ï¼Ÿ</p>
<p>åŸå› å°±åœ¨äºä¹‹åçš„å¤„ç†å½“ä¸­ï¼Œçº¯ç²¹è´ªå¿ƒåœ°è¿æ¥<strong>æƒå€¼æœ€å°</strong>çš„è¾¹ï¼Œä¼šå‘ç”Ÿâ€œè¿æ¥å‡º<strong>ç¯</strong>â€çš„æƒ…å†µã€‚æ˜æ˜¾å¯ä»¥çœ‹å‡ºï¼š</p>
<blockquote>
<p>å‡ºç°æœ‰ç¯çš„å›¾ä¸æˆä¸ºæ ‘ã€‚</p>
</blockquote>
<p>ä¸ºäº†é¿å…è¿™ç§æƒ…å†µçš„å‘ç”Ÿï¼Œæˆ‘ä»¬éœ€è¦æ£€æŸ¥å³å°†è¿æ¥çš„è¿™ä¸€æ¡è¾¹çš„ä¸¤ä¸ªé¡¶ç‚¹<strong>æ˜¯å¦å·²ç»è¢«è¿æ¥åœ¨ä¸€ä¸ªå¹¶æŸ¥é›†ä¸­</strong>ã€‚æ­¤å¤„<code>merge</code>å‡½æ•°çš„è¿™ç§å†™æ³•ï¼Œå°±å®ç°äº†<strong>åˆ¤æ–­æ˜¯å¦å·²ç»è¿æ¥</strong>å’Œ<strong>å‘ŠçŸ¥ç¨‹åºä¸»ä½“éƒ¨åˆ†è¿æ¥çŠ¶å†µ</strong>çš„åŠŸèƒ½ã€‚æ˜¾è€Œæ˜“è§ï¼Œè¿”å›0ä»£è¡¨<strong>å·²ç»è¿è¿‡äº†</strong>ï¼Œæœ¬æ¬¡è¿æ¥å¤±è´¥ï¼Œéœ€è¦è·³ä¸‹ä¸€æ¡è¾¹ï¼›è¿”å›1è¡¨ç¤º<strong>ä¹‹å‰æ²¡æœ‰è¿æ¥è¿‡</strong>ï¼Œç°åœ¨è¿è¾¹æˆåŠŸã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å¾—å‡ºæˆ‘ä»¬çš„ä¸»å‡½æ•°:</p>
<pre><code class="language-cpp">int main(){
    int n/*è¾¹æ•°*/,m/*ç‚¹æ•°*/;
    cin&gt;&gt;n&gt;&gt;m;//åˆå§‹åŒ–
    //å­˜è¾¹
    for(int i=1;i&lt;=n;i++){
        int t1,t2,t3;
        cin&gt;&gt;t1&gt;&gt;t2&gt;&gt;t3;
        edges[i]=Edge(t1,t2,t3);
    }
    //æ’åº
    sort(edges+1,edges+n+1);
    //ç”Ÿæˆæ ‘
    for(int i=1;i&lt;=m-1;i++){
        if(!merge(edges[i].u,edges[i].v)){
            m++;
        }
    }
}
</code></pre>
<p>å¯¹äºâ€œç”Ÿæˆæ ‘â€è¿™ä¸€ç¯èŠ‚ä¸­çš„å¾ªç¯é€€å‡ºæ¡ä»¶<code>i&lt;=m-1</code>ï¼Œå¯èƒ½ä¹Ÿä¼šäº§ç”Ÿä¸€äº›ç–‘æƒ‘ã€‚è¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ªå®šç†ï¼š</p>
<blockquote>
<p>å°†ä¸€ä¸ªå›¾ç”Ÿæˆæ ‘ï¼Œåˆ™å…¶æ€»è¾¹æ•°ä¸ºæ€»ç‚¹æ•°-1ã€‚</p>
</blockquote>
<p>åŒæ—¶ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæ¯æ¬¡é‡åˆ°è¿æ¥ä¸­å‡ºç°ç¯çš„æƒ…å†µï¼Œ<code>merge</code>éƒ½ä¸ä¼šè¿›è¡Œè¿æ¥ï¼Œè€Œæ˜¯æŠ¥å‘Š<code>main</code>å°†å˜é‡<code>m</code>çš„å€¼å¢åŠ 1ã€‚è¿™æ˜¯å› ä¸ºï¼Œæˆ‘ä»¬è·³è¿‡äº†è¿™æ¡è¾¹ï¼Œå°±<strong>ä¸€å®šè¦ä»åæ–¹åŠ ä¸€æ¡è¾¹æ¥è¡¥å¿</strong>ã€‚å¦åˆ™æœ€ç»ˆè¾¹æ•°æ¯æ¬¡è·³è¾¹éƒ½å‡å°‘1ï¼Œæ— æ³•ç”Ÿæˆå®Œæ•´çš„æ ‘ã€‚</p>
<p>è¿™å°±æ˜¯ç®—æ³•çš„åŸºç¡€å®ç°äº†ã€‚å®ƒæ²¡æœ‰è¾“å‡ºï¼Œä½†æ˜¯å®ƒèƒ½å¤Ÿæ‰¿æ¥å¤šæ•°çš„æœ€å°ç”Ÿæˆæ ‘ä»»åŠ¡ï¼šè®¾ç½®ä¸€ä¸ªå˜é‡<code>ans</code>ç”¨æ¥ä½œä¸ºæœ€ç»ˆçš„è¾“å‡ºç»“æœã€‚å¦‚æœè¦è¾“å‡ºè¾¹æ•°ï¼Œåˆ™åªéœ€æ¯æ¬¡è¿æ¥æˆåŠŸæ—¶<code>ans++</code>;å¦‚æœè¦è¾“å‡ºæ€»æƒå€¼ï¼Œåˆ™åœ¨è¿æ¥æˆåŠŸæ—¶<code>ans+=edges[i].w</code>å³å¯ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[C++é¢å‘å¯¹è±¡ / å°è£… ç»§æ‰¿ å¤šæ€]]></title>
        <id>https://malachiten.github.io/post/cmian-xiang-dui-xiang-feng-zhuang-ji-cheng-duo-tai</id>
        <link href="https://malachiten.github.io/post/cmian-xiang-dui-xiang-feng-zhuang-ji-cheng-duo-tai">
        </link>
        <updated>2019-10-07T12:27:41.000Z</updated>
        <summary type="html"><![CDATA[<p>æœ‰ä¸€è¯´ï¼Œç§° C++ å³ä¸º C with STLã€‚è¿˜æœ‰ä¸€è¯´ï¼ŒC++ ä¸º C with OOPã€‚OOP çš„æ ¸å¿ƒï¼Œå°±æ˜¯å°è£…ï¼Œç»§æ‰¿ï¼Œä¸å¤šæ€ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>æœ‰ä¸€è¯´ï¼Œç§° C++ å³ä¸º C with STLã€‚è¿˜æœ‰ä¸€è¯´ï¼ŒC++ ä¸º C with OOPã€‚OOP çš„æ ¸å¿ƒï¼Œå°±æ˜¯å°è£…ï¼Œç»§æ‰¿ï¼Œä¸å¤šæ€ã€‚</p>
<!-- more -->
<h2 id="å¼•å…¥">å¼•å…¥</h2>
<p>æˆ‘ä»¬ä»¥ä¸€ä¸ªå½¢è±¡çš„ä¾‹å­æ¥ä»‹ç»è¿™å‡ ä¸ªç‰¹æ€§ã€‚</p>
<h3 id="ä¸€-æ˜¾è€Œæ˜“è§çš„æ•…äº‹">ä¸€ æ˜¾è€Œæ˜“è§çš„æ•…äº‹</h3>
<p>ä½œä¸ºä¸€ä¸ª<s>æ²‰è¿·å­¦ä¹ çš„å¥½å­©å­</s>ï¼Œä½ å¯¹äº<s>å¦‚ä½•è—åŒ¿ä½ çš„æ‰‹æœº</s>å¾—å¿ƒåº”æ‰‹ã€‚</p>
<p>åœ¨ä½ çš„æˆ¿é—´ä¸­ï¼Œæœ‰ä¸€å¼ <strong>åºŠ</strong>ã€ä¸€å¼ <strong>ä¹¦æ¡Œ</strong>ä¸€ä¸ª<strong>å¤§å¤§çš„è¡£æŸœ</strong>ï¼Œè¿˜æœ‰ä¸€ä¸ª<strong>ä¹¦æŸœ</strong>ã€‚</p>
<p><strong>ä½ çš„å­¦ä¹ ç”¨å“å‡å‚¨å­˜åœ¨ä¹¦æŸœä¸­</strong>ã€‚</p>
<p><strong>ç”Ÿæ´»ç”¨å“å‡å‚¨å­˜åœ¨è¡£æŸœä¸­</strong>ã€‚</p>
<p>ä½ çš„_å®¶é•¿_ä¸ºäº†æ£€æŸ¥ä½ çš„å­¦ä¹ ï¼Œä¼šç»å¸¸<strong>ç¿»ä½ çš„ä¹¦æŸœå’Œä¹¦æ¡Œ</strong>ã€‚</p>
<p>è€Œæˆ‘ä»¬ç°åœ¨å‡è®¾ä»–ä»¬å®Œå…¨ä¸ç®¡ä½ çš„æ—¥å¸¸ç”Ÿæ´»ï¼Œå› è€Œ<strong>å‡ ä¹</strong>ä¸ç®¡ä½ çš„è¡£æŸœå’ŒåºŠæ¿åº•ä¸‹ã€‚</p>
<p>åŒæ—¶ï¼Œä½ çš„_å®¶é•¿_è¿˜è‡ªè¯©äºé‡è§†ä½ çš„éšç§ï¼Œå› æ­¤ä»–ä»¬è¿˜å°†<strong>ä»æ¥ä¸ç¿»ä½ è‡ªå·±èº«ä¸Šçš„åŒ…</strong>â€œå¼•ä»¥ä¸ºå‚²â€ï¼Œä½œä¸ºä¸å…¶ä»–å®¶é•¿çš„è°ˆèµ„ã€‚</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å¿…å®šå¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®º</p>
<blockquote>
<p>ä½ çš„æ‰‹æœº<strong>å¿…å®šæ”¾åœ¨ä½ çš„è¡£æŸœã€åºŠæ¿åº•ä¸‹æˆ–è€…è‡ªå·±çš„èº«ä¸Š</strong>ã€‚è¿™èƒ½å¤Ÿä¿è¯ä½ çš„æ‰‹æœºä¸€ç›´å®‰å…¨ã€‚</p>
</blockquote>
<p>è¿™æ˜¯ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„ç»“è®ºã€‚ç„¶è€Œè®©æˆ‘ä»¬å°†æƒ…å†µå˜å¾—æ›´å¤æ‚ä¸€ç‚¹ï¼š</p>
<p>ä½ çš„åŒå­¦ä»¬ä¸­ï¼Œæœ‰ä¸€äº›_å¥½æœ‹å‹_ä¼šåˆ°ä½ çš„å®¶ä¸­ç©ã€‚ä¸€å¾—åˆ°éš¾å¾—çš„å…³ä¸Šè‡ªå·±æˆ¿é—´é—¨çš„æœºä¼šï¼Œä½ å°±æ‹¿å‡ºæ‰‹æœºè·Ÿ_æœ‹å‹_ä¸€èµ·ç©ã€‚_æœ‹å‹_ä¸´èµ°æ—¶ï¼Œä»–<strong>è¯¢é—®ä½ è—åŒ¿æ‰‹æœºçš„æŠ€å·§</strong>ï¼Œäºæ˜¯ä½ <strong>å‘Šè¯‰äº†ä»–ä½ çš„å¤§éƒ¨åˆ†æŠ€å·§</strong>ã€‚</p>
<p>ä¸è¿‡ï¼Œå› ä¸ºæœ‹å‹çš„ä¸åŒï¼Œä½ å‘Šè¯‰ä¸åŒçš„æœ‹å‹ä¸åŒçš„æŠ€å·§ã€‚ä½ æŠŠæ‰‹æœºæ”¾åœ¨èº«ä¸Šçš„äº‹ï¼Œå´å› ä¸ºä½ ä¸ä¿è¯_æœ‹å‹A_çš„å®¶é•¿æ˜¯å¦å¯¹ä»–æœèº«ï¼Œè€Œæç¤ºä»–ä¸è¦è—åœ¨èº«ä¸Šã€‚_æœ‹å‹B_å®¶æ›´æ³¨é‡å­©å­éšç§ï¼Œå› æ­¤ä»ä¸è¿›ä»–çš„æˆ¿é—´ï¼Œåˆ™å¯ä»¥å‘Šè¯‰ä»–å…¨éƒ¨çš„æŠ€å·§ã€‚è€Œä»–ä¹Ÿä¸å¿…æå¿ƒåŠèƒ†åœ°è—åœ¨èº«ä¸Šã€‚</p>
<p>äºæ˜¯ï¼Œä½ çš„_æœ‹å‹A_å…·æœ‰äº†è¿™æ ·çš„è—åŒ¿æ‰‹æœºæŠ€å·§ï¼š</p>
<blockquote>
<p>æŠŠæ‰‹æœºæ”¾åœ¨è¡£æŸœé‡Œé¢æˆ–è€…åºŠæ¿ä¸‹é¢ã€‚</p>
</blockquote>
<p>_æœ‹å‹B_å˜æˆè¿™æ ·ï¼š</p>
<blockquote>
<p>æŠŠæ‰‹æœºæ”¾åœ¨ä¹¦æ¡Œã€ä¹¦æŸœã€è¡£æŸœæˆ–è€…åºŠä¸Šã€‚</p>
</blockquote>
<p>åŒæ—¶æˆ‘ä»¬è¿˜å‘ç°ï¼Œä½ éœ€è¦æ‚„æ‚„ç©æ‰‹æœºï¼Œä½†æ˜¯å¯¹äºæ‰‹æœºçš„é¢‘ç¹è½¬ç§»ï¼Œå¹¶æ²¡æœ‰ä»€ä¹ˆéœ€æ±‚ã€‚ä¸è¿‡ä½ è¿˜æ˜¯å‘Šè¯‰äº†ä»–ä»¬å‡ ä¸ªæŠ€å·§ä¾›ä»–ä»¬é€‰æ‹©ã€‚</p>
<p>åæ¥ä½ çš„æ‰‹æœºè¢«å‘ç°äº†ï¼Œä¸è¿‡ä½ çš„æœ‹å‹ä»¬å°†ä½ çš„æŠ€èƒ½å‘æ‰¬å…‰å¤§ï¼Œ<s>ä»£ä»£ç›¸ä¼ </s>ã€‚(å¤§é›¾)</p>
<h3 id="äºŒ-æŠ½è±¡è¿™ä¸ªæ•…äº‹">äºŒ æŠ½è±¡è¿™ä¸ªæ•…äº‹</h3>
<p>ä¹‹å‰ä¹Ÿè¯´è¿‡ï¼šç»è¿‡æŠ½è±¡,å°±èƒ½ç ”ç©¶äº‹ç‰©çš„æœ¬è´¨ä¸è§„å¾‹ã€‚</p>
<p>æŠ½è±¡çš„ä¸€èˆ¬æ–¹æ³•ï¼š</p>
<blockquote>
<ol>
<li>å¿½ç•¥äº‹ç‰©ä¸­ä¸å½“å‰é—®é¢˜æˆ–ç›®æ ‡æ— å…³çš„ç‰¹ç‚¹,é›†ä¸­è€ƒè™‘æœ‰å…³ã€‚</li>
<li>å¿½ç•¥éæœ¬è´¨çš„ç‰¹å¾,æŠ½å–æœ¬è´¨æ€§ç‰¹å¾</li>
<li>ä»ä¸ªä½“æŠŠæ¡ä¸€èˆ¬,ä»äº‹ç‰©æŠŠæ¡æœ¬è´¨</li>
</ol>
</blockquote>
<p>ç”±æ­¤ï¼Œè¿™ä¸ªå…¸ä¾‹äº‹ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æŠ½è±¡ï¼š</p>
<p>å°†ä½ çš„æˆ¿é—´çœ‹åšä¸€ä¸ª<strong>ç±»</strong>( <em>class</em> )ã€‚è¿™ä¸ªç±»æœ‰å¦‚ä¸‹çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>å…¶ä¸­çš„â€œä¹¦æŸœâ€å’Œâ€œä¹¦æ¡Œâ€æ˜¯<strong>ä»»ç”±å¤–éƒ¨è®¿é—®</strong>çš„æˆå‘˜ã€‚è¿™æ ·çš„æˆå‘˜ï¼Œç§°ä¸º<code>public</code>æˆå‘˜ã€‚</li>
<li>â€œåºŠâ€å’Œâ€œè¡£æŸœâ€ç¦æ­¢<strong>é™¤äº†ä½ çš„æœ‹å‹ä»¥å¤–çš„äººè®¿é—®</strong>ã€‚è¿™æ ·çš„ç§°ä¸º<code>protected</code>æˆå‘˜ã€‚</li>
<li>â€œè‡ªå·±èº«ä¸Šâ€ç¦æ­¢<strong>ä¸€åˆ‡å¤–éƒ¨è®¿é—®</strong>ã€‚è¿™æ ·çš„åˆ™ç§°ä¸º<code>private</code>æˆå‘˜ã€‚</li>
</ul>
<p>é€šè¿‡ä¸¥æ ¼çš„å°†è¿™äº›å®¹å™¨ç»™<strong>å°è£…</strong>èµ·æ¥ï¼Œä½ ä¸¥æ ¼åœ°æ§åˆ¶äº†å¤–éƒ¨å¯¹äºä½ çš„æˆå‘˜çš„è®¿é—®ï¼Œä¿è¯äº†ä½ çš„æ‰‹æœºçš„å®‰å…¨ã€‚åŒæ—¶ï¼Œä½ çš„æœ‹å‹ä»¬åªéœ€è¦çŸ¥é“æ‰¾ä½ (æ¥å£)å°±å¯ä»¥è·Ÿä½ ä¸€èµ·ç©æ‰‹æœºï¼Œè€Œå¹¶ä¸éœ€è¦äº²è‡ªç¿»ç®±å€’æŸœ(äº†è§£æ¥å£å†…éƒ¨çš„å®ç°)ã€‚</p>
<p>è€Œä½ çš„æœ‹å‹ä»¬å›å®¶ä¹‹åå°±åœ¨ä»–çš„æˆ¿é—´ä¸Š<strong>ç»§æ‰¿</strong>äº†ä½ æˆ¿é—´çš„ç‰¹æ€§ã€‚è¿™æ—¶ï¼Œå¯ä»¥å°†ä½ è‡ªå·±çš„æˆ¿é—´ç§°ä¸ºä»–ä»¬ç»§æ‰¿çš„â€œåŸºç±»â€ã€‚ç›¸å¯¹è€Œè¨€ï¼Œä»–ä»¬çš„æˆ¿é—´å°±å˜æˆäº†â€œæ´¾ç”Ÿç±»â€ã€‚</p>
<p>_A_çš„æˆ¿é—´å…·æœ‰äº†<strong>é™¤äº†è·Ÿä½ èº«ä¸Šä»¥å¤–çš„ä¸€åˆ‡ç‰¹æ€§</strong>ã€‚ä»–ä¹Ÿå…·æœ‰äº†ä½ çš„<code>public</code>å’Œ<code>protected</code>å±æ€§ï¼Œåªæœ‰<code>private</code>å±æ€§ä¸èƒ½è¢«ç»§æ‰¿ä¸‹æ¥ã€‚è¿™æ ·çš„ç»§æ‰¿æ–¹å¼ï¼Œè¢«ç§°ä¸º<code>public</code>ç»§æ‰¿ã€‚</p>
<p>_B_çš„æˆ¿é—´ä¸­ï¼Œæ‰‹æœºåˆ™ä¹Ÿå¯ä»¥æ”¾åœ¨ç›¸åŒçš„åœ°æ–¹ã€‚ä¸è¿‡ï¼Œæ˜¾ç„¶ï¼Œä»–çš„ä¹¦æŸœå’Œä¹¦æ¡Œç¦æ­¢<strong>é™¤äº†ä»–çš„æœ‹å‹ä»¥å¤–çš„äººè®¿é—®</strong>ã€‚å› è€Œï¼Œä½ çš„<code>public</code>æˆå‘˜å˜æˆäº†ä»–çš„<code>protected</code>æˆå‘˜ã€‚è¿™æ ·çš„ç»§æ‰¿æ–¹å¼ï¼Œåˆ™ç§°ä¸º<code>protected</code>ç»§æ‰¿ã€‚è¿™ç§ç»§æ‰¿æ–¹å¼ä¸­ï¼ŒåŸºç±»é™¤äº†<code>private</code>ä¹‹å¤–çš„æˆå‘˜éƒ½ä¼šå˜æˆæ´¾ç”Ÿç±»çš„<code>protected</code>æˆå‘˜ã€‚</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰<code>private</code>ç»§æ‰¿ï¼Œç”¨äº<s>è·ŸVimä¸€èµ·å¸®åŠ©ä¹Œå¹²è¾¾çš„å¯æ€œå„¿ç«¥</s>ã€‚æ‰€å¹¸ä½ æ²¡æœ‰è¿™æ ·çš„ä¸€ä¸ªæœ‹å‹ã€‚<s>ä¸ç„¶æˆ‘å°±æ‰“ä¸å®Œä»£ç äº†</s>æ˜¾ç„¶å¯è§ï¼Œå¯¹äºè¿™æ ·çš„äººè€Œè¨€ï¼Œä»–å®¶çš„ç©ºé—´éƒ½æ˜¯ä»–ä¸ä¸ºä»–äººè®¿é—®çš„çš„<code>private</code>æˆå‘˜ã€‚ä»–ä¹Ÿæ²¡æœ‰å¿…è¦å»ç»§æ‰¿ä½ çš„<code>private</code>ã€‚</p>
<p>ä¸æ­¤åŒæ—¶ï¼Œä»–ä»¬ç»§æ‰¿äº†ä½ çš„è½¬ç§»æ‰‹æœºæ–¹æ³•ã€‚ä½ çš„è½¬ç§»æ‰‹æœºæ–¹æ³•å› ä¸ºæ²¡æœ‰å¿…è¦è€Œå¹¶ä¸èƒ½æ‰§è¡Œ(å› æ­¤æ˜¯ä¸€ä¸ªè™šæ‹Ÿå‡½æ•°)ï¼Œè€Œä½ çš„æœ‹å‹ä»¬å°†å…¶é‡è½½è€Œå‘å±•å¼€æ¥ã€‚è¿™å°±æ˜¯ç”±åŸºç±»æä¾›çº¯ç²¹çš„æ¥å£è€Œæ´¾ç”Ÿç±»é€šè¿‡é‡è½½èµ‹äºˆå…¶å®é™…ä½œç”¨çš„<strong>å¤šæ€</strong>ç‰¹æ€§ã€‚</p>
<h2 id="è¯­æ³•">è¯­æ³•</h2>
<p>å¯¹äºåˆšåˆšçš„ä¾‹å­ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å†™æˆä¸€ä¸ªä¾‹ç¨‹æ¥ä½“ç°å°è£…å’Œç»§æ‰¿çš„è¯­æ³•ã€‚</p>
<pre><code class="language-cpp">class your_home{
    private:
        void play_phone(){}//ç©æ‰‹æœº
        int body;
    protected:
        virtual void transfer_phone()=0;//ä¸éœ€è¦çš„è½¬ç§»
        int bed,wardrobe;
    public:
        int desk,bookcase;
};
//å…¶å®è¿™ä¸ªæè¿°ä¸å¤ªå½¢è±¡â€”â€”ä½ çš„ç±»å¹¶ä¸èƒ½å®ä¾‹åŒ–ï¼Œå› ä¸ºå…¶åŒ…å«äº†ä¸€ä¸ªçº¯è™šå‡½æ•°transfer_phone()ï¼Œæ˜¯ä¸€ä¸ªçº¯è™šç±»/æŠ½è±¡ç±»ã€‚
class A_home:public your_home{
    private:
        void play_phone(){};//ç©æ‰‹æœº
    protected:
        void transfer_phone(){}//å®é™…çš„è½¬ç§»æ‰‹æœº
};
class B_home:protected your_home{
    private:
        void play_phone(){};//ç©æ‰‹æœº
        void transfer_phone(){}//è½¬ç§»æ‰‹æœº
};
class C_home:private your_home{
    private:
        void play_phone(){};//ç©æ‰‹æœº
        //æ²¡æœ‰å¿…è¦è½¬ç§»æ‰‹æœºäº†ã€‚
};
</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>é€šè¿‡è¿™ä¸ªå½¢è±¡åœ°ä¾‹å­ï¼Œæˆ‘ä»¬äº†è§£åˆ°äº†ç±»çš„è¿ç”¨ã€‚</p>
<ul>
<li>â€œå°è£…â€â€”â€”å°†æˆå‘˜å°è£…åœ¨å¯¹è±¡<code>public</code>ã€<code>protected</code>ã€<code>private</code>å±æ€§ä¹‹ä¸­ã€‚è¿™äº›å¯¹è±¡çš„å¼€å‘è€…å’Œä½¿ç”¨è€…åˆ†ç¦»ï¼Œä½¿ç”¨è€…åªéœ€è¦æ¥å…¥å¯¹è±¡æä¾›çš„<code>public</code>æ¥å£ï¼Œè€Œä¸ç”¨äº†è§£åˆ°å®ƒä»¬çš„å†…éƒ¨å®ç°ã€‚è¿™æ ·ä¹Ÿå®ç°äº†å¯¹äºå®ƒä»¬çš„ä¿æŠ¤ã€‚</li>
<li>â€œç»§æ‰¿â€â€”â€”æ´¾ç”Ÿç±»å¯ä»¥ç»§æ‰¿åŸºç±»çš„å±æ€§ã€‚åœ¨<code>public</code>ç»§æ‰¿ä¸­ï¼Œæ´¾ç”Ÿç±»ä¼šå°†åŸºç±»çš„<code>public</code>å±æ€§ä½œä¸ºè‡ªå·±çš„<code>public</code>å±æ€§ï¼Œä¹Ÿå¯ä»¥ç”¨ä½¿ç”¨æ´¾ç”Ÿç±»<code>public</code>æˆå‘˜å‡½æ•°çš„æ–¹å¼æ¥å¼•ç”¨åŸºç±»ä¸­çš„æˆå‘˜ã€‚è€Œåœ¨<code>protected</code>ç»§æ‰¿ä¸­ï¼Œæ´¾ç”Ÿç±»å°†åŸºç±»çš„<code>public</code>å±æ€§é™çº§ä¸º<code>protected</code>å±æ€§ï¼Œ<code>protected</code>ä¿æŒä¸å˜ï¼Œå¹¶åºŸå¼ƒ<code>private</code>ç±»å‹å±æ€§ã€‚<code>private</code>ç»§æ‰¿åªèƒ½å°†åŸºç±»çš„<code>public</code>å±æ€§å˜æˆè‡ªå·±çš„<code>private</code>å±æ€§ï¼Œå°†<code>protected</code>å’Œ<code>private</code>å…¨éƒ¨åºŸå¼ƒã€‚</li>
<li>â€œå¤šæ€â€â€”â€”åŸºç±»èƒ½å¤Ÿå®šä¹‰ä¸€ä¸ªç©ºçš„æ¥å£ï¼Œä¸‹æ”¾åˆ°æ´¾ç”Ÿç±»æ¥é€šè¿‡é‡è½½çš„æ–¹å¼å®ç°ã€‚è¿™å¯¹äºæŠ½è±¡æœ‰æå¤§çš„ç›Šå¤„ã€‚ä¸è¿‡è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœè¦å®ç°å½»åº•æŠ½è±¡ï¼Œå°±éœ€è¦æ˜ç¡®é€šè¿‡å®šä¹‰ä¸€ä¸ªçº¯è™šå‡½æ•°<code>virtual typename functionName()=0</code>ã€‚è¿™æ ·ä¼šä½¿è¿™ä¸ªåŸºç±»å˜æˆä¸€ä¸ªä¸èƒ½è¢«å®ä¾‹åŒ–çš„æŠ½è±¡ç±»(çº¯è™šç±»)ï¼Œåªæœ‰åŸºç±»å°†å…¶é‡è½½ç„¶åå®ä¾‹åŒ–åŸºç±»æ‰èƒ½å¾—åˆ°ä½“ç°ã€‚</li>
</ul>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç¬”è®° : ç¼–è¯‘åŸç† / å¼•è®º(1) [Ongoing]]]></title>
        <id>https://malachiten.github.io/post/bi-ji-bian-yi-yuan-li-yin-lun</id>
        <link href="https://malachiten.github.io/post/bi-ji-bian-yi-yuan-li-yin-lun">
        </link>
        <updated>2019-10-06T03:05:29.000Z</updated>
        <summary type="html"><![CDATA[<p>æ¯•ç«Ÿæ˜¯ç¥ä¹¦ï¼Œä¸å®¹æ˜“æ‡‚ã€‚<s>æ‰€ä»¥å’•äº†</s></p>
]]></summary>
        <content type="html"><![CDATA[<p>æ¯•ç«Ÿæ˜¯ç¥ä¹¦ï¼Œä¸å®¹æ˜“æ‡‚ã€‚<s>æ‰€ä»¥å’•äº†</s></p>
<!-- more -->
<h2 id="ç¼–è¯‘ç¨‹åº">ç¼–è¯‘ç¨‹åº</h2>
<p>ç¼–è¯‘ç¨‹åºç‰¹æŒ‡<strong>å°†é«˜çº§è¯­è¨€æºç¨‹åºç¿»è¯‘æˆä½çº§è¯­è¨€ç›®æ ‡ç¨‹åº</strong>çš„ç¿»è¯‘ç¨‹åº.</p>
<h3 id="ç¿»è¯‘ç¨‹åº">&quot;ç¿»è¯‘ç¨‹åº&quot;</h3>
<p>å°†ä¸€ç§è¯­è¨€çš„ç¨‹åº(æºè¯­è¨€ç¨‹åº)ç¿»è¯‘æˆå¦ä¸€ç§è¯­è¨€çš„ç¨‹åº(ç›®æ ‡è¯­è¨€ç¨‹åº).</p>
<h3 id="è§£é‡Šç¨‹åº">&quot;è§£é‡Šç¨‹åº&quot;</h3>
<p>ä¸äº§ç”Ÿç›®æ ‡ç¨‹åº,å°†æºè¯­è¨€ç¨‹åºé€æ¡å–å‡ºè¯­å¥å¹¶ç«‹å³æ‰§è¡Œçš„ç¨‹åº.è¿™æ˜¯å’Œç¼–è¯‘ç¨‹åºä¸ä¸€æ ·çš„.</p>
<h3 id="ç¼–è¯‘ç¨‹åºçš„ç§ç±»">ç¼–è¯‘ç¨‹åºçš„ç§ç±»</h3>
<ol>
<li>å¸®åŠ©æ‰¾å‡ºé”™è¯¯çš„ è¯Šæ–­ç¼–è¯‘ç¨‹åº</li>
<li>æä¾›ä¼˜åŒ–ç¼–è¯‘å¼€å…³çš„ ä¼˜åŒ–ç¼–è¯‘ç¨‹åº</li>
<li>äº¤å‰ç¼–è¯‘ç¨‹åº ç¼–è¯‘ç¨‹åº</li>
</ol>
<h3 id="å®¿ä¸»æœºä¸ç›®æ ‡æœº">å®¿ä¸»æœºä¸ç›®æ ‡æœº</h3>
<p>å®¿ä¸»æœº:ç¼–è¯‘ç¨‹åºè¿è¡Œçš„å¹³å°.</p>
<p>ç›®æ ‡æœº:ç›®æ ‡ä»£ç ç¨‹åºè¿è¡Œçš„å¹³å°.</p>
<h3 id="å¯å˜ç›®æ ‡çš„ç¼–è¯‘ç¨‹åº">å¯å˜ç›®æ ‡çš„ç¼–è¯‘ç¨‹åº</h3>
<p>èƒ½å¤Ÿé€šè¿‡ä¸åŒç¼–è¯‘å¼€å…³äº§ç”Ÿä¸åŒçš„ç›®æ ‡ä»£ç è€Œè¿è¡Œäºä¸åŒçš„ç›®æ ‡æœºä¸Šçš„ç¼–è¯‘ç¨‹åº,ç§°ä¸ºå¯å˜ç›®æ ‡çš„ç¼–è¯‘ç¨‹åº.</p>
<h3 id="è®¾è®¡è¯­è¨€çš„æµç¨‹">è®¾è®¡è¯­è¨€çš„æµç¨‹</h3>
<p>è®¾è®¡ç¨‹åºè®¾è®¡è¯­è¨€</p>
<ol>
<li>è®¾è®¡ç¨‹åºè®¾è®¡è¯­è¨€çš„è§„èŒƒ</li>
<li>è®¾è®¡å…¶ç¼–è¯‘ç¨‹åº</li>
</ol>
<h2 id="æŠ½è±¡çš„æ€ç»´">æŠ½è±¡çš„æ€ç»´</h2>
<p>ç»è¿‡æŠ½è±¡,å°±èƒ½ç ”ç©¶äº‹ç‰©çš„æœ¬è´¨ä¸è§„å¾‹.</p>
<h3 id="å¼•å…¥">å¼•å…¥</h3>
<ol>
<li>å¿½ç•¥ä¸å½“å‰é—®é¢˜æˆ–ç›®æ ‡æ— å…³çš„,é›†ä¸­è€ƒè™‘æœ‰å…³çš„</li>
<li>å¿½ç•¥éæœ¬è´¨çš„ç‰¹å¾,æŠ½å–æœ¬è´¨æ€§ç‰¹å¾</li>
<li>ä»ä¸ªä½“æŠŠæ¡ä¸€èˆ¬,ä»äº‹ç‰©æŠŠæ¡æœ¬è´¨</li>
</ol>
<blockquote>
<p>æ¯•åŠ ç´¢çš„ã€Šç‰›ã€‹çš„å˜åŒ–.<br>
ä¼¦æ•¦çš„åœ°é“å›¾çš„å˜åŒ–.(å„ä¸ªåŸå¸‚çš„åœ°é“åœ°å›¾)</p>
</blockquote>
<h3 id="å›¾çµæœº">å›¾çµæœº</h3>
<p>é€šè¿‡ä¸€æ¡æ— é™é•¿çš„<strong>çº¸å¸¦</strong>,ä¸€ä¸ª<strong>è¯»å†™å¤´</strong>,ä¸€ä¸ªæ§åˆ¶è¯»å†™å¤´çš„<strong>è§„åˆ™</strong>,å’Œä¸€ä¸ª<strong>çŠ¶æ€å¯„å­˜å™¨</strong>,æ¥å®Œæˆå„é¡¹çš„è®¡ç®—.æœ‰äº†è¿™ä¸ªæ¨¡å‹,å°±å¯ä»¥ç ”ç©¶è®¡ç®—çš„è¿‡ç¨‹çš„æœ¬è´¨.</p>
<blockquote>
<p>å¯¹&quot;å¯è®¡ç®—&quot;å’Œ&quot;ç®—æ³•&quot;çš„å®šä¹‰:&quot;å¦‚æœä¸€ä¸ªè¿‡ç¨‹<strong>èƒ½è¢«å›¾çµæœºæ‰§è¡Œ</strong>,åˆ™å…¶å¯è®¡ç®—/ä¸ºä¸€ä¸ªç®—æ³•&quot;</p>
</blockquote>
<h3 id="ç¼–è¯‘ç¨‹åºè®¾è®¡ä¸­çš„æŠ½è±¡">ç¼–è¯‘ç¨‹åºè®¾è®¡ä¸­çš„æŠ½è±¡</h3>
<p>æŠ½è±¡åœ¨ç¼–è¯‘ç¨‹åºè®¾è®¡ä¸­æ˜¯æ™®éçš„.å¦‚:å½¢å¼æ–‡æ³•,æœ‰é™è‡ªåŠ¨æœº......</p>
<h4 id="è‡ªåŠ¨åŒ–çš„æ€ç»´">è‡ªåŠ¨åŒ–çš„æ€ç»´</h4>
<p>æŠŠäº‹ç‰©æŠ½è±¡ä¹‹å,æŠŠæŠ½è±¡çš„äº‹ç‰©åœ¨è®¡ç®—æœºä¸Šå®ç°.æ˜¯å°†è®¡ç®—æ€ç»´ç‰©åŒ–çš„è¿‡ç¨‹.</p>
<p>ç¨‹åºçš„æœ¬è´¨æ˜¯ç”¨è‡ªåŠ¨åŒ–çš„æ€ç»´è§£å†³é—®é¢˜.</p>
<p>è‡ªåŠ¨åŒ–çš„æ€æƒ³,å¯ä»¥æŒ‡å¯¼ç¼–è¯‘ç¨‹åºè®¾è®¡,å¹¶æé«˜å¼€å‘çš„æ•ˆç‡.(è¯æ³•åˆ†æ,è¯­æ³•åˆ†æ,æœ‰é™è‡ªåŠ¨æœº)</p>
<h2 id="åˆ†è§£çš„æ€ç»´">åˆ†è§£çš„æ€ç»´</h2>
<p>å³æ¨¡å—åŒ–çš„æ€æƒ³.</p>
<p>å…ˆå°†é—®é¢˜æ¨¡å—åŒ–,åˆ†è§£ä¸ºå„ä¸ªå­é—®é¢˜,å¦‚æœå­é—®é¢˜è¶³å¤Ÿå°èƒ½å¤Ÿè§£å†³åˆ™è§£å†³,èƒ½ç»§ç»­åˆ†è§£åˆ™ç»§ç»­åˆ†è§£(å°†ç¼–è¯‘è¿‡ç¨‹åˆ†è§£ä¸ºä¸åŒçš„é˜¶æ®µ,å…ˆç”Ÿæˆä¸­é—´ä»£ç ,å†ç”Ÿæˆç›®æ ‡ä»£ç )</p>
<p>å®é™…ä¸Š,é€’å½’å°±æ˜¯è¿™æ ·çš„é—®é¢˜.å®é™…ä¸Š,é€’å½’æ±‚è§£çš„å­é—®é¢˜çš„ç»“æ„ä¸çˆ¶é—®é¢˜ç›¸åŒ.åªæ˜¯è§„æ¨¡å‡å°äº†.åœ¨ç¼–è¯‘çš„è¿‡ç¨‹ä¸­,å¹¿æ³›çš„è¿ç”¨äº†é€’å½’.(åº”ç”¨:é€’å½’ä¸‹é™åˆ†æ,è¯­æ³•åˆ¶å¯¼ç¿»è¯‘,åŸºäºæ ‘çš„éå†çš„å±æ€§è®¡ç®—)</p>
<h2 id="æƒè¡¡-æŠ˜ä¸­">æƒè¡¡ / æŠ˜ä¸­</h2>
<p>å¯¹äºç†è®ºä¸Šçš„è®¾è®¡,ç”±äºå®é™…é™åˆ¶æ¡ä»¶çš„å­˜åœ¨,å®é™…è®¾è®¡ä¼šä¸ç†è®ºè®¾è®¡æœ‰å·®åˆ«,å³éœ€è¦è¿™ç§æŠ˜ä¸­çš„æ€ç»´.</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç¬”è®° : æ¬§æ‹‰è·¯ [Ongoing]]]></title>
        <id>https://malachiten.github.io/post/bi-ji-ou-la-lu</id>
        <link href="https://malachiten.github.io/post/bi-ji-ou-la-lu">
        </link>
        <updated>2019-10-04T09:06:53.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ä»€ä¹ˆæ˜¯æ¬§æ‹‰è·¯">ä»€ä¹ˆæ˜¯æ¬§æ‹‰è·¯</h2>
<p>æ¬§æ‹‰è·¯æ˜¯æŒ‡ä»å›¾ä¸­ä»»æ„ä¸€ä¸ªç‚¹å¼€å§‹åˆ°å›¾ä¸­ä»»æ„ä¸€ä¸ªç‚¹ç»“æŸçš„è·¯å¾„ï¼Œå¹¶ä¸”å›¾ä¸­æ¯æ¡è¾¹é€šè¿‡çš„ä¸”åªé€šè¿‡ä¸€æ¬¡ã€‚</p>
<h2 id="æ€æ ·åˆ¤æ–­æœ‰æ¬§æ‹‰è·¯å­˜åœ¨">æ€æ ·åˆ¤æ–­æœ‰æ¬§æ‹‰è·¯å­˜åœ¨</h2>
<h3 id="æ— å‘å›¾">æ— å‘å›¾</h3>
<p>å›¾ä¸€å®šè¦è”é€šï¼Œä¸”:</p>
<p>æ‰€æœ‰é¡¶ç‚¹åº¦æ•°å‡ä¸ºå¶æ•°ï¼Œåˆ™å­˜åœ¨æ¬§æ‹‰å›è·¯</p>
<p>ä¸¤ä¸ªç‚¹åº¦æ•°ä¸ºå¥‡æ•°ï¼Œå…¶ä½™çš„ä¸ºå¶æ•°ï¼Œåˆ™å­˜åœ¨æ¬§æ‹‰é€šè·¯</p>
<h3 id="æœ‰å‘å›¾">æœ‰å‘å›¾</h3>
<p>å›¾è”é€šä¾ç„¶æ˜¯ä¸€ä¸ªå¿…è¦æ¡ä»¶ã€‚ä¸”:</p>
<p>æ¯ä¸ªç‚¹çš„å…¥åº¦ç­‰äºå‡ºåº¦ï¼Œåˆ™å­˜åœ¨æ¬§æ‹‰å›è·¯(ä»»æ„ä¸€ç‚¹æœ‰åº¦çš„ç‚¹éƒ½å¯ä»¥ä½œä¸ºèµ·ç‚¹)</p>
<p>é™¤æŸä¸¤ç‚¹å¤–ï¼Œæ‰€æœ‰å…¥åº¦ç­‰äºå‡ºåº¦ã€‚è¿™ä¸¤ç‚¹ä¸­ä¸€ç‚¹çš„å‡ºåº¦æ¯”å…¥åº¦å¤§ï¼Œå¦ä¸€ç‚¹çš„å‡ºåº¦æ¯”å…¥åº¦å°ï¼Œåˆ™å­˜åœ¨æ¬§æ‹‰é€šè·¯ã€‚å‡ºåº¦å¤§è€…æ˜¯èµ·ç‚¹ï¼Œå…¥åº¦å¤§è€…æ˜¯ç»ˆç‚¹ã€‚</p>
<h2 id="æ€æ ·æ‰¾åˆ°æ¬§æ‹‰è·¯">æ€æ ·æ‰¾åˆ°æ¬§æ‹‰è·¯</h2>
<p>ä¹‹å‰çš„å†…å®¹å¤§è‡´åªæ˜¯ç”¨äº<strong>å‘ç°è¯¥é¢˜ç›®åº”è¯¥ä½¿ç”¨æ¬§æ‹‰å›è·¯çš„æ–¹æ³•æ±‚è§£</strong>ã€‚</p>
<p>ä»¥ä¸‹å¯»æ‰¾æ–¹æ³•å‡å»ºç«‹åœ¨å‡è®¾å›¾ä¸­å­˜åœ¨æ¬§æ‹‰å›è·¯çš„åŸºç¡€ä¸Šï¼Œå…¶è‡ªèº«å¹¶ä¸èƒ½åˆ¤æ–­å›¾æ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚</p>
<p>ä»ä¸€ä¸ªéå­¤ç«‹çš„ç‚¹å¼€å§‹<em>DFS</em>ï¼Œç‚¹å¯ä»¥é‡å¤ç»è¿‡ï¼Œæ¯æ¬¡ä»»æ„èµ°ä¸€æ¡è¾¹ï¼Œå¹¶å°†è¿™æ¡è¾¹ä»é‚»æ¥è¡¨ä¸­åˆ å»ã€‚èµ°åˆ°ç›®æ ‡ç»ˆç‚¹(æ‰¾åˆ°æ¬§æ‹‰é€šè·¯)ï¼Œæˆ–è€…èµ°å›èµ·ç‚¹(æ‰¾åˆ°æ¬§æ‹‰å›è·¯)ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç¬”è®° : äºŒåˆ†å›¾åŒ¹é… / æœ€å¤§åŒ¹é…]]></title>
        <id>https://malachiten.github.io/post/bi-ji-er-fen-tu-pi-pei-zui-da-pi-pei</id>
        <link href="https://malachiten.github.io/post/bi-ji-er-fen-tu-pi-pei-zui-da-pi-pei">
        </link>
        <updated>2019-10-02T00:52:02.000Z</updated>
        <summary type="html"><![CDATA[<p>OI å¸¸ç”¨ç®—æ³•ï¼ŒäºŒåˆ†å›¾åŒ¹é…ã€‚</p>
]]></summary>
        <content type="html"><![CDATA[<p>OI å¸¸ç”¨ç®—æ³•ï¼ŒäºŒåˆ†å›¾åŒ¹é…ã€‚</p>
<!-- more -->
<h2 id="å®šä¹‰">å®šä¹‰</h2>
<h3 id="ä»€ä¹ˆæ˜¯äºŒåˆ†å›¾">ä»€ä¹ˆæ˜¯äºŒåˆ†å›¾</h3>
<p>ä»ç†è§£æ„ä¹‰ä¸Šï¼ŒäºŒåˆ†å›¾æ˜¯æŒ‡ä¸€ç§ç‰¹æ®Šçš„å›¾ï¼Œå…¶ä¸­çš„é¡¶ç‚¹å¯ä»¥è¢«åˆ’åˆ†åˆ°ä¸¤ä¸ªä¸åŒçš„é›†åˆä¸­ï¼ŒåŒæ—¶ï¼Œæ¯ä¸ªé¡¶ç‚¹éƒ½æœ‰ä¸€æ¡åˆ°å¦ä¸€ä¸ªé›†åˆä¸­çš„ç‚¹çš„è¾¹ã€‚</p>
<p>å…¶ç­‰æ•ˆç†è§£åˆ™æ˜¯ï¼Œå›¾ä¸­ä¸å«å…·æœ‰å¥‡æ•°è¾¹æ•°çš„ç¯ã€‚</p>
<p>å¯¹æ­¤ï¼Œç™¾åº¦ç™¾ç§‘çš„å®šä¹‰:</p>
<blockquote>
<p>äºŒåˆ†å›¾åˆç§°ä½œäºŒéƒ¨å›¾ï¼Œæ˜¯å›¾è®ºä¸­çš„ä¸€ç§ç‰¹æ®Šæ¨¡å‹ã€‚ è®¾G=(V,E)æ˜¯ä¸€ä¸ªæ— å‘å›¾ï¼Œå¦‚æœé¡¶ç‚¹Vå¯åˆ†å‰²ä¸ºä¸¤ä¸ªäº’ä¸ç›¸äº¤çš„å­é›†(A,B)ï¼Œå¹¶ä¸”å›¾ä¸­çš„æ¯æ¡è¾¹(iï¼Œj)æ‰€å…³è”çš„ä¸¤ä¸ªé¡¶ç‚¹iå’Œjåˆ†åˆ«å±äºè¿™ä¸¤ä¸ªä¸åŒçš„é¡¶ç‚¹é›†(i in A,j in B)ï¼Œåˆ™ç§°å›¾Gä¸ºä¸€ä¸ªäºŒåˆ†å›¾ã€‚</p>
</blockquote>
<h3 id="äºŒåˆ†å›¾åŒ¹é…æ˜¯å•¥æ„æ€">äºŒåˆ†å›¾åŒ¹é…æ˜¯å•¥æ„æ€</h3>
<p>è¿™æŒ‡çš„æ˜¯â€œäºŒåˆ†å›¾â€çš„â€œåŒ¹é…â€ã€‚â€œåŒ¹é…â€åˆ™æ˜¯å›¾è®ºä¸­çš„ä¸€ä¸ªå®šä¹‰:</p>
<blockquote>
<p>ä¸€ä¸ª<strong>åŒ¹é…</strong>æ˜¯ä¸€ä¸ªç”±è¾¹ç»„æˆçš„é›†åˆï¼Œå…¶ä¸­ä»»æ„ä¸¤æ¡è¾¹éƒ½æ²¡æœ‰å…¬å…±é¡¶ç‚¹ã€‚</p>
</blockquote>
<p>é™„: ç™¾åº¦ç™¾ç§‘çš„å®šä¹‰</p>
<blockquote>
<p>ç»™å®šä¸€ä¸ªäºŒåˆ†å›¾Gï¼Œåœ¨Gçš„ä¸€ä¸ªå­å›¾Mä¸­ï¼ŒMçš„è¾¹é›†{E}ä¸­çš„ä»»æ„ä¸¤æ¡è¾¹éƒ½ä¸ä¾é™„äºåŒä¸€ä¸ªé¡¶ç‚¹ï¼Œåˆ™ç§°Mæ˜¯ä¸€ä¸ªåŒ¹é…ã€‚</p>
</blockquote>
<h3 id="åŒ¹é…ç‚¹-åŒ¹é…è¾¹-æœªåŒ¹é…ç‚¹-æœªåŒ¹é…è¾¹">åŒ¹é…ç‚¹ã€åŒ¹é…è¾¹ã€æœªåŒ¹é…ç‚¹ã€æœªåŒ¹é…è¾¹</h3>
<p>æ˜¾ç„¶ï¼ŒåŒ¹é…ç‚¹æ˜¯æŒ‡åœ¨ä¸€ç§åŒ¹é…ä¸­ï¼Œè¿æœ‰åŒ¹é…è¾¹çš„ç‚¹ã€‚æœªåŒ¹é…ç‚¹ä¸ä¹‹ç›¸åï¼Œæ²¡æœ‰åŒ¹é…è¾¹ã€‚</p>
<p>åŒ¹é…è¾¹åˆ™æ˜¯å¯¹äºè¿æ¥åœ¨ä¸¤ä¸ªåŒ¹é…ç‚¹ä¹‹é—´ï¼Œæ»¡è¶³åŒ¹é…å®šä¹‰çš„ç‰¹å®šè¾¹ã€‚</p>
<p>å¦‚å›¾ï¼š</p>
<figure data-type="image" tabindex="1"><img src="https://s2.ax1x.com/2019/10/02/uaMNL9.png" alt="uaMNL9.png"></figure>
<p>åœ¨è¿™å¼ å›¾ä¸­ï¼Œæœ‰è¿™æ ·ä¸¤ç§åŒ¹é…æ–¹å¼:</p>
<table>
<thead>
<tr>
<th style="text-align:center">1</th>
<th style="text-align:center">2</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1â†’5</td>
<td style="text-align:center">1â†’4</td>
</tr>
<tr>
<td style="text-align:center">2â†’6</td>
<td style="text-align:center">2â†’6</td>
</tr>
<tr>
<td style="text-align:center">Null</td>
<td style="text-align:center">3â†’5</td>
</tr>
</tbody>
</table>
<p>é‚£ä¹ˆï¼ŒæŒ‰ç…§ç¬¬ä¸€ç§åŒ¹é…æ–¹å¼ï¼ŒåŒ¹é…ç‚¹æœ‰<code>1</code>,<code>2</code>,<code>4</code>,<code>6</code>è¿™4ä¸ª,å…¶ä»–ç‚¹å‡ä¸ºæœªåŒ¹é…ç‚¹ã€‚åŒ¹é…è¾¹æœ‰<code>1â†’5</code>,<code>2â†’6</code>è¿™ä¸¤æ¡,å…¶ä»–è¾¹å‡ä¸ºæœªåŒ¹é…è¾¹ã€‚</p>
<p>æŒ‰ç…§ç¬¬äºŒç§åŒ¹é…æ–¹å¼ï¼ŒåŒ¹é…ç‚¹å°±æœ‰<code>1</code>,<code>2</code>,<code>3</code>,<code>4</code>,<code>5</code>,<code>6</code>,å…¨éƒ¨åŒ¹é…å®Œäº†ã€‚åŒ¹é…è¾¹æœ‰<code>1â†’4</code>,<code>2â†’6</code>,<code>3â†’5</code>,å‰©ä¸‹çš„å…¶ä»–è¾¹å°±æ˜¯æœªåŒ¹é…è¾¹äº†ã€‚</p>
<p>å› ä¸º:</p>
<blockquote>
<p>æ—¢å¾—æ˜“è§å¹³å‡¡ï¼Œä»¿ç…§ä¸Šä¾‹æ˜¾ç„¶ã€‚ç•™ä½œä¹ é¢˜ç­”æ¡ˆç•¥ï¼Œè¯»è€…è‡ªè¯ä¸éš¾ã€‚</p>
</blockquote>
<p>(æ‰‹åŠ¨æ»‘ç¨½)</p>
<h3 id="æœ€å¤§åŒ¹é…-å®Œç¾åŒ¹é…">æœ€å¤§åŒ¹é… &amp; å®Œç¾åŒ¹é…</h3>
<p><strong>æœ€å¤§åŒ¹é…</strong>çš„å®šä¹‰:</p>
<blockquote>
<p>ä¸€ä¸ªå›¾æ‰€æœ‰åŒ¹é…ä¸­ï¼Œæ‰€å«åŒ¹é…è¾¹æ•°æœ€å¤šçš„åŒ¹é…ï¼Œç§°ä¸ºè¿™ä¸ªå›¾çš„æœ€å¤§åŒ¹é…ã€‚<br>
æ¯ä¸ªå›¾å¿…å®šå­˜åœ¨ä¸€ä¸ªæœ€å¤§åŒ¹é…ã€‚</p>
</blockquote>
<p>è€Œ<strong>å®Œç¾åŒ¹é…</strong>æ˜¯æŒ‡:</p>
<blockquote>
<p>å¦‚æœä¸€ä¸ªå›¾çš„æŸä¸ªåŒ¹é…ä¸­ï¼Œæ‰€æœ‰çš„é¡¶ç‚¹éƒ½æ˜¯åŒ¹é…ç‚¹ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªå®Œç¾åŒ¹é…ã€‚<br>
ä¸æ˜¯æ¯ä¸€ä¸ªå›¾éƒ½æœ‰å®Œç¾åŒ¹é…ã€‚<br>
å®Œç¾åŒ¹é…çš„ä»»ä½•ä¸€ä¸ªç‚¹éƒ½å·²ç»åŒ¹é…ï¼Œæ·»åŠ ä¸€æ¡æ–°çš„åŒ¹é…è¾¹ä¸€å®šä¼šä¸å·²æœ‰çš„åŒ¹é…è¾¹å†²çª</p>
</blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºå®Œç¾åŒ¹é…ä¸­æ‰€æœ‰é¡¶ç‚¹å‡ä¸ºåŒ¹é…ç‚¹ï¼Œæ‰€ä»¥ä¸€ä¸ªäºŒåˆ†å›¾çš„å®Œç¾åŒ¹é…ä¸€å®šæ˜¯è¿™ä¸ªå›¾çš„æœ€å¤§åŒ¹é…ã€‚ç„¶è€Œï¼Œä¸æ˜¯æ¯ä¸ªäºŒåˆ†å›¾éƒ½èƒ½å¤Ÿæ‰¾åˆ°å®ƒçš„å®Œç¾åŒ¹é…ï¼Œä½†æœ€å¤§åŒ¹é…ä¸€å®šå­˜åœ¨ã€‚å› æ­¤ï¼Œæ¯ä¸ªå›¾çš„æœ€å¤§åŒ¹é…ä¸ä¸€å®šæ˜¯å®Œç¾åŒ¹é…ã€‚</p>
<p>å› æ­¤ï¼ŒæŒ‰ç…§ä¸Šä¾‹:</p>
<p>ç¬¬ä¸€ç§åŒ¹é…æ–¹å¼ä»…ä»…æ˜¯ä¸€ç§å¸¸è§„çš„åŒ¹é…ã€‚</p>
<p>ç¬¬äºŒç§åŒ¹é…æ–¹å¼æ˜¯åŒ¹é…æ‰€æœ‰ç‚¹çš„å®Œç¾åŒ¹é…ã€‚<strong>å› æ­¤å®ƒåˆæ˜¯è¯¥å›¾çš„æœ€å¤§åŒ¹é…</strong>ã€‚</p>
<p>å› ä¸º:</p>
<blockquote>
<p>åä¹‹äº¦ç„¶åŒç†ï¼Œæ¨è®ºè‡ªç„¶æˆç«‹ã€‚ç•¥å»è¿‡ç¨‹QEDï¼Œç”±ä¸Šå¯çŸ¥è¯æ¯•ã€‚</p>
</blockquote>
<p>(æ‰‹åŠ¨æ»‘ç¨½)</p>
<p>éœ€è¦å‰ç½®äº†è§£çš„åŸºæœ¬å®šä¹‰å°±è¿™äº›äº†ã€‚</p>
<p>é‚£ä¹ˆï¼Œåˆ†æç®—æ³•å®ç°ã€‚</p>
<h2 id="ç®—æ³•å®ç°">ç®—æ³•å®ç°</h2>
<h3 id="ç®—æ³•ä»‹ç»">ç®—æ³•ä»‹ç»</h3>
<p>ä¸€èˆ¬ï¼Œæ±‚äºŒåˆ†å›¾æœ€å¤§åŒ¹é…çš„é—®é¢˜ç”±<strong>åŒˆç‰™åˆ©ç®—æ³•</strong>è§£å†³ã€‚</p>
<p>ä¸‹é¢æœ‰ä¸¤ä¸ª<strong>ä¸“ä¸ºè§£é‡Šè¯¥ç®—æ³•è€Œç”Ÿ</strong>(éåŸºç¡€)çš„æ¦‚å¿µ:</p>
<ul>
<li><strong>äº¤æ›¿è·¯</strong></li>
</ul>
<blockquote>
<p>è‹¥äºŒåˆ†å›¾ä¸­å­˜åœ¨ä¸€ç§è·¯å¾„ï¼Œå…¶èµ·ç‚¹æ˜¯ä¸€ä¸ªéåŒ¹é…ç‚¹ï¼Œè€Œ<strong>ä¾æ¬¡äº¤æ›¿</strong>ç»è¿‡éåŒ¹é…è¾¹ã€åŒ¹é…è¾¹ã€éåŒ¹é…è¾¹â€¦â€¦é‚£ä¹ˆè¿™æ ·çš„è·¯å¾„ç§°ä¸º<strong>äº¤æ›¿è·¯</strong>ã€‚</p>
</blockquote>
<ul>
<li><strong>å¢å¹¿è·¯</strong></li>
</ul>
<blockquote>
<p>è‹¥äºŒåˆ†å›¾ä¸­å­˜åœ¨ä¸€æ¡äº¤æ›¿è·¯ï¼Œå…¶ç»è¿‡ä¸€ä¸ª<strong>é™¤èµ·ç‚¹å¤–çš„</strong>éåŒ¹é…ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸€æ¡è·¯å¾„ç§°ä¸º<strong>å¢å¹¿è·¯</strong>ã€‚</p>
</blockquote>
<blockquote>
<p>æ³¨: (2019/10/2)å½“å‰æš‚æœªå¼€å§‹å­¦ä¹ <code>[ ç½‘ç»œæµ / æœ€å¤§æµ ]</code>çš„è¯¾ç¨‹ï¼Œä½†æ˜¯æ—©æœ‰è€³é—»ç½‘ç»œæµä¸­çš„å¢å¹¿è·¯ã€‚ä¸çŸ¥é“è¿™é‡Œæœ‰æ²¡æœ‰è”ç³»å‘¢ï¼Ÿ</p>
</blockquote>
<p>å¢å¹¿è·¯å…·æœ‰ä¸€ä¸ªæ€§è´¨: éåŒ¹é…è¾¹æ¯”åŒ¹é…è¾¹å¤šä¸€æ¡ã€‚ç”±æ­¤ï¼Œç ”ç©¶å¢å¹¿è·¯èƒ½æ”¹è¿›åŒ¹é…ã€‚æˆ‘ä»¬è¦åšçš„åªæ˜¯:</p>
<ol>
<li>å¯¹äºå½“å‰äº¤æ›¿è·¯ï¼Œæ‰¾åˆ°ä¸€æ¡å¢å¹¿è·¯ã€‚</li>
<li>æŠŠè¿™æ¡å¢å¹¿è·¯ä¸­çš„åŒ¹é…è¾¹å’ŒéåŒ¹é…è¾¹è°ƒæ¢(æŠŠåŒ¹é…è¾¹å˜æˆéåŒ¹é…è¾¹ï¼ŒéåŒ¹é…è¾¹å˜æˆåŒ¹é…è¾¹)ï¼Œç”±æ­¤é€ å‡ºä¸€æ¡æ–°çš„äº¤æ›¿è·¯ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬çš„è·¯å¾„é•¿åº¦å°±æ¯”åŸæ¥å¢åŠ äº†1ã€‚åŒ¹é…è¢«æ”¹è¿›äº†ã€‚</li>
<li>ä¸€ç›´ä»¥å½“å‰äº¤æ›¿è·¯ä¸ºåŸºç¡€é‡å¤æ‰¾å¢å¹¿è·¯ï¼Œä¸æ–­æ”¹è¿›åŒ¹é…ã€‚</li>
<li>å½“å½“å‰äº¤æ›¿è·¯æ‰¾ä¸åˆ°å¢å¹¿è·¯ï¼Œå³æ‰¾åˆ°æœ€å¤§åŒ¹é…ã€‚</li>
</ol>
<p>å®é™…ä¸Šï¼Œè¿™å°±æ˜¯<strong>å¢å¹¿è·¯å®šç†</strong>ã€‚åŒˆç‰™åˆ©ç®—æ³•æ­£æ˜¯åˆ©ç”¨è¯¥å®šç†çš„æµç¨‹æ¥æ‰¾åˆ°æœ€å¤§åŒ¹é…ã€‚</p>
<h3 id="æ¨¡æ¿ä»£ç å®ç°">æ¨¡æ¿ä»£ç å®ç°</h3>
<pre><code class="language-cpp">#include&lt;bits/stdc++.h&gt;
using namespace std;

//const prepare
const int N=101;

//prepare
int n/*é›†åˆ1ä¸­çš„ç‚¹æ•°*/,m/*é›†åˆ2ä¸­çš„ç‚¹æ•°*/,s/*è¾¹æ•°*/,l[N][N]/*é‚»æ¥çŸ©é˜µ*/,matching[N]/*å­˜å‚¨ä¸è¿™ä¸€ä¸ªç‚¹ç›¸åŒ¹é…çš„*/;

//kernel
bool dfs(int node){
    for(int i=1;i&lt;=n;i++){
        if(l[node][i]==1&amp;&amp;!vis[i]){
            vis[i]=1;
            if(!matching[i]||dfs(matching[i])){//èŠ‚ç‚¹ä»1å¼€å§‹çš„ã€‚å¦‚æœæ˜¯ä»0å¼€å§‹çš„,éœ€è¦å…ˆmemset(matching,-1,sizeof matching);,è¿™é‡Œ||çš„å·¦è¾¹åˆ¤matching[i]==-1
                matching[i]=node;
                return 1;
            }
        }
    }
    return 0;
}

//main process
int main(){
    cin&gt;&gt;s&gt;&gt;n&gt;&gt;m;
    for(int i=1;i&lt;=s;i++){
        int tmp1,tmp2;
        cin&gt;&gt;tmp1&gt;&gt;tmp2;
        l[tmp1][tmp2]=1;
        l[tmp2][tmp1]=1;//å¯¹äºæœ‰å‘å›¾å»é™¤è¿™å¥
    }
    int ans=0;
    for(int i=1;i&lt;=m;i++){
        if(!matching[i]){
            memset(vis,0,sizeof vis);
            ans+=dfs(i);//æœ‰å¢å¹¿è·¯åˆ™+1,æ— åˆ™+0
        }
    }
    cout&lt;&lt;ans&lt;&lt;endl;
}
</code></pre>
<h2 id="ä¾‹é¢˜-hdu2063">ä¾‹é¢˜ HDU2063</h2>
<h3 id="é¢˜ç›®æè¿°">é¢˜ç›®æè¿°</h3>
<p><code>RPG girls</code>ä»Šå¤©å’Œå¤§å®¶ä¸€èµ·å»æ¸¸ä¹åœºç©ï¼Œç»ˆäºå¯ä»¥åä¸Šæ¢¦å¯ä»¥æ±‚çš„è¿‡å±±è½¦äº†ã€‚å¯æ˜¯ï¼Œè¿‡å±±è½¦çš„æ¯ä¸€æ’åªæœ‰ä¸¤ä¸ªåº§ä½ï¼Œè€Œä¸”è¿˜æœ‰æ¡ä¸æˆæ–‡çš„è§„çŸ©ï¼Œå°±æ˜¯æ¯ä¸ªå¥³ç”Ÿå¿…é¡»æ‰¾ä¸ªä¸ªç”·ç”Ÿåš<code>partner</code>å’Œå¥¹åŒåã€‚ä½†æ˜¯ï¼Œæ¯ä¸ªå¥³å­©éƒ½æœ‰å„è‡ªçš„æƒ³æ³•ï¼Œä¸¾ä¸ªä¾‹å­æŠŠï¼Œ<code>Rabbit</code>åªæ„¿æ„å’Œ<code>XHD</code>æˆ–<code>PQK</code>åš<code>partner</code>ï¼Œ<code>Grass</code>åªæ„¿æ„å’Œ<code>linle</code>æˆ–<code>LL</code>åš<code>partner</code>ï¼Œ<code>PrincessSnow</code>æ„¿æ„å’Œ<code>æ°´åŸŸæµªå­</code>æˆ–<code>ä¼ªé…·å„¿</code>åš<code>partner</code>ã€‚è€ƒè™‘åˆ°ç»è´¹é—®é¢˜ï¼Œ<code>bossåˆ˜</code>å†³å®šåªè®©æ‰¾åˆ°<code>partner</code>çš„äººå»åè¿‡å±±è½¦ï¼Œå…¶ä»–çš„äººï¼Œå˜¿å˜¿ï¼Œå°±ç«™åœ¨ä¸‹é¢çœ‹ç€å§ã€‚èªæ˜çš„ACMerï¼Œä½ å¯ä»¥å¸®å¿™ç®—ç®—æœ€å¤šæœ‰å¤šå°‘å¯¹ç»„åˆå¯ä»¥åä¸Šè¿‡å±±è½¦å—ï¼Ÿ</p>
<h3 id="è¾“å…¥">è¾“å…¥</h3>
<p>è¾“å…¥æ•°æ®çš„ç¬¬ä¸€è¡Œæ˜¯ä¸‰ä¸ªæ•´æ•°<code>K</code>,<code>M</code>,<code>N</code>ï¼Œåˆ†åˆ«è¡¨ç¤ºå¯èƒ½çš„ç»„åˆæ•°ç›®ï¼Œå¥³ç”Ÿçš„äººæ•°ï¼Œç”·ç”Ÿçš„äººæ•°ã€‚<code>0&lt;K&lt;=1000</code>,<code>1&lt;=N</code>,<code>M&lt;=500</code>.æ¥ä¸‹æ¥çš„Kè¡Œï¼Œæ¯è¡Œæœ‰ä¸¤ä¸ªæ•°ï¼Œåˆ†åˆ«è¡¨ç¤ºå¥³ç”Ÿ<code>Ai</code>æ„¿æ„å’Œç”·ç”Ÿ<code>Bj</code>åš<code>partner</code>ã€‚æœ€åä¸€ä¸ª<code>0</code>ç»“æŸè¾“å…¥ã€‚</p>
<h3 id="è¾“å‡º">è¾“å‡º</h3>
<p>å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå¯ä»¥åä¸Šè¿‡å±±è½¦çš„æœ€å¤šç»„åˆæ•°ã€‚</p>
<h3 id="æ ·ä¾‹æ•°æ®">æ ·ä¾‹æ•°æ®</h3>
<h4 id="æ ·ä¾‹è¾“å…¥">æ ·ä¾‹è¾“å…¥</h4>
<p><code>6 3 3 1 1 1 2 1 3 2 1 2 3 3 1 0</code></p>
<h4 id="æ ·ä¾‹è¾“å‡º">æ ·ä¾‹è¾“å‡º</h4>
<p><code>3</code></p>
<h3 id="ä»£ç å®ç°">ä»£ç å®ç°</h3>
<p>å¼•ç”¨è‡ª<a href="https://article.itxueyuan.com/Aeava9">ä¹Œå…‹å…°å¤§é‡çŒª</a>çš„<a href="https://www.itxueyuan.com/">ITå­¦é™¢</a>åšå®¢,æœ‰æ”¹åŠ¨ã€‚</p>
<p><strong>å¯ä»¥çœ‹å‡ºæœ¬é¢˜åªéœ€è¦å®ç°æœ‰å‘å›¾çš„ç‰ˆæœ¬</strong></p>
<pre><code class="language-cpp">#include&lt;cstdio&gt;
#include&lt;string&gt;
#include&lt;iostream&gt;
using namespace std;

//const prepare
const int N = 505;

//normal prepare
int mat[N][N];
int boy[N];                                   //è®°å½•ç”·å­©iè¢«å¥³å­©é€‰æ‹©çš„å¥³å­©ç¼–å·ï¼Œæœªè¢«é€‰åˆ™0
int vis[N];                                   //å¾ˆå·§å¦™çš„ä½¿ç”¨ï¼Œæ¯æ¬¡è®°å½•ç”·å­©iæ˜¯å¦è¢«å ç”¨äº†
int k, m, n;

//kernel
bool dfs(int x){
    for(int i = 1; i &lt;= n; i++){              //éå†æ‰€æœ‰çš„ç”·ç”Ÿç¼–å· 
        if(mat[x][i] == 1 &amp;&amp; vis[i] == 0){    //å¦‚æœæœ‰è¿çº¿ä¸”boy[i]æ²¡æœ‰è¢«æœ¬æ¬¡æŸ¥æ‰¾éå†è¿‡ 
            vis[i] = 1;                       //å‡è®¾iå·boyè¢«éå†åˆ°äº† 
            if(boy[i] == 0 || dfs(boy[i])){   //å¦‚æœboy[i]æ²¡æœ‰è¢«å ç”¨æˆ–è€…èƒ½æŠŠå ç”¨boy[i]çš„äººæ¢ä¸€ä¸ªè¿çº¿ï¼ŒçŸ­è·¯åŸåˆ™å¦‚æœæ²¡æœ‰è¢«å ç”¨åˆ™ä¸ä¼šæ‰§è¡Œåé¢çš„éƒ¨åˆ† 
                boy[i] = x;                   //è¿™ä¸€æ­¥çš„ä½œç”¨æ˜¯æ‰§æ„è¦å°†boy[i]åŒ¹é…ç»™x(å°½å¯èƒ½ç»™è…¾ä½ç½®å‡ºæ¥ï¼Œå› ä¸ºå¥¹å¯èƒ½å äº†åˆ«çš„å¥³ç”Ÿç›¸åŒ¹é…çš„ç”·ç”Ÿ)        
                return true;
            } 
        }
    }
    return false;
}

//main process
int main(){
    while(scanf(&quot;%d&quot;, &amp;k) != EOF){
        if(k == 0) break;
        scanf(&quot;%d%d&quot;, &amp;m, &amp;n);
        memset(mat, 0, sizeof(mat));
        memset(boy, 0, sizeof(boy));           //boy[]æ•°ç»„å­˜æ”¾çš„æ˜¯å·²ç»åŒ¹é…å¥½çš„æ–¹æ¡ˆï¼Œå¦‚æœæ˜¯0åˆ™æœªåŒ¹é… 
        for(int i = 1; i &lt;= k; i++){
            int x, y;
            scanf(&quot;%d%d&quot;, &amp;x, &amp;y);
            mat[x][y] = 1;
        }
        int ans = 0;
        for(int i = 1; i &lt;= m; i++){
            memset(vis, 0, sizeof(vis));        //visæ¯ä¸€æ¬¡éƒ½å°†æ‰€æœ‰çš„ç”·ç”Ÿç¼–å·éƒ½æ ‡è®°ä¸ºæ²¡éå†è¿‡ï¼Œæ³¨æ„åŒºåˆ†vis[]å’Œboy[]æ•°ç»„åŠŸèƒ½çš„åŒºåˆ« 
            if(dfs(i)) ans++;                   //å¦‚æœèƒ½ç›´æ¥ç›¸è¿æˆ–åˆ«äººè…¾å‡ºä½ç½®æ€»æ•°+1 
        }
        printf(&quot;%dn&quot;, ans);
    }
    return 0;
} 
</code></pre>
]]></content>
    </entry>
</feed>